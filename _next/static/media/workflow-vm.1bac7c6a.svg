<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="902px" preserveAspectRatio="none" style="width:1579px;height:902px;background:#FFFFFF;" version="1.1" viewBox="0 0 1579 902" width="1579px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="890.2734" style="stroke:#181818;stroke-width:0.5;" width="158" x="1290" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="152" x="1293" y="18.5684">@temporalio/workflow</text><rect fill="#DDDDDD" height="890.2734" style="stroke:#181818;stroke-width:0.5;" width="123" x="1450" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99" x="1462" y="18.5684">user-workflow</text><rect fill="#FFFFFF" height="184.9082" style="stroke:#181818;stroke-width:1.0;" width="10" x="934" y="205.3516"/><rect fill="#FFFFFF" height="72.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1046" y="536.8125"/><rect fill="#FFFFFF" height="43.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1046" y="769.9863"/><rect fill="#FFFFFF" height="115.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1229.5" y="507.502"/><rect fill="#FFFFFF" height="86.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1229.5" y="740.6758"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="56.7988" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="186" x2="186" y1="56.7988" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="398" x2="398" y1="56.7988" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="581.5" x2="581.5" y1="56.7988" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="760.5" x2="760.5" y1="56.7988" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="938.5" x2="938.5" y1="56.7988" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1050.5" x2="1050.5" y1="244.0957" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1158" x2="1158" y1="56.7988" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1234" x2="1234" y1="373.5156" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1369" x2="1369" y1="56.7988" y2="845.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1511" x2="1511" y1="56.7988" y2="845.2969"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="5" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="12" y="45.8457">Worker</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="5" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="12" y="864.832">Worker</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="78" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="85" y="45.8457">ThreadedVMWorkflowCreator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="78" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="85" y="864.832">ThreadedVMWorkflowCreator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="305" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="312" y="45.8457">VMWorkflowThreadProxy</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="305" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="312" y="864.832">VMWorkflowThreadProxy</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="505.5" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="512.5" y="45.8457">WorkerThreadClient</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="505.5" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="512.5" y="864.832">WorkerThreadClient</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="667.5" y="8.8223"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="729.5" y="29.3574">«worker»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="674.5" y="45.8457">workflow-worker-thread</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="667.5" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="729.5" y="864.832">«worker»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="674.5" y="881.3203">workflow-worker-thread</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="863.5" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="870.5" y="45.8457">VMWorkflowCreator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="863.5" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="870.5" y="864.832">VMWorkflowCreator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="1024.5" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1031.5" y="864.832">Proxy</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="34" x="1141" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="1148" y="45.8457">vm</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="34" x="1141" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="1148" y="864.832">vm</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1185" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1192" y="864.832">VMWorkflow</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1304" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1311" y="45.8457">worker-interface</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1304" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1311" y="864.832">worker-interface</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1454" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1461" y="45.8457">user-workflow</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1454" y="844.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1461" y="864.832">user-workflow</text><rect fill="#FFFFFF" height="184.9082" style="stroke:#181818;stroke-width:1.0;" width="10" x="934" y="205.3516"/><rect fill="#FFFFFF" height="72.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1046" y="536.8125"/><rect fill="#FFFFFF" height="43.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1046" y="769.9863"/><rect fill="#FFFFFF" height="115.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1229.5" y="507.502"/><rect fill="#FFFFFF" height="86.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1229.5" y="740.6758"/><polygon fill="#181818" points="174.5,84.1094,184.5,88.1094,174.5,92.1094,178.5,88.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="36.5" x2="180.5" y1="88.1094" y2="88.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="43.5" y="83.3672">createWorkflow</text><polygon fill="#181818" points="386.5,113.4199,396.5,117.4199,386.5,121.4199,390.5,117.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="392.5" y1="117.4199" y2="117.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="193.5" y="112.6777">create</text><polygon fill="#181818" points="569.5,142.7305,579.5,146.7305,569.5,150.7305,573.5,146.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="398.5" x2="575.5" y1="146.7305" y2="146.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="405.5" y="141.9883">send('create-workflow')</text><polygon fill="#181818" points="748.5,172.041,758.5,176.041,748.5,180.041,752.5,176.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581.5" x2="754.5" y1="176.041" y2="176.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="588.5" y="171.2988">create-workflow</text><polygon fill="#181818" points="922,201.3516,932,205.3516,922,209.3516,926,205.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="760.5" x2="928" y1="205.3516" y2="205.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="767.5" y="200.6094">createWorkflow</text><polygon fill="#181818" points="1012.5,215.3516,1022.5,219.3516,1012.5,223.3516,1016.5,219.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="1018.5" y1="219.3516" y2="219.3516"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="1024.5" y="213.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1031.5" y="233.8867">Proxy</text><polygon fill="#181818" points="1039,272.1504,1049,276.1504,1039,280.1504,1043,276.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="1045" y1="276.1504" y2="276.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="951" y="271.4082">initRuntime</text><polygon fill="#181818" points="1146,301.4609,1156,305.4609,1146,309.4609,1150,305.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1051" x2="1152" y1="305.4609" y2="305.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1058" y="300.7188">runInContext</text><polygon fill="#181818" points="1357,330.7715,1367,334.7715,1357,338.7715,1361,334.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1158" x2="1363" y1="334.7715" y2="334.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="1165" y="330.0293">initRuntime</text><polygon fill="#181818" points="1173,344.7715,1183,348.7715,1173,352.7715,1177,348.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="1179" y1="348.7715" y2="348.7715"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1185" y="342.7715"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1192" y="363.3066">VMWorkflow</text><polygon fill="#181818" points="771.5,386.2598,761.5,390.2598,771.5,394.2598,767.5,390.2598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="765.5" x2="938" y1="390.2598" y2="390.2598"/><polygon fill="#181818" points="386.5,415.5703,396.5,419.5703,386.5,423.5703,390.5,419.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="36.5" x2="392.5" y1="419.5703" y2="419.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="43.5" y="414.8281">activate</text><polygon fill="#181818" points="569.5,444.8809,579.5,448.8809,569.5,452.8809,573.5,448.8809" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="398.5" x2="575.5" y1="448.8809" y2="448.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="405.5" y="444.1387">send('activate-workflow')</text><polygon fill="#181818" points="748.5,474.1914,758.5,478.1914,748.5,482.1914,752.5,478.1914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581.5" x2="754.5" y1="478.1914" y2="478.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="588.5" y="473.4492">activate-workflow</text><polygon fill="#181818" points="1217.5,503.502,1227.5,507.502,1217.5,511.502,1221.5,507.502" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="760.5" x2="1223.5" y1="507.502" y2="507.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="767.5" y="502.7598">activate</text><polygon fill="#181818" points="1067,532.8125,1057,536.8125,1067,540.8125,1063,536.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1061" x2="1228.5" y1="536.8125" y2="536.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="1073" y="532.0703">activate</text><polygon fill="#181818" points="1357,562.123,1367,566.123,1357,570.123,1361,566.123" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1056" x2="1363" y1="566.123" y2="566.123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="1063" y="561.3809">activate</text><polygon fill="#181818" points="1499.5,591.4336,1509.5,595.4336,1499.5,599.4336,1503.5,595.4336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1369" x2="1505.5" y1="595.4336" y2="595.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="1376" y="590.6914">moneyTransfer</text><polygon fill="#181818" points="1217.5,605.4336,1227.5,609.4336,1217.5,613.4336,1221.5,609.4336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1051" x2="1223.5" y1="609.4336" y2="609.4336"/><polygon fill="#181818" points="771.5,619.4336,761.5,623.4336,771.5,627.4336,767.5,623.4336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="765.5" x2="1233.5" y1="623.4336" y2="623.4336"/><polygon fill="#181818" points="386.5,648.7441,396.5,652.7441,386.5,656.7441,390.5,652.7441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="36.5" x2="392.5" y1="652.7441" y2="652.7441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="43.5" y="648.002">getAndResetSinkCalls</text><polygon fill="#181818" points="569.5,678.0547,579.5,682.0547,569.5,686.0547,573.5,682.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="398.5" x2="575.5" y1="682.0547" y2="682.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="405.5" y="677.3125">send('extract-sync-call')</text><polygon fill="#181818" points="748.5,707.3652,758.5,711.3652,748.5,715.3652,752.5,711.3652" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581.5" x2="754.5" y1="711.3652" y2="711.3652"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="588.5" y="706.623">extract-sync-call</text><polygon fill="#181818" points="1217.5,736.6758,1227.5,740.6758,1217.5,744.6758,1221.5,740.6758" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="760.5" x2="1223.5" y1="740.6758" y2="740.6758"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="767.5" y="735.9336">getAndResetSinkCalls</text><polygon fill="#181818" points="1067,765.9863,1057,769.9863,1067,773.9863,1063,769.9863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1061" x2="1228.5" y1="769.9863" y2="769.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1073" y="765.2441">getAndResetSinkCalls</text><polygon fill="#181818" points="1357,795.2969,1367,799.2969,1357,803.2969,1361,799.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1056" x2="1363" y1="799.2969" y2="799.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1063" y="794.5547">getAndResetSinkCalls</text><polygon fill="#181818" points="1217.5,809.2969,1227.5,813.2969,1217.5,817.2969,1221.5,813.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1051" x2="1223.5" y1="813.2969" y2="813.2969"/><polygon fill="#181818" points="771.5,823.2969,761.5,827.2969,771.5,831.2969,767.5,827.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="765.5" x2="1233.5" y1="827.2969" y2="827.2969"/><!--MD5=[330bf5fa06bb8cbe53619a8c09551f9d]
@startuml workflow-vm

participant Worker
participant ThreadedVMWorkflowCreator
participant VMWorkflowThreadProxy
participant WorkerThreadClient
participant "workflow-worker-thread" as workerThread <<worker>>
participant VMWorkflowCreator
participant Proxy
participant vm
participant VMWorkflow

box "@temporalio/workflow"
participant "worker-interface" as workerInterface
end box

box "user-workflow"
participant "user-workflow" as userWorkflow
end box

Worker -> ThreadedVMWorkflowCreator: createWorkflow
ThreadedVMWorkflowCreator -> VMWorkflowThreadProxy: create
VMWorkflowThreadProxy -> WorkerThreadClient: send('create-workflow')
WorkerThreadClient - -> workerThread: create-workflow
workerThread -> VMWorkflowCreator: createWorkflow
activate VMWorkflowCreator
VMWorkflowCreator -> Proxy**:
VMWorkflowCreator -> Proxy: initRuntime
Proxy -> vm: runInContext
vm -> workerInterface: initRuntime
VMWorkflowCreator -> VMWorkflow**
return

Worker ->  VMWorkflowThreadProxy: activate
VMWorkflowThreadProxy -> WorkerThreadClient: send('activate-workflow')
WorkerThreadClient - -> workerThread: activate-workflow
workerThread -> VMWorkflow: activate
activate VMWorkflow
VMWorkflow -> Proxy: activate
activate Proxy
Proxy -> workerInterface: activate
workerInterface -> userWorkflow: moneyTransfer
return
return

Worker ->  VMWorkflowThreadProxy: getAndResetSinkCalls
VMWorkflowThreadProxy -> WorkerThreadClient: send('extract-sync-call')
WorkerThreadClient - -> workerThread: extract-sync-call
workerThread -> VMWorkflow: getAndResetSinkCalls
activate VMWorkflow
VMWorkflow -> Proxy: getAndResetSinkCalls
activate Proxy
Proxy -> workerInterface: getAndResetSinkCalls
return
return

@enduml

PlantUML version 1.2022.7(Tue Aug 23 02:01:30 KST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ko
Country: KR
--></g></svg>