
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>SwForge&#39;s Note</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="SwForge">
    

    
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="SwForge's Note">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="SwForge's Note">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SwForge's Note">
<meta name="twitter:description">

    
    <link rel="alternative" href="/atom.xml" title="SwForge&#39;s Note" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="SwForge&#39;s Note" title="SwForge&#39;s Note"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="SwForge&#39;s Note">SwForge&#39;s Note</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/17/beginning-css/" title="Beginning CSS - Cascading Style Sheets for Web Design" itemprop="url">Beginning CSS - Cascading Style Sheets for Web Design</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-07-17T08:00:10.000Z" itemprop="datePublished"> Published 2016-07-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="The-Basics"><a href="#The-Basics" class="headerlink" title="The Basics"></a>The Basics</h1><h2 id="The-Bits-that-Make-Up-a-Style-Sheet"><a href="#The-Bits-that-Make-Up-a-Style-Sheet" class="headerlink" title="The Bits that Make Up a Style Sheet"></a>The Bits that Make Up a Style Sheet</h2><ul>
<li>Rules</li>
<li>Selectors</li>
<li>Declarations: curly brace 안에 있는 것들</li>
<li>Values<ul>
<li>Keywords: red, green, blue</li>
<li>Strings<br>font-family: ‘Times New Roman’, Times, serif;</li>
<li>Length and Measurement<ul>
<li>Absolute Measurement<br>in, cm, mm, pt, pc</li>
<li>Relative Measurement<br>em, ex, px, %<br>em은 font 크기에 비례해서 크기를 정함<br>ex는 font의 lower case 높이에 비례함, font에 따라 달라질 수 있음으로 잘 사용하지 않음</li>
</ul>
</li>
<li>Numbers</li>
<li>Colors</li>
<li>The URI<br>background 이미지나 style sheet 을 @import 할 경우 사용</li>
</ul>
</li>
</ul>
<p><code>&lt;table&gt;</code>의 width: auto; 는 shrink-to-fit, 데이터의 크기에 따라 맞추어짐</p>
<p><code>&lt;div&gt;</code>의 width: auto; 는 expand-to-fit</p>
<p>Doctypes and Quirks Mode</p>
<p>doctype을 제대로 지정하지 않으면 quirks mode로 동작함</p>
<h2 id="Selectors"><a href="#Selectors" class="headerlink" title="Selectors"></a>Selectors</h2><ul>
<li>Universla Selector: *</li>
<li>Descendent Selector: 하위 엘리먼트 선택자</li>
<li>Pseudo-classes: dynamic event, 상태 변화, 문서의 일반적인 조건 선택자<ul>
<li>Dynamic pseudo-class<ul>
<li>:link : 방문하지 않은 링크</li>
<li>:visited : 방문한 링크</li>
<li>:hover : mouse hover</li>
<li>:focus : 포커스 됨</li>
<li>:active : 클릭 중임, 마우스 누르고 있는 상태</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="The-Cascade-and-Inheritance"><a href="#The-Cascade-and-Inheritance" class="headerlink" title="The Cascade and Inheritance"></a>The Cascade and Inheritance</h2><p>Style sheet precedence (우선순위)</p>
<p>browser’s &lt; user’s &lt; author’s</p>
<p>Specificity</p>
<ol>
<li>style 속성에 스타일 적용한 경우, a=1</li>
<li>ID selector의 개수, b</li>
<li>attribute, pseudo-class, class name 선택자 개수, c</li>
<li>element 이름 개수, d</li>
<li>Pseudo-element 무시<br>!importanct 는 짱…</li>
</ol>
<h1 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h1><h2 id="Applying-Font-Faces"><a href="#Applying-Font-Faces" class="headerlink" title="Applying Font Faces"></a>Applying Font Faces</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">font-family: [[ &lt;family-name&gt; | &lt;generic-family&gt; ] [, &lt;family-name&gt;|&lt;generic-family&gt;]* ]</span><br><span class="line">font-style: *normal | italic | oblique</span><br><span class="line">font-weight:  *normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900</span><br><span class="line">font-variant: *normal | small-caps</span><br><span class="line">font-size: &lt;absolute-size&gt; | &lt;relative-size&gt; | &lt;length&gt; | &lt;percentage&gt; // Initial value: medium</span><br><span class="line"></span><br><span class="line">font: [ &lt;’font-style’&gt; || &lt;’font-variant’&gt; || &lt;’font-weight’&gt; ]?</span><br><span class="line">&lt;’font-size’&gt; [ / &lt;’line-height’&gt; ]? &lt;’font-family’&gt; ] caption |</span><br><span class="line">icon | menu | message-box | small-caption | status-bar</span><br></pre></td></tr></table></figure>
<p>Generic font</p>
<ul>
<li>serif: Times, Times New Roman 와 유사</li>
<li>sans-serif: Helvetica, Arial 와 유사</li>
<li>cursive: Zapf-Chancery 와 유사</li>
<li>fantasy: Western 과 유사</li>
<li>monospace: Courier, Courier New 와 유사</li>
</ul>
<h2 id="Manipulating-the-Display-of-Text"><a href="#Manipulating-the-Display-of-Text" class="headerlink" title="Manipulating the Display of Text"></a>Manipulating the Display of Text</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">line-height: *normal | &lt;number&gt; | &lt;length&gt; | &lt;percentage&gt; | inherit</span><br><span class="line">letter-spacing: *normal | &lt;length&gt; | inherit</span><br><span class="line">word-spacing: *normal | &lt;length&gt; | inherit</span><br><span class="line">text-indent: &lt;length&gt; | &lt;percentage&gt; | inherit</span><br><span class="line">text-align: *left | right | center | justify</span><br><span class="line">text-decoration: *none | [ underline || overline || line-through || blink ]</span><br><span class="line">text-transform: capitalize | uppercase | lowercase | *none</span><br><span class="line">white-space: *normal | pre | nowrap</span><br></pre></td></tr></table></figure>
<h2 id="Background-Colors-and-Images"><a href="#Background-Colors-and-Images" class="headerlink" title="Background Colors and Images"></a>Background Colors and Images</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">background-color: &lt;color&gt; | *transparent</span><br><span class="line">background-image: &lt;uri&gt; | *none</span><br><span class="line">background-repeat: *repeat | repeat-x | repeat-y | no-repeat</span><br><span class="line">background-position</span><br><span class="line">[ [ &lt;percentage&gt; | &lt;length&gt; | left | center | right ] [</span><br><span class="line"> &lt;percentage&gt; | &lt;length&gt; | top | center | bottom ]? ] | [ [ left</span><br><span class="line">| center | right ] || [ top | center | bottom ] ] | inherit</span><br><span class="line">Initial value: 0% 0%</span><br><span class="line"></span><br><span class="line">background-attachment: *scroll | fixed</span><br><span class="line">background: &lt;’background-color’&gt; || &lt;’background-image’&gt; || &lt;’background-</span><br><span class="line">repeat’&gt; || &lt;’background-attachment’&gt; || &lt;’background-position’&gt;</span><br><span class="line">Initial value: n/a</span><br></pre></td></tr></table></figure>
<h2 id="The-Box-Model-Controlling-Margins-Borders-Padding-Width-and-Height"><a href="#The-Box-Model-Controlling-Margins-Borders-Padding-Width-and-Height" class="headerlink" title="The Box Model: Controlling Margins, Borders, Padding, Width, and Height"></a>The Box Model: Controlling Margins, Borders, Padding, Width, and Height</h2><h2 id="Floating-and-Vertical-Alignment"><a href="#Floating-and-Vertical-Alignment" class="headerlink" title="Floating and Vertical Alignment"></a>Floating and Vertical Alignment</h2><p>float, vertical-align</p>
<h2 id="Styling-Lists"><a href="#Styling-Lists" class="headerlink" title="Styling Lists"></a>Styling Lists</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">list-style-type: </span><br><span class="line">disc | circle | square | decimal | decimal-leading-zero | lower-roman</span><br><span class="line">| upper-roman | lower-greek | lower-latin | upper-latin | armenian |</span><br><span class="line">georgian | none</span><br><span class="line">Initial value for unordered list: disc</span><br><span class="line">Initial value for unordered list: decimal</span><br><span class="line"></span><br><span class="line">list-style-image: </span><br><span class="line">&lt;uri&gt; | none</span><br><span class="line">Initial value: none</span><br><span class="line"></span><br><span class="line">list-style-position</span><br><span class="line">inside | outside</span><br><span class="line">Initial value: outside</span><br><span class="line"></span><br><span class="line">list-style</span><br><span class="line">&lt;’list-style-type’&gt; || &lt;’list-style-position’&gt; || &lt;’list-style-image’&gt;</span><br><span class="line">Initial value: n/a</span><br></pre></td></tr></table></figure>
<h2 id="Positioning"><a href="#Positioning" class="headerlink" title="Positioning"></a>Positioning</h2><p>top, left, right, bottom, z-index</p>
<h2 id="Styling-Tables"><a href="#Styling-Tables" class="headerlink" title="Styling Tables"></a>Styling Tables</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">caption-side</span><br><span class="line">top | bottom</span><br><span class="line">Initial value: top</span><br><span class="line"></span><br><span class="line">&lt;col&gt; element</span><br><span class="line"></span><br><span class="line">table-layout</span><br><span class="line">auto | fixed</span><br><span class="line">Initial value: auto</span><br><span class="line"></span><br><span class="line">border-collapse</span><br><span class="line">collapse | separate</span><br><span class="line">Initial value: separate</span><br><span class="line"></span><br><span class="line">border-spacing</span><br><span class="line">&lt;length&gt; &lt;length&gt;?</span><br><span class="line">Initial value: 0</span><br></pre></td></tr></table></figure>
<h2 id="Create-a-Complete-Layout"><a href="#Create-a-Complete-Layout" class="headerlink" title="Create a Complete Layout"></a>Create a Complete Layout</h2><p>STYLING TEXT AND CUSTOM FONTS</p>
<p>BUILDING THE LAYOUT</p>
<p>GRADIENT BACKGROUNDS</p>
<h1 id="Advanced-CSS-and-Alternative-Media"><a href="#Advanced-CSS-and-Alternative-Media" class="headerlink" title="Advanced CSS and Alternative Media"></a>Advanced CSS and Alternative Media</h1><h2 id="AdvancedSelectors"><a href="#AdvancedSelectors" class="headerlink" title="AdvancedSelectors"></a>AdvancedSelectors</h2><ul>
<li>DIRECT CHILD SELECTORS: &gt;</li>
<li>NEXT SIBLING SELECTOR: +</li>
<li>ATTRIBUTE SELECTORS<ul>
<li>Select by Presence of an Attribute: input[name]</li>
<li>Select by Attribute Value: input[name=”email”]</li>
<li>Attribute Substring Selectors<ul>
<li>Selection Based on Attribute Values That Begin with a String: a[href^=”mailto:”] </li>
<li>Selection Based on Attribute Values That End with a String: input[id$=”name”] </li>
<li>Selection Based on Attribute Values That Contain a String: [name*=”recipe”]</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>PSEUDO-ELEMENTS</p>
<ul>
<li>:first-lettter: 첫 번째 문자</li>
<li>:first-line: 첫 번째 줄</li>
</ul>
<p>STRUCTURAL PSEUDO-CLASSES</p>
<ul>
<li>:first-child</li>
<li>:last-child</li>
<li>:nth-child(n)</li>
</ul>
<h2 id="Styling-for-Print"><a href="#Styling-for-Print" class="headerlink" title="Styling for Print"></a>Styling for Print</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">”text/css”</span> <span class="attr">media</span>=<span class="string">”screen”</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">”stylesheet”</span> <span class="attr">type</span>=<span class="string">”text/css”</span> <span class="attr">href</span>=<span class="string">”print.css”</span> <span class="attr">media</span>=<span class="string">”print”</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>CONTROLLING STYLES FOR MEDIA WITHIN A STYLE SHEET</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen &#123;</span><br><span class="line">  <span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">3em</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#A00</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> print &#123;</span><br><span class="line">  <span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">50pt</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>CONTROLLING PAGE BREAKS</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* page-break-before</span><br><span class="line">auto | always | avoid | left | right</span><br><span class="line">Initial value: auto</span><br><span class="line">* page-break-after</span><br><span class="line">auto | always | avoid | left | right</span><br><span class="line">Initial value: auto</span><br></pre></td></tr></table></figure>
<p>THE CONTENT PROPERTY</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: “ (http://example.com” <span class="built_in">attr</span>(href) “) “;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Customizing-the-Mouse-Cursor"><a href="#Customizing-the-Mouse-Cursor" class="headerlink" title="Customizing the Mouse Cursor"></a>Customizing the Mouse Cursor</h2><blockquote>
<p>Everything You Need to Know About the CSS Cursor Rule<br><a href="http://webdesign.tutsplus.com/articles/everything-you-need-to-know-about-the-css-cursor-rule--webdesign-9441" target="_blank" rel="external">http://webdesign.tutsplus.com/articles/everything-you-need-to-know-about-the-css-cursor-rule--webdesign-9441</a></p>
</blockquote>
<h2 id="Controlling-Opacity-and-Visibility"><a href="#Controlling-Opacity-and-Visibility" class="headerlink" title="Controlling Opacity and Visibility"></a>Controlling Opacity and Visibility</h2><h2 id="Styling-Content-for-Mobile-Devices"><a href="#Styling-Content-for-Mobile-Devices" class="headerlink" title="Styling Content for Mobile Devices"></a>Styling Content for Mobile Devices</h2><p>모바일 사이트 주의점</p>
<ul>
<li>width를 고정하지 말라</li>
<li>주 컨텐트는 하나의 컬럼에서 표시해라</li>
<li>link, button 및 사용자 입력 컨트롤을 명확히 해라</li>
<li>hover 상태가 있을 것이라 생각지 말라</li>
</ul>
<p>Media query<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">”text/css”</span> <span class="attr">media</span>=<span class="string">”screen</span> <span class="attr">and</span> (<span class="attr">max-device-width:</span> <span class="attr">480px</span>)”&gt;</span><span class="undefined"></span><br><span class="line"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">”stylesheet”</span> <span class="attr">type</span>=<span class="string">”text/css”</span> <span class="attr">href</span>=<span class="string">”mobile.css”</span> <span class="attr">media</span>=<span class="string">”screen</span> <span class="attr">and</span> (<span class="attr">max-device-width:</span> <span class="attr">480px</span>)”&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">”text/css”</span>&gt;</span><span class="css"></span><br><span class="line">  @<span class="keyword">media</span> screen and (max-device-width: <span class="number">480px</span>) &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Closing-Comments"><a href="#Closing-Comments" class="headerlink" title="Closing Comments"></a>Closing Comments</h2><p>W3C HTML Validator: <a href="http://validator.w3.org/" target="_blank" rel="external">http://validator.w3.org/</a><br>Valid Doctype list: www.w3.org/QA/2002/04/valid-dtd-list.html<br>W3C CSS2.1 recommendation: www.w3.org/TR/CSS2/<br>W3C CSS3 recommendation: www.w3.org/Style/CSS/current-work<br>W3C CSS Validator: jigsaw.w3.org/css-validator/<br>CSS3 support information: www.css3.info/<br>Specificity: <a href="http://meyerweb.com/eric/css/link-specificity.html" target="_blank" rel="external">http://meyerweb.com/eric/css/link-specificity.html</a><br>Commonly installed Font Families: www.codestyle.org/css/font-family/index.shtml<br>Font Family stacks: www.codestyle.org/css/font-family/BuildBetterCSSFontStacks.shtml<br>Box model switching: www.quirksmode.org/css/box.html<br>Conditional Comments: www.quirksmode.org/css/condcom.html<br>IE hacks: <a href="http://webstandardstips.com/2008/11/18/css-hacks-for-ie-only-style-rules/" target="_blank" rel="external">http://webstandardstips.com/2008/11/18/css-hacks-for-ie-only-style-rules/</a><br>position: fixed; in IE6: www.gunlaug.no/contents/wd_additions_15.html<br><a href="http://ryanfait.com/resources/fixed-positioning-in-internet-explorer/" target="_blank" rel="external">http://ryanfait.com/resources/fixed-positioning-in-internet-explorer/</a><br>Sprites: www.alistapart.com/articles/sprites<br>Gradient Backgrounds for all browsers: <a href="http://robertnyman.com/2010/02/15/" target="_blank" rel="external">http://robertnyman.com/2010/02/15/</a><br>css-gradients-for-all-web-browsers-without-using-images/<br>Gradient Background generator: <a href="http://gradients.glrzad.com/" target="_blank" rel="external">http://gradients.glrzad.com/</a><br>Free embeddable fonts: www.theleagueofmoveabletype.com/<br>Print style sheets: www.alistapart.com/articles/goingtoprint/<br>Cross browser opacity: www.impressivewebs.com/css-opacity-reference/<br><a href="http://blogs.msdn.com/b/ie/archive/2010/08/17/ie9-opacity-and-alpha.aspx" target="_blank" rel="external">http://blogs.msdn.com/b/ie/archive/2010/08/17/ie9-opacity-and-alpha.aspx</a><br>The mobile landscape: www.alistapart.com/articles/smartphone-browser-landscape/<br>Mobile Emulators: <a href="http://mobiforge.com/emulators/page/mobile-emulators" target="_blank" rel="external">http://mobiforge.com/emulators/page/mobile-emulators</a><br>CSS Media Queries: www.w3.org/TR/css3-mediaqueries/</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/css/">css</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/17/beginning-css/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/16/building-maintaining-atomic-design-systems-pattern-lab/" title="Tech Summary" itemprop="url">Tech Summary</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-07-16T09:58:08.000Z" itemprop="datePublished"> Published 2016-07-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p><a href="https://www.smashingmagazine.com/2016/07/building-maintaining-atomic-design-systems-pattern-lab/" target="_blank" rel="external">https://www.smashingmagazine.com/2016/07/building-maintaining-atomic-design-systems-pattern-lab/</a><br>Pattern Lab 2 소개<br>CSS 디자인/개발 시 패턴 라이브러리 공유 툴</p>
<p><a href="http://atomicdesign.bradfrost.com/chapter-2/" target="_blank" rel="external">http://atomicdesign.bradfrost.com/chapter-2/</a></p>
<ol>
<li>Atoms<br>더이상 쪼갤수 없는 UI 요소<br>color palettes, font stacks, animations<br>label, inputs, buttons</li>
<li>Molecules<br>form label, search input, button 이 모여서 search form molecule</li>
<li>Organisms<br>분자들의 조합, 유기체들의 조합, header</li>
<li>Templates<br>Page layout 컨텐트 구조<br>Page의 구조</li>
<li>Pages<br>Template 를 적용하면서, 변화를 적용하여 디자인 시스템의 유연성을 확인</li>
</ol>
<p><a href="https://www.smashingmagazine.com/2016/07/how-i-ended-up-with-element-queries-and-how-you-can-use-them-today/" target="_blank" rel="external">https://www.smashingmagazine.com/2016/07/how-i-ended-up-with-element-queries-and-how-you-can-use-them-today/</a><br>Media Query 대신 EQCSS가 구현한  Element Query를 사용하는 방법<br>Reponsive web</p>
<p><a href="https://www.smashingmagazine.com/2016/07/web-development-reading-list-144/" target="_blank" rel="external">https://www.smashingmagazine.com/2016/07/web-development-reading-list-144/</a></p>
<ul>
<li>HTTP 상태값 결정하는 방법</li>
<li><a href="http://www.webpagetest.org/" target="_blank" rel="external">http://www.webpagetest.org/</a> 을 사용한 테스트 방법 소개</li>
<li>Contetn Security Policy (CSP)</li>
</ul>
<p><a href="https://www.zachleat.com/web/comprehensive-webfonts/" target="_blank" rel="external">https://www.zachleat.com/web/comprehensive-webfonts/</a><br>Font loading 전략</p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/smashingmagazine/">smashingmagazine</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/16/building-maintaining-atomic-design-systems-pattern-lab/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/21/explorating-data-ex3/" title="explorating-data-ex3" itemprop="url">explorating-data-ex3</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-06-21T11:42:34.000Z" itemprop="datePublished"> Published 2016-06-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>일단 데이터를 준비하고.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">me_yongin = read.csv(<span class="string">'micro_enterprise_db_2015_12_kyungki_yongin.csv'</span>, header=<span class="literal">TRUE</span>, stringsAsFactors=<span class="literal">FALSE</span>, fileEncoding=<span class="string">"UTF-8"</span>)</span><br><span class="line">me = data.frame(me_yongin$상호명, me_yongin$상권업종대분류명, me_yongin$상권업종중분류명, me_yongin$상권업종소분류명, me_yongin$행정동명, me_yongin$경도, me_yongin$위도)</span><br><span class="line">colnames(me) &lt;- c(<span class="string">'name'</span>, <span class="string">'cat1'</span>, <span class="string">'cat2'</span>, <span class="string">'cat3'</span>, <span class="string">'district'</span>, <span class="string">'lon'</span>, <span class="string">'lat'</span>)</span><br><span class="line">summary(me)</span><br><span class="line"></span><br><span class="line">aggregate(x=me$name, by=list(district=me$district, cat1=me$cat1), FUN=length)</span><br><span class="line">pivot = table(me$district, me$cat1)</span><br><span class="line">pivot_frame = as.data.frame.matrix(pivot)</span><br></pre></td></tr></table></figure></p>
<h1 id="Percentiles"><a href="#Percentiles" class="headerlink" title="Percentiles"></a>Percentiles</h1><p>각 동별 상가 대분류 기준으로 변위치(quantile)<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt; apply(pivot_frame[<span class="number">1</span>:<span class="number">8</span>], MARGIN=<span class="number">2</span>, quantile)</span><br><span class="line">     관광/여가/오락 부동산 생활서비스  소매 숙박 음식  의료 학문/교육</span><br><span class="line"><span class="number">0</span>%              <span class="number">2.0</span>   <span class="number">13.0</span>       <span class="number">23.0</span> <span class="number">102.0</span>  <span class="number">0.0</span>  <span class="number">104</span>   <span class="number">3.0</span>       <span class="number">5.0</span></span><br><span class="line"><span class="number">25</span>%            <span class="number">12.5</span>   <span class="number">29.0</span>      <span class="number">111.5</span> <span class="number">227.5</span>  <span class="number">1.0</span>  <span class="number">183</span>  <span class="number">17.5</span>      <span class="number">51.0</span></span><br><span class="line"><span class="number">50</span>%            <span class="number">18.0</span>   <span class="number">46.0</span>      <span class="number">143.0</span> <span class="number">289.0</span>  <span class="number">3.0</span>  <span class="number">226</span>  <span class="number">47.0</span>     <span class="number">120.0</span></span><br><span class="line"><span class="number">75</span>%            <span class="number">34.0</span>   <span class="number">81.5</span>      <span class="number">228.0</span> <span class="number">461.5</span> <span class="number">11.5</span>  <span class="number">363</span>  <span class="number">65.0</span>     <span class="number">158.5</span></span><br><span class="line"><span class="number">100</span>%          <span class="number">101.0</span>  <span class="number">170.0</span>      <span class="number">342.0</span> <span class="number">889.0</span> <span class="number">33.0</span>  <span class="number">620</span> <span class="number">122.0</span>     <span class="number">434.0</span></span><br><span class="line">&gt; quantile(pivot_frame$부동산)</span><br><span class="line">   <span class="number">0</span>%   <span class="number">25</span>%   <span class="number">50</span>%   <span class="number">75</span>%  <span class="number">100</span>% </span><br><span class="line"> <span class="number">13.0</span>  <span class="number">29.0</span>  <span class="number">46.0</span>  <span class="number">81.5</span> <span class="number">170.0</span> </span><br><span class="line">&gt; quantile(pivot_frame$부동산)[<span class="number">4</span>] - quantile(pivot_frame$부동산)[<span class="number">2</span>]</span><br><span class="line"> <span class="number">75</span>% </span><br><span class="line"><span class="number">52.5</span> </span><br><span class="line">&gt; mad &lt;- <span class="keyword">function</span>(x) median(abs(x-mean(x)))</span><br><span class="line">&gt; apply(pivot_frame[<span class="number">1</span>:<span class="number">8</span>], MARGIN=<span class="number">2</span>, mad)</span><br><span class="line">관광/여가/오락         부동산     생활서비스           소매           숙박           음식           의료 </span><br><span class="line">     <span class="number">15.290323</span>      <span class="number">31.677419</span>      <span class="number">61.516129</span>     <span class="number">122.129032</span>       <span class="number">6.290323</span>     <span class="number">101.161290</span>      <span class="number">21.806452</span> </span><br><span class="line">     학문/교육 </span><br><span class="line">     <span class="number">72.032258</span></span><br></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/21/explorating-data-ex3/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/14/explorating-data-ex2/" title="explorating-data-ex2" itemprop="url">explorating-data-ex2</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-06-14T10:24:01.000Z" itemprop="datePublished"> Published 2016-06-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>일단 필요한 데이터만 뽑아보자<br>상호명, 상권업종대분류명, 상권업종중분류명, 상권업종소분류명, 행정동, 경도, 위도</p>
<p>따라서 다음과 같이 로딩할 수 있다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">me_yongin = read.csv(<span class="string">'micro_enterprise_db_2015_12_kyungki_yongin.csv'</span>, header=<span class="literal">TRUE</span>, stringsAsFactors=<span class="literal">FALSE</span>, fileEncoding=<span class="string">"UTF-8"</span>)</span><br><span class="line">head(me_yongin)</span><br><span class="line">summary(me_yongin)</span><br><span class="line"></span><br><span class="line">me = data.frame(me_yongin$상호명, me_yongin$상권업종대분류명, me_yongin$상권업종중분류명, me_yongin$상권업종소분류명, me_yongin$행정동명, me_yongin$경도, me_yongin$위도)</span><br><span class="line"></span><br><span class="line">colnames(me)</span><br><span class="line">colnames(me) &lt;- c(<span class="string">'name'</span>, <span class="string">'cat1'</span>, <span class="string">'cat2'</span>, <span class="string">'cat3'</span>, <span class="string">'district'</span>, <span class="string">'lon'</span>, <span class="string">'lat'</span>)</span><br></pre></td></tr></table></figure></p>
<p>두 번째 data.frame 함수를 통해서 character 형의 벡터 변수 들이 factor 형으로 변환되면서 다음과 같이 summary를 구할 수 있다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt; summary(me)</span><br><span class="line">         name               cat1                       cat2                         cat3      </span><br><span class="line"> CU        :   <span class="number">99</span>   소매      :<span class="number">11071</span>   한식              : <span class="number">3072</span>   한식/백반/한정식    : <span class="number">2012</span>  </span><br><span class="line"> 지에스<span class="number">25</span>  :   <span class="number">92</span>   음식      : <span class="number">8685</span>   의복의류          : <span class="number">2003</span>   일반의류            : <span class="number">1201</span>  </span><br><span class="line"> 크린토피아:   <span class="number">78</span>   생활서비스: <span class="number">5192</span>   이/미용/건강      : <span class="number">1865</span>   여성미용실          : <span class="number">1190</span>  </span><br><span class="line"> 세븐일레븐:   <span class="number">64</span>   학문/교육 : <span class="number">3907</span>   종합소매점        : <span class="number">1503</span>   부동산중개          : <span class="number">1152</span>  </span><br><span class="line"> 파리바게뜨:   <span class="number">53</span>   부동산    : <span class="number">1881</span>   부동산중개        : <span class="number">1152</span>   커피전문점/카페/다방:  <span class="number">966</span>  </span><br><span class="line"> SK텔레콤  :   <span class="number">36</span>   의료      : <span class="number">1401</span>   가정/주방/인테리어: <span class="number">1085</span>   학원-입시           :  <span class="number">904</span>  </span><br><span class="line"> (Other)   :<span class="number">32818</span>   (Other)   : <span class="number">1103</span>   (Other)           :<span class="number">22560</span>   (Other)             :<span class="number">25815</span>  </span><br><span class="line">      district          lon             lat       </span><br><span class="line"> 동백동   : <span class="number">2448</span>   Min.   :<span class="number">127.0</span>   Min.   :<span class="number">37.09</span>  </span><br><span class="line"> 중앙동   : <span class="number">2308</span>   1st Qu.:<span class="number">127.1</span>   1st Qu.:<span class="number">37.25</span>  </span><br><span class="line"> 보정동   : <span class="number">1777</span>   Median :<span class="number">127.1</span>   Median :<span class="number">37.28</span>  </span><br><span class="line"> 구갈동   : <span class="number">1763</span>   Mean   :<span class="number">127.1</span>   Mean   :<span class="number">37.28</span>  </span><br><span class="line"> 풍덕천<span class="number">1</span>동: <span class="number">1763</span>   3rd Qu.:<span class="number">127.2</span>   3rd Qu.:<span class="number">37.32</span>  </span><br><span class="line"> 죽전<span class="number">1</span>동  : <span class="number">1755</span>   Max.   :<span class="number">127.4</span>   Max.   :<span class="number">37.37</span>  </span><br><span class="line"> (Other)  :<span class="number">21426</span></span><br></pre></td></tr></table></figure></p>
<p>일단 각 동별 상가 대 분류에 대한 분할표(contingency table)을 만들어 보면 다음과 같다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&gt; pivot = table(me$district, me$cat1)</span><br><span class="line">&gt; pivot</span><br><span class="line">           </span><br><span class="line">            관광/여가/오락 부동산 생활서비스 소매 숙박 음식 의료 학문/교육</span><br><span class="line">  구갈동                <span class="number">95</span>    <span class="number">121</span>        <span class="number">285</span>  <span class="number">485</span>    <span class="number">1</span>  <span class="number">485</span>   <span class="number">66</span>       <span class="number">225</span></span><br><span class="line">  구성동                <span class="number">14</span>     <span class="number">44</span>        <span class="number">128</span>  <span class="number">247</span>    <span class="number">0</span>  <span class="number">215</span>   <span class="number">47</span>       <span class="number">160</span></span><br><span class="line">  기흥동                 <span class="number">7</span>     <span class="number">41</span>         <span class="number">72</span>  <span class="number">166</span>   <span class="number">10</span>  <span class="number">133</span>   <span class="number">10</span>        <span class="number">40</span></span><br><span class="line">  남사면                 <span class="number">4</span>     <span class="number">13</span>         <span class="number">40</span>  <span class="number">147</span>    <span class="number">3</span>  <span class="number">105</span>    <span class="number">3</span>         <span class="number">7</span></span><br><span class="line">  동백동                <span class="number">55</span>    <span class="number">170</span>        <span class="number">328</span>  <span class="number">837</span>    <span class="number">2</span>  <span class="number">532</span>   <span class="number">90</span>       <span class="number">434</span></span><br><span class="line">  동부동                <span class="number">33</span>     <span class="number">44</span>        <span class="number">168</span>  <span class="number">259</span>    <span class="number">5</span>  <span class="number">179</span>   <span class="number">19</span>        <span class="number">47</span></span><br><span class="line">  동천동                <span class="number">19</span>    <span class="number">118</span>        <span class="number">166</span>  <span class="number">289</span>    <span class="number">2</span>  <span class="number">305</span>   <span class="number">50</span>       <span class="number">155</span></span><br><span class="line">  마북동                <span class="number">18</span>     <span class="number">46</span>        <span class="number">162</span>  <span class="number">305</span>    <span class="number">4</span>  <span class="number">202</span>   <span class="number">50</span>       <span class="number">120</span></span><br><span class="line">  모현면                <span class="number">18</span>     <span class="number">28</span>        <span class="number">143</span>  <span class="number">430</span>    <span class="number">3</span>  <span class="number">255</span>   <span class="number">23</span>        <span class="number">54</span></span><br><span class="line">  백암면                <span class="number">11</span>     <span class="number">20</span>         <span class="number">73</span>  <span class="number">147</span>    <span class="number">7</span>  <span class="number">175</span>   <span class="number">15</span>         <span class="number">9</span></span><br><span class="line">  보정동                <span class="number">35</span>    <span class="number">141</span>        <span class="number">291</span>  <span class="number">556</span>    <span class="number">1</span>  <span class="number">433</span>   <span class="number">88</span>       <span class="number">232</span></span><br><span class="line">  상갈동                <span class="number">45</span>     <span class="number">78</span>        <span class="number">227</span>  <span class="number">453</span>   <span class="number">13</span>  <span class="number">408</span>   <span class="number">66</span>       <span class="number">181</span></span><br><span class="line">  상하동                <span class="number">12</span>     <span class="number">29</span>        <span class="number">103</span>  <span class="number">187</span>    <span class="number">0</span>  <span class="number">140</span>   <span class="number">25</span>        <span class="number">53</span></span><br><span class="line">  상현<span class="number">1</span>동                <span class="number">9</span>     <span class="number">83</span>        <span class="number">141</span>  <span class="number">204</span>    <span class="number">0</span>  <span class="number">226</span>   <span class="number">63</span>       <span class="number">110</span></span><br><span class="line">  상현<span class="number">2</span>동               <span class="number">26</span>     <span class="number">42</span>        <span class="number">120</span>  <span class="number">235</span>    <span class="number">1</span>  <span class="number">171</span>   <span class="number">67</span>       <span class="number">208</span></span><br><span class="line">  서농동                 <span class="number">9</span>     <span class="number">14</span>         <span class="number">86</span>  <span class="number">133</span>    <span class="number">1</span>  <span class="number">198</span>   <span class="number">16</span>        <span class="number">49</span></span><br><span class="line">  성복동                <span class="number">16</span>     <span class="number">53</span>        <span class="number">128</span>  <span class="number">248</span>    <span class="number">0</span>  <span class="number">209</span>   <span class="number">64</span>        <span class="number">85</span></span><br><span class="line">  신갈동                <span class="number">45</span>     <span class="number">60</span>        <span class="number">239</span>  <span class="number">451</span>   <span class="number">24</span>  <span class="number">318</span>   <span class="number">61</span>       <span class="number">129</span></span><br><span class="line">  신봉동                <span class="number">14</span>     <span class="number">55</span>        <span class="number">127</span>  <span class="number">262</span>    <span class="number">0</span>  <span class="number">187</span>   <span class="number">36</span>       <span class="number">145</span></span><br><span class="line">  양지면                <span class="number">21</span>     <span class="number">31</span>        <span class="number">133</span>  <span class="number">269</span>   <span class="number">29</span>  <span class="number">304</span>   <span class="number">16</span>        <span class="number">46</span></span><br><span class="line">  역삼동                <span class="number">33</span>     <span class="number">64</span>        <span class="number">218</span>  <span class="number">310</span>    <span class="number">2</span>  <span class="number">276</span>   <span class="number">30</span>       <span class="number">136</span></span><br><span class="line">  영덕동                <span class="number">14</span>    <span class="number">116</span>        <span class="number">229</span>  <span class="number">470</span>    <span class="number">2</span>  <span class="number">299</span>   <span class="number">53</span>       <span class="number">153</span></span><br><span class="line">  원삼면                 <span class="number">5</span>     <span class="number">13</span>         <span class="number">23</span>  <span class="number">102</span>   <span class="number">21</span>  <span class="number">104</span>    <span class="number">6</span>         <span class="number">5</span></span><br><span class="line">  유림동                <span class="number">16</span>     <span class="number">39</span>        <span class="number">147</span>  <span class="number">303</span>    <span class="number">3</span>  <span class="number">190</span>   <span class="number">12</span>        <span class="number">87</span></span><br><span class="line">  이동면                <span class="number">16</span>     <span class="number">14</span>        <span class="number">100</span>  <span class="number">220</span>   <span class="number">13</span>  <span class="number">278</span>   <span class="number">14</span>        <span class="number">47</span></span><br><span class="line">  죽전<span class="number">1</span>동               <span class="number">55</span>    <span class="number">107</span>        <span class="number">256</span>  <span class="number">481</span>    <span class="number">3</span>  <span class="number">448</span>   <span class="number">91</span>       <span class="number">314</span></span><br><span class="line">  죽전<span class="number">2</span>동                <span class="number">2</span>     <span class="number">29</span>        <span class="number">103</span>  <span class="number">703</span>    <span class="number">0</span>  <span class="number">131</span>   <span class="number">25</span>        <span class="number">60</span></span><br><span class="line">  중앙동               <span class="number">101</span>     <span class="number">80</span>        <span class="number">342</span>  <span class="number">889</span>   <span class="number">33</span>  <span class="number">620</span>  <span class="number">122</span>       <span class="number">121</span></span><br><span class="line">  포곡읍                <span class="number">32</span>     <span class="number">19</span>        <span class="number">198</span>  <span class="number">395</span>   <span class="number">30</span>  <span class="number">490</span>   <span class="number">31</span>        <span class="number">94</span></span><br><span class="line">  풍덕천<span class="number">1</span>동             <span class="number">84</span>    <span class="number">101</span>        <span class="number">287</span>  <span class="number">606</span>   <span class="number">13</span>  <span class="number">459</span>   <span class="number">56</span>       <span class="number">157</span></span><br><span class="line">  풍덕천<span class="number">2</span>동             <span class="number">13</span>     <span class="number">68</span>        <span class="number">129</span>  <span class="number">282</span>    <span class="number">0</span>  <span class="number">210</span>   <span class="number">86</span>       <span class="number">244</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
<p>barplot으로 한번 뽑아본다.<br><img src="/2016/06/14/explorating-data-ex2/2016-06-14-explorating-data-ex2_01.png" alt="barplot(pivot)" title="barplot(pivot)"></p>
<p>이것을 frame으로 만들고 순서를 나열해 보자.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&gt; pivot_frame = as.data.frame.matrix(pivot)</span><br><span class="line">&gt; pivot_frame[order(-pivot_frame$부동산),]</span><br><span class="line">          관광/여가/오락 부동산 생활서비스 소매 숙박 음식 의료 학문/교육</span><br><span class="line">동백동                <span class="number">55</span>    <span class="number">170</span>        <span class="number">328</span>  <span class="number">837</span>    <span class="number">2</span>  <span class="number">532</span>   <span class="number">90</span>       <span class="number">434</span></span><br><span class="line">보정동                <span class="number">35</span>    <span class="number">141</span>        <span class="number">291</span>  <span class="number">556</span>    <span class="number">1</span>  <span class="number">433</span>   <span class="number">88</span>       <span class="number">232</span></span><br><span class="line">구갈동                <span class="number">95</span>    <span class="number">121</span>        <span class="number">285</span>  <span class="number">485</span>    <span class="number">1</span>  <span class="number">485</span>   <span class="number">66</span>       <span class="number">225</span></span><br><span class="line">동천동                <span class="number">19</span>    <span class="number">118</span>        <span class="number">166</span>  <span class="number">289</span>    <span class="number">2</span>  <span class="number">305</span>   <span class="number">50</span>       <span class="number">155</span></span><br><span class="line">영덕동                <span class="number">14</span>    <span class="number">116</span>        <span class="number">229</span>  <span class="number">470</span>    <span class="number">2</span>  <span class="number">299</span>   <span class="number">53</span>       <span class="number">153</span></span><br><span class="line">죽전<span class="number">1</span>동               <span class="number">55</span>    <span class="number">107</span>        <span class="number">256</span>  <span class="number">481</span>    <span class="number">3</span>  <span class="number">448</span>   <span class="number">91</span>       <span class="number">314</span></span><br><span class="line">풍덕천<span class="number">1</span>동             <span class="number">84</span>    <span class="number">101</span>        <span class="number">287</span>  <span class="number">606</span>   <span class="number">13</span>  <span class="number">459</span>   <span class="number">56</span>       <span class="number">157</span></span><br><span class="line">상현<span class="number">1</span>동                <span class="number">9</span>     <span class="number">83</span>        <span class="number">141</span>  <span class="number">204</span>    <span class="number">0</span>  <span class="number">226</span>   <span class="number">63</span>       <span class="number">110</span></span><br><span class="line">중앙동               <span class="number">101</span>     <span class="number">80</span>        <span class="number">342</span>  <span class="number">889</span>   <span class="number">33</span>  <span class="number">620</span>  <span class="number">122</span>       <span class="number">121</span></span><br><span class="line">상갈동                <span class="number">45</span>     <span class="number">78</span>        <span class="number">227</span>  <span class="number">453</span>   <span class="number">13</span>  <span class="number">408</span>   <span class="number">66</span>       <span class="number">181</span></span><br><span class="line">풍덕천<span class="number">2</span>동             <span class="number">13</span>     <span class="number">68</span>        <span class="number">129</span>  <span class="number">282</span>    <span class="number">0</span>  <span class="number">210</span>   <span class="number">86</span>       <span class="number">244</span></span><br><span class="line">역삼동                <span class="number">33</span>     <span class="number">64</span>        <span class="number">218</span>  <span class="number">310</span>    <span class="number">2</span>  <span class="number">276</span>   <span class="number">30</span>       <span class="number">136</span></span><br><span class="line">신갈동                <span class="number">45</span>     <span class="number">60</span>        <span class="number">239</span>  <span class="number">451</span>   <span class="number">24</span>  <span class="number">318</span>   <span class="number">61</span>       <span class="number">129</span></span><br><span class="line">신봉동                <span class="number">14</span>     <span class="number">55</span>        <span class="number">127</span>  <span class="number">262</span>    <span class="number">0</span>  <span class="number">187</span>   <span class="number">36</span>       <span class="number">145</span></span><br><span class="line">성복동                <span class="number">16</span>     <span class="number">53</span>        <span class="number">128</span>  <span class="number">248</span>    <span class="number">0</span>  <span class="number">209</span>   <span class="number">64</span>        <span class="number">85</span></span><br><span class="line">마북동                <span class="number">18</span>     <span class="number">46</span>        <span class="number">162</span>  <span class="number">305</span>    <span class="number">4</span>  <span class="number">202</span>   <span class="number">50</span>       <span class="number">120</span></span><br><span class="line">구성동                <span class="number">14</span>     <span class="number">44</span>        <span class="number">128</span>  <span class="number">247</span>    <span class="number">0</span>  <span class="number">215</span>   <span class="number">47</span>       <span class="number">160</span></span><br><span class="line">동부동                <span class="number">33</span>     <span class="number">44</span>        <span class="number">168</span>  <span class="number">259</span>    <span class="number">5</span>  <span class="number">179</span>   <span class="number">19</span>        <span class="number">47</span></span><br><span class="line">상현<span class="number">2</span>동               <span class="number">26</span>     <span class="number">42</span>        <span class="number">120</span>  <span class="number">235</span>    <span class="number">1</span>  <span class="number">171</span>   <span class="number">67</span>       <span class="number">208</span></span><br><span class="line">기흥동                 <span class="number">7</span>     <span class="number">41</span>         <span class="number">72</span>  <span class="number">166</span>   <span class="number">10</span>  <span class="number">133</span>   <span class="number">10</span>        <span class="number">40</span></span><br><span class="line">유림동                <span class="number">16</span>     <span class="number">39</span>        <span class="number">147</span>  <span class="number">303</span>    <span class="number">3</span>  <span class="number">190</span>   <span class="number">12</span>        <span class="number">87</span></span><br><span class="line">양지면                <span class="number">21</span>     <span class="number">31</span>        <span class="number">133</span>  <span class="number">269</span>   <span class="number">29</span>  <span class="number">304</span>   <span class="number">16</span>        <span class="number">46</span></span><br><span class="line">상하동                <span class="number">12</span>     <span class="number">29</span>        <span class="number">103</span>  <span class="number">187</span>    <span class="number">0</span>  <span class="number">140</span>   <span class="number">25</span>        <span class="number">53</span></span><br><span class="line">죽전<span class="number">2</span>동                <span class="number">2</span>     <span class="number">29</span>        <span class="number">103</span>  <span class="number">703</span>    <span class="number">0</span>  <span class="number">131</span>   <span class="number">25</span>        <span class="number">60</span></span><br><span class="line">모현면                <span class="number">18</span>     <span class="number">28</span>        <span class="number">143</span>  <span class="number">430</span>    <span class="number">3</span>  <span class="number">255</span>   <span class="number">23</span>        <span class="number">54</span></span><br><span class="line">백암면                <span class="number">11</span>     <span class="number">20</span>         <span class="number">73</span>  <span class="number">147</span>    <span class="number">7</span>  <span class="number">175</span>   <span class="number">15</span>         <span class="number">9</span></span><br><span class="line">포곡읍                <span class="number">32</span>     <span class="number">19</span>        <span class="number">198</span>  <span class="number">395</span>   <span class="number">30</span>  <span class="number">490</span>   <span class="number">31</span>        <span class="number">94</span></span><br><span class="line">서농동                 <span class="number">9</span>     <span class="number">14</span>         <span class="number">86</span>  <span class="number">133</span>    <span class="number">1</span>  <span class="number">198</span>   <span class="number">16</span>        <span class="number">49</span></span><br><span class="line">이동면                <span class="number">16</span>     <span class="number">14</span>        <span class="number">100</span>  <span class="number">220</span>   <span class="number">13</span>  <span class="number">278</span>   <span class="number">14</span>        <span class="number">47</span></span><br><span class="line">남사면                 <span class="number">4</span>     <span class="number">13</span>         <span class="number">40</span>  <span class="number">147</span>    <span class="number">3</span>  <span class="number">105</span>    <span class="number">3</span>         <span class="number">7</span></span><br><span class="line">원삼면                 <span class="number">5</span>     <span class="number">13</span>         <span class="number">23</span>  <span class="number">102</span>   <span class="number">21</span>  <span class="number">104</span>    <span class="number">6</span>         <span class="number">5</span></span><br><span class="line">&gt; pivot_frame[order(-pivot_frame$`학문/교육`),]</span><br><span class="line">          관광/여가/오락 부동산 생활서비스 소매 숙박 음식 의료 학문/교육</span><br><span class="line">동백동                <span class="number">55</span>    <span class="number">170</span>        <span class="number">328</span>  <span class="number">837</span>    <span class="number">2</span>  <span class="number">532</span>   <span class="number">90</span>       <span class="number">434</span></span><br><span class="line">죽전<span class="number">1</span>동               <span class="number">55</span>    <span class="number">107</span>        <span class="number">256</span>  <span class="number">481</span>    <span class="number">3</span>  <span class="number">448</span>   <span class="number">91</span>       <span class="number">314</span></span><br><span class="line">풍덕천<span class="number">2</span>동             <span class="number">13</span>     <span class="number">68</span>        <span class="number">129</span>  <span class="number">282</span>    <span class="number">0</span>  <span class="number">210</span>   <span class="number">86</span>       <span class="number">244</span></span><br><span class="line">보정동                <span class="number">35</span>    <span class="number">141</span>        <span class="number">291</span>  <span class="number">556</span>    <span class="number">1</span>  <span class="number">433</span>   <span class="number">88</span>       <span class="number">232</span></span><br><span class="line">구갈동                <span class="number">95</span>    <span class="number">121</span>        <span class="number">285</span>  <span class="number">485</span>    <span class="number">1</span>  <span class="number">485</span>   <span class="number">66</span>       <span class="number">225</span></span><br><span class="line">상현<span class="number">2</span>동               <span class="number">26</span>     <span class="number">42</span>        <span class="number">120</span>  <span class="number">235</span>    <span class="number">1</span>  <span class="number">171</span>   <span class="number">67</span>       <span class="number">208</span></span><br><span class="line">상갈동                <span class="number">45</span>     <span class="number">78</span>        <span class="number">227</span>  <span class="number">453</span>   <span class="number">13</span>  <span class="number">408</span>   <span class="number">66</span>       <span class="number">181</span></span><br><span class="line">구성동                <span class="number">14</span>     <span class="number">44</span>        <span class="number">128</span>  <span class="number">247</span>    <span class="number">0</span>  <span class="number">215</span>   <span class="number">47</span>       <span class="number">160</span></span><br><span class="line">풍덕천<span class="number">1</span>동             <span class="number">84</span>    <span class="number">101</span>        <span class="number">287</span>  <span class="number">606</span>   <span class="number">13</span>  <span class="number">459</span>   <span class="number">56</span>       <span class="number">157</span></span><br><span class="line">동천동                <span class="number">19</span>    <span class="number">118</span>        <span class="number">166</span>  <span class="number">289</span>    <span class="number">2</span>  <span class="number">305</span>   <span class="number">50</span>       <span class="number">155</span></span><br><span class="line">영덕동                <span class="number">14</span>    <span class="number">116</span>        <span class="number">229</span>  <span class="number">470</span>    <span class="number">2</span>  <span class="number">299</span>   <span class="number">53</span>       <span class="number">153</span></span><br><span class="line">신봉동                <span class="number">14</span>     <span class="number">55</span>        <span class="number">127</span>  <span class="number">262</span>    <span class="number">0</span>  <span class="number">187</span>   <span class="number">36</span>       <span class="number">145</span></span><br><span class="line">역삼동                <span class="number">33</span>     <span class="number">64</span>        <span class="number">218</span>  <span class="number">310</span>    <span class="number">2</span>  <span class="number">276</span>   <span class="number">30</span>       <span class="number">136</span></span><br><span class="line">신갈동                <span class="number">45</span>     <span class="number">60</span>        <span class="number">239</span>  <span class="number">451</span>   <span class="number">24</span>  <span class="number">318</span>   <span class="number">61</span>       <span class="number">129</span></span><br><span class="line">중앙동               <span class="number">101</span>     <span class="number">80</span>        <span class="number">342</span>  <span class="number">889</span>   <span class="number">33</span>  <span class="number">620</span>  <span class="number">122</span>       <span class="number">121</span></span><br><span class="line">마북동                <span class="number">18</span>     <span class="number">46</span>        <span class="number">162</span>  <span class="number">305</span>    <span class="number">4</span>  <span class="number">202</span>   <span class="number">50</span>       <span class="number">120</span></span><br><span class="line">상현<span class="number">1</span>동                <span class="number">9</span>     <span class="number">83</span>        <span class="number">141</span>  <span class="number">204</span>    <span class="number">0</span>  <span class="number">226</span>   <span class="number">63</span>       <span class="number">110</span></span><br><span class="line">포곡읍                <span class="number">32</span>     <span class="number">19</span>        <span class="number">198</span>  <span class="number">395</span>   <span class="number">30</span>  <span class="number">490</span>   <span class="number">31</span>        <span class="number">94</span></span><br><span class="line">유림동                <span class="number">16</span>     <span class="number">39</span>        <span class="number">147</span>  <span class="number">303</span>    <span class="number">3</span>  <span class="number">190</span>   <span class="number">12</span>        <span class="number">87</span></span><br><span class="line">성복동                <span class="number">16</span>     <span class="number">53</span>        <span class="number">128</span>  <span class="number">248</span>    <span class="number">0</span>  <span class="number">209</span>   <span class="number">64</span>        <span class="number">85</span></span><br><span class="line">죽전<span class="number">2</span>동                <span class="number">2</span>     <span class="number">29</span>        <span class="number">103</span>  <span class="number">703</span>    <span class="number">0</span>  <span class="number">131</span>   <span class="number">25</span>        <span class="number">60</span></span><br><span class="line">모현면                <span class="number">18</span>     <span class="number">28</span>        <span class="number">143</span>  <span class="number">430</span>    <span class="number">3</span>  <span class="number">255</span>   <span class="number">23</span>        <span class="number">54</span></span><br><span class="line">상하동                <span class="number">12</span>     <span class="number">29</span>        <span class="number">103</span>  <span class="number">187</span>    <span class="number">0</span>  <span class="number">140</span>   <span class="number">25</span>        <span class="number">53</span></span><br><span class="line">서농동                 <span class="number">9</span>     <span class="number">14</span>         <span class="number">86</span>  <span class="number">133</span>    <span class="number">1</span>  <span class="number">198</span>   <span class="number">16</span>        <span class="number">49</span></span><br><span class="line">동부동                <span class="number">33</span>     <span class="number">44</span>        <span class="number">168</span>  <span class="number">259</span>    <span class="number">5</span>  <span class="number">179</span>   <span class="number">19</span>        <span class="number">47</span></span><br><span class="line">이동면                <span class="number">16</span>     <span class="number">14</span>        <span class="number">100</span>  <span class="number">220</span>   <span class="number">13</span>  <span class="number">278</span>   <span class="number">14</span>        <span class="number">47</span></span><br><span class="line">양지면                <span class="number">21</span>     <span class="number">31</span>        <span class="number">133</span>  <span class="number">269</span>   <span class="number">29</span>  <span class="number">304</span>   <span class="number">16</span>        <span class="number">46</span></span><br><span class="line">기흥동                 <span class="number">7</span>     <span class="number">41</span>         <span class="number">72</span>  <span class="number">166</span>   <span class="number">10</span>  <span class="number">133</span>   <span class="number">10</span>        <span class="number">40</span></span><br><span class="line">백암면                <span class="number">11</span>     <span class="number">20</span>         <span class="number">73</span>  <span class="number">147</span>    <span class="number">7</span>  <span class="number">175</span>   <span class="number">15</span>         <span class="number">9</span></span><br><span class="line">남사면                 <span class="number">4</span>     <span class="number">13</span>         <span class="number">40</span>  <span class="number">147</span>    <span class="number">3</span>  <span class="number">105</span>    <span class="number">3</span>         <span class="number">7</span></span><br><span class="line">원삼면                 <span class="number">5</span>     <span class="number">13</span>         <span class="number">23</span>  <span class="number">102</span>   <span class="number">21</span>  <span class="number">104</span>    <span class="number">6</span>         <span class="number">5</span></span><br></pre></td></tr></table></figure></p>
<p>동백동이 모든면에서 탑이다.</p>
<p>마지막으로, 상관관계를 그려본다.<br><img src="/2016/06/14/explorating-data-ex2/2016-06-14-explorating-data-ex2_02.png" alt="plot(pivot_frame)" title="plot(pivot_frame)"></p>
<p>대체적으로 서로 상관관계를 가지는 것 같은데 숙박은 그렇지 않는것 같다.<br>아무래도 한적한 곳에 위치하기 때문이 아닐까… ^^;</p>
<p>두 feacture 간에 독립성을 검증해 보자 (귀무가설, H0: 서로 독립이다)<br>factor 형식의 검증을 위해서 카이제곱(chisq), fisher 함수를 사용할 수 있다.<br>이를 위해선 수치화된 데이터를 다음과 같이 factor 형식으로 변경한다.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pivot_discrite &lt;- data.frame(</span><br><span class="line">  real= cut(pivot_frame$부동산, breaks=<span class="number">3</span>,</span><br><span class="line">                    labels=c(<span class="string">"small"</span>, <span class="string">"medium"</span>, <span class="string">"large"</span>), ordered=<span class="literal">TRUE</span>),</span><br><span class="line">  edu= cut(pivot_frame$`학문/교육`, breaks=<span class="number">3</span>,</span><br><span class="line">                   labels=c(<span class="string">"small"</span>, <span class="string">"medium"</span>, <span class="string">"large"</span>), ordered=<span class="literal">TRUE</span>),</span><br><span class="line">  stay= cut(pivot_frame$숙박, breaks=<span class="number">3</span>,</span><br><span class="line">                    labels=c(<span class="string">"small"</span>, <span class="string">"medium"</span>, <span class="string">"large"</span>), ordered=<span class="literal">TRUE</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>0,05 이하의 작은 p-value(유의확률)을 가지면 귀무가설 H0을 기각한다.</p>
<p>먼저, 부동산과 교육이 서로 독립인지 확인해 보면<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&gt; tbl_real_edu &lt;- table(pivot_discrite$real, pivot_discrite$edu)</span><br><span class="line">&gt; tbl_real_edu</span><br><span class="line">        </span><br><span class="line">         small medium large</span><br><span class="line">  small     <span class="number">18</span>      <span class="number">2</span>     <span class="number">0</span></span><br><span class="line">  medium     <span class="number">2</span>      <span class="number">4</span>     <span class="number">1</span></span><br><span class="line">  large      <span class="number">0</span>      <span class="number">3</span>     <span class="number">1</span></span><br><span class="line">&gt; chisq.test(tbl_real_edu)</span><br><span class="line"></span><br><span class="line">	Pearson<span class="string">'s Chi-squared test</span><br><span class="line"></span><br><span class="line">data:  tbl_real_edu</span><br><span class="line">X-squared = 17.397, df = 4, p-value = 0.001618</span><br><span class="line"></span><br><span class="line">Warning message:</span><br><span class="line">In chisq.test(tbl_real_edu) : Chi-squared approximation may be incorrect</span><br><span class="line">&gt; fisher.test(tbl_real_edu)</span><br><span class="line"></span><br><span class="line">	Fisher'</span>s Exact Test <span class="keyword">for</span> Count Data</span><br><span class="line"></span><br><span class="line">data:  tbl_real_edu</span><br><span class="line">p-value = <span class="number">0.0001347</span></span><br><span class="line">alternative hypothesis: two.sided</span><br></pre></td></tr></table></figure></p>
<p>각각 0.05 보다 작은 값을 가짐으로 귀무가설을 기각한다. 즉 서로 의존적이라고 볼 수 있다.</p>
<p>다음으로 교육과 숙박을 비교해 본다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&gt; tbl_edu_stay &lt;- table(pivot_discrite$edu, pivot_discrite$stay)</span><br><span class="line">&gt; tbl_edu_stay</span><br><span class="line">        </span><br><span class="line">         small medium large</span><br><span class="line">  small     <span class="number">14</span>      <span class="number">2</span>     <span class="number">4</span></span><br><span class="line">  medium     <span class="number">7</span>      <span class="number">2</span>     <span class="number">0</span></span><br><span class="line">  large      <span class="number">2</span>      <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">&gt; chisq.test(tbl_edu_stay)</span><br><span class="line"></span><br><span class="line">	Pearson<span class="string">'s Chi-squared test</span><br><span class="line"></span><br><span class="line">data:  tbl_edu_stay</span><br><span class="line">X-squared = 3.437, df = 4, p-value = 0.4875</span><br><span class="line"></span><br><span class="line">Warning message:</span><br><span class="line">In chisq.test(tbl_edu_stay) : Chi-squared approximation may be incorrect</span><br><span class="line">&gt; fisher.test(tbl_edu_stay)</span><br><span class="line"></span><br><span class="line">	Fisher'</span>s Exact Test <span class="keyword">for</span> Count Data</span><br><span class="line"></span><br><span class="line">data:  tbl_edu_stay</span><br><span class="line">p-value = <span class="number">0.5483</span></span><br><span class="line">alternative hypothesis: two.sided</span><br><span class="line"></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
<p>각각 0.48, 0.58 임으로 서로 독립이다.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/14/explorating-data-ex2/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/08/explorating-data-ex/" title="explorating_data_ex" itemprop="url">explorating_data_ex</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-06-08T11:56:33.000Z" itemprop="datePublished"> Published 2016-06-08</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="데이터-준비"><a href="#데이터-준비" class="headerlink" title="데이터 준비"></a>데이터 준비</h1><p>공공데이터 중 소상공인 상가 정보를 사용해 본다.<br>Text 파일 크기가 1 GB를 넘기 때문에, 다음과 같이 주요 지역 별로 나누어 본다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ iconv <span class="_">-f</span> EUC-KR -t UTF-8 micro_enterprise_db_2015_12.csv | grep 서울특별시 &gt; micro_enterprise_db_2015_12_seoul.csv</span><br><span class="line">$ iconv <span class="_">-f</span> EUC-KR -t UTF-8 micro_enterprise_db_2015_12.csv | grep 경기도 &gt; micro_enterprise_db_2015_12_kyungki.csv</span><br></pre></td></tr></table></figure>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&gt; me_yongin = read.csv(<span class="string">'micro_enterprise_db_2015_12_kyungki_yongin.csv'</span>, header=<span class="literal">TRUE</span>, stringsAsFactors=<span class="literal">FALSE</span>, fileEncoding=<span class="string">"UTF-8"</span>)</span><br><span class="line">&gt; summary(me_yongin)</span><br><span class="line">  상가업소번호         상호명             지점명          상권업종대분류코드 상권업종대분류명  </span><br><span class="line"> Min.   :<span class="number">20100934</span>   Length:<span class="number">33240</span>       Length:<span class="number">33240</span>       Length:<span class="number">33240</span>       Length:<span class="number">33240</span>      </span><br><span class="line"> 1st Qu.:<span class="number">23029528</span>   Class :character   Class :character   Class :character   Class :character  </span><br><span class="line"> Median :<span class="number">24465258</span>   Mode  :character   Mode  :character   Mode  :character   Mode  :character  </span><br><span class="line"> Mean   :<span class="number">24085896</span>                                                                              </span><br><span class="line"> 3rd Qu.:<span class="number">25406874</span>                                                                              </span><br><span class="line"> Max.   :<span class="number">28524539</span>                                                                              </span><br><span class="line">                                                                                               </span><br><span class="line"> 상권업종중분류코드 상권업종중분류명   상권업종소분류코드 상권업종소분류명   표준산업분류코드  </span><br><span class="line"> Length:<span class="number">33240</span>       Length:<span class="number">33240</span>       Length:<span class="number">33240</span>       Length:<span class="number">33240</span>       Length:<span class="number">33240</span>      </span><br><span class="line"> Class :character   Class :character   Class :character   Class :character   Class :character  </span><br><span class="line"> Mode  :character   Mode  :character   Mode  :character   Mode  :character   Mode  :character  </span><br><span class="line">                                                                                               </span><br><span class="line">                                                                                               </span><br><span class="line">                                                                                               </span><br><span class="line">                                                                                               </span><br><span class="line"> 표준산업분류명        시도코드     시도명            시군구코드      시군구명        </span><br><span class="line"> Length:<span class="number">33240</span>       Min.   :<span class="number">41</span>   Length:<span class="number">33240</span>       Min.   :<span class="number">41460</span>   Length:<span class="number">33240</span>      </span><br><span class="line"> Class :character   1st Qu.:<span class="number">41</span>   Class :character   1st Qu.:<span class="number">41460</span>   Class :character  </span><br><span class="line"> Mode  :character   Median :<span class="number">41</span>   Mode  :character   Median :<span class="number">41460</span>   Mode  :character  </span><br><span class="line">                    Mean   :<span class="number">41</span>                      Mean   :<span class="number">41460</span>                     </span><br><span class="line">                    3rd Qu.:<span class="number">41</span>                      3rd Qu.:<span class="number">41460</span>                     </span><br><span class="line">                    Max.   :<span class="number">41</span>                      Max.   :<span class="number">41460</span>                     </span><br><span class="line">                                                                                      </span><br><span class="line">   행정동코드          행정동명           법정동코드          법정동명            PNU코드         </span><br><span class="line"> Min.   :<span class="number">4.146e+09</span>   Length:<span class="number">33240</span>       Min.   :<span class="number">4.146e+09</span>   Length:<span class="number">33240</span>       Min.   :<span class="number">4.146e+18</span>  </span><br><span class="line"> 1st Qu.:<span class="number">4.146e+09</span>   Class :character   1st Qu.:<span class="number">4.146e+09</span>   Class :character   1st Qu.:<span class="number">4.146e+18</span>  </span><br><span class="line"> Median :<span class="number">4.146e+09</span>   Mode  :character   Median :<span class="number">4.146e+09</span>   Mode  :character   Median :<span class="number">4.146e+18</span>  </span><br><span class="line"> Mean   :<span class="number">4.146e+09</span>                      Mean   :<span class="number">4.146e+09</span>                      Mean   :<span class="number">4.146e+18</span>  </span><br><span class="line"> 3rd Qu.:<span class="number">4.147e+09</span>                      3rd Qu.:<span class="number">4.147e+09</span>                      3rd Qu.:<span class="number">4.147e+18</span>  </span><br><span class="line"> Max.   :<span class="number">4.147e+09</span>                      Max.   :<span class="number">4.147e+09</span>                      Max.   :<span class="number">4.147e+18</span>  </span><br><span class="line">                                                                                                  </span><br><span class="line">  대지구분코드    대지구분명          지번본번지       지번부번지        지번주소        </span><br><span class="line"> Min.   :<span class="number">1.000</span>   Length:<span class="number">33240</span>       Min.   :   <span class="number">1.0</span>   Min.   :   <span class="number">1.00</span>   Length:<span class="number">33240</span>      </span><br><span class="line"> 1st Qu.:<span class="number">1.000</span>   Class :character   1st Qu.: <span class="number">254.0</span>   1st Qu.:   <span class="number">2.00</span>   Class :character  </span><br><span class="line"> Median :<span class="number">1.000</span>   Mode  :character   Median : <span class="number">522.0</span>   Median :   <span class="number">4.00</span>   Mode  :character  </span><br><span class="line"> Mean   :<span class="number">1.003</span>                      Mean   : <span class="number">564.1</span>   Mean   :  <span class="number">12.13</span>                     </span><br><span class="line"> 3rd Qu.:<span class="number">1.000</span>                      3rd Qu.: <span class="number">833.0</span>   3rd Qu.:   <span class="number">8.00</span>                     </span><br><span class="line"> Max.   :<span class="number">2.000</span>                      Max.   :<span class="number">1803.0</span>   Max.   :<span class="number">1063.00</span>                     </span><br><span class="line">                                                     <span class="literal">NA</span><span class="string">'s   :10024                       </span><br><span class="line">   도로명코드           도로명            건물본번지       건물부번지      건물관리번호      </span><br><span class="line"> Min.   :4.146e+11   Length:33240       Min.   :   1.0   Min.   : 1.000   Min.   :4.146e+24  </span><br><span class="line"> 1st Qu.:4.146e+11   Class :character   1st Qu.:  14.0   1st Qu.: 2.000   1st Qu.:4.146e+24  </span><br><span class="line"> Median :4.146e+11   Mode  :character   Median :  51.0   Median : 6.000   Median :4.146e+24  </span><br><span class="line"> Mean   :4.146e+11                      Mean   : 226.3   Mean   : 8.302   Mean   :4.146e+24  </span><br><span class="line"> 3rd Qu.:4.147e+11                      3rd Qu.: 148.0   3rd Qu.:12.000   3rd Qu.:4.147e+24  </span><br><span class="line"> Max.   :4.147e+11                      Max.   :2797.0   Max.   :70.000   Max.   :4.147e+24  </span><br><span class="line">                                                         NA'</span>s   :<span class="number">27023</span>                       </span><br><span class="line">    건물명           도로명주소          구우편번호       신우편번호       동정보         </span><br><span class="line"> Length:<span class="number">33240</span>       Length:<span class="number">33240</span>       Min.   :<span class="number">446505</span>   Min.   :<span class="number">16800</span>   Length:<span class="number">33240</span>      </span><br><span class="line"> Class :character   Class :character   1st Qu.:<span class="number">446901</span>   1st Qu.:<span class="number">16892</span>   Class :character  </span><br><span class="line"> Mode  :character   Mode  :character   Median :<span class="number">448509</span>   Median :<span class="number">16972</span>   Mode  :character  </span><br><span class="line">                                       Mean   :<span class="number">448213</span>   Mean   :<span class="number">16976</span>                     </span><br><span class="line">                                       3rd Qu.:<span class="number">449812</span>   3rd Qu.:<span class="number">17052</span>                     </span><br><span class="line">                                       Max.   :<span class="number">449935</span>   Max.   :<span class="number">17183</span>                     </span><br><span class="line">                                                                                          </span><br><span class="line">    층정보             호정보            전화번호              경도            위도      </span><br><span class="line"> Length:<span class="number">33240</span>       Length:<span class="number">33240</span>       Length:<span class="number">33240</span>       Min.   :<span class="number">127.0</span>   Min.   :<span class="number">37.09</span>  </span><br><span class="line"> Class :character   Class :character   Class :character   1st Qu.:<span class="number">127.1</span>   1st Qu.:<span class="number">37.25</span>  </span><br><span class="line"> Mode  :character   Mode  :character   Mode  :character   Median :<span class="number">127.1</span>   Median :<span class="number">37.28</span>  </span><br><span class="line">                                                          Mean   :<span class="number">127.1</span>   Mean   :<span class="number">37.28</span>  </span><br><span class="line">                                                          3rd Qu.:<span class="number">127.2</span>   3rd Qu.:<span class="number">37.32</span>  </span><br><span class="line">                                                          Max.   :<span class="number">127.4</span>   Max.   :<span class="number">37.37</span>  </span><br><span class="line">                                                                                         </span><br><span class="line">    상권번호     데이터기준일자    </span><br><span class="line"> Min.   :<span class="number">1467</span>    Length:<span class="number">33240</span>      </span><br><span class="line"> 1st Qu.:<span class="number">1507</span>    Class :character  </span><br><span class="line"> Median :<span class="number">1531</span>    Mode  :character  </span><br><span class="line"> Mean   :<span class="number">1537</span>                      </span><br><span class="line"> 3rd Qu.:<span class="number">1575</span>                      </span><br><span class="line"> Max.   :<span class="number">1577</span>                      </span><br><span class="line"> <span class="literal">NA</span><span class="string">'s   :27321</span></span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/08/explorating-data-ex/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/24/explorating-data/" title="explorating data" itemprop="url">explorating data</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-05-24T11:36:31.000Z" itemprop="datePublished"> Published 2016-05-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>출처</p>
<blockquote>
<p><a href="http://michael.hahsler.net/SMU/EMIS7332/R/chap3.html" target="_blank" rel="external">http://michael.hahsler.net/SMU/EMIS7332/R/chap3.html</a></p>
</blockquote>
<h1 id="Basic-statistics"><a href="#Basic-statistics" class="headerlink" title="Basic statistics"></a>Basic statistics</h1><p>요약<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; summary(iris)</span><br><span class="line">  Sepal.Length    Sepal.Width     Petal.Length    Petal.Width          Species  </span><br><span class="line"> Min.   :<span class="number">4.300</span>   Min.   :<span class="number">2.000</span>   Min.   :<span class="number">1.000</span>   Min.   :<span class="number">0.100</span>   setosa    :<span class="number">50</span>  </span><br><span class="line"> 1st Qu.:<span class="number">5.100</span>   1st Qu.:<span class="number">2.800</span>   1st Qu.:<span class="number">1.600</span>   1st Qu.:<span class="number">0.300</span>   versicolor:<span class="number">50</span>  </span><br><span class="line"> Median :<span class="number">5.800</span>   Median :<span class="number">3.000</span>   Median :<span class="number">4.350</span>   Median :<span class="number">1.300</span>   virginica :<span class="number">50</span>  </span><br><span class="line"> Mean   :<span class="number">5.843</span>   Mean   :<span class="number">3.057</span>   Mean   :<span class="number">3.758</span>   Mean   :<span class="number">1.199</span>                  </span><br><span class="line"> 3rd Qu.:<span class="number">6.400</span>   3rd Qu.:<span class="number">3.300</span>   3rd Qu.:<span class="number">5.100</span>   3rd Qu.:<span class="number">1.800</span>                  </span><br><span class="line"> Max.   :<span class="number">7.900</span>   Max.   :<span class="number">4.400</span>   Max.   :<span class="number">6.900</span>   Max.   :<span class="number">2.500</span></span><br></pre></td></tr></table></figure></p>
<p>평균과 표준편차<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; mean(iris$Sepal.Length)</span><br><span class="line">[<span class="number">1</span>] <span class="number">5.843333</span></span><br><span class="line">&gt; sd(iris$Sepal.Length)</span><br><span class="line">[<span class="number">1</span>] <span class="number">0.8280661</span></span><br></pre></td></tr></table></figure></p>
<p>apply 함수는 첫 번째 인자인 행렬을 3번째 인자인 함수에 대입하여 그 값을 표시한다.<br>MARGIN이 1일 경우 각 row를 백터로 취해 함수에 대입하고 2일 경우 각 column을 백터로 취해 함수에 대입한다.<br>만일 각 값에 대해 특정 함수를 호출하고자 한다면, apply(iris[1:4], 1:2, mean) 이런 식으로 하면 된다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], MARGIN=<span class="number">1</span>, mean)</span><br><span class="line">  [<span class="number">1</span>] <span class="number">2.550</span> <span class="number">2.375</span> <span class="number">2.350</span> <span class="number">2.350</span> <span class="number">2.550</span> <span class="number">2.850</span> <span class="number">2.425</span> <span class="number">2.525</span> <span class="number">2.225</span> <span class="number">2.400</span> <span class="number">2.700</span> <span class="number">2.500</span> <span class="number">2.325</span> <span class="number">2.125</span> <span class="number">2.800</span> <span class="number">3.000</span></span><br><span class="line"> [<span class="number">17</span>] <span class="number">2.750</span> <span class="number">2.575</span> <span class="number">2.875</span> <span class="number">2.675</span> <span class="number">2.675</span> <span class="number">2.675</span> <span class="number">2.350</span> <span class="number">2.650</span> <span class="number">2.575</span> <span class="number">2.450</span> <span class="number">2.600</span> <span class="number">2.600</span> <span class="number">2.550</span> <span class="number">2.425</span> <span class="number">2.425</span> <span class="number">2.675</span></span><br><span class="line"> [<span class="number">33</span>] <span class="number">2.725</span> <span class="number">2.825</span> <span class="number">2.425</span> <span class="number">2.400</span> <span class="number">2.625</span> <span class="number">2.500</span> <span class="number">2.225</span> <span class="number">2.550</span> <span class="number">2.525</span> <span class="number">2.100</span> <span class="number">2.275</span> <span class="number">2.675</span> <span class="number">2.800</span> <span class="number">2.375</span> <span class="number">2.675</span> <span class="number">2.350</span></span><br><span class="line"> [<span class="number">49</span>] <span class="number">2.675</span> <span class="number">2.475</span> <span class="number">4.075</span> <span class="number">3.900</span> <span class="number">4.100</span> <span class="number">3.275</span> <span class="number">3.850</span> <span class="number">3.575</span> <span class="number">3.975</span> <span class="number">2.900</span> <span class="number">3.850</span> <span class="number">3.300</span> <span class="number">2.875</span> <span class="number">3.650</span> <span class="number">3.300</span> <span class="number">3.775</span></span><br><span class="line"> [<span class="number">65</span>] <span class="number">3.350</span> <span class="number">3.900</span> <span class="number">3.650</span> <span class="number">3.400</span> <span class="number">3.600</span> <span class="number">3.275</span> <span class="number">3.925</span> <span class="number">3.550</span> <span class="number">3.800</span> <span class="number">3.700</span> <span class="number">3.725</span> <span class="number">3.850</span> <span class="number">3.950</span> <span class="number">4.100</span> <span class="number">3.725</span> <span class="number">3.200</span></span><br><span class="line"> [<span class="number">81</span>] <span class="number">3.200</span> <span class="number">3.150</span> <span class="number">3.400</span> <span class="number">3.850</span> <span class="number">3.600</span> <span class="number">3.875</span> <span class="number">4.000</span> <span class="number">3.575</span> <span class="number">3.500</span> <span class="number">3.325</span> <span class="number">3.425</span> <span class="number">3.775</span> <span class="number">3.400</span> <span class="number">2.900</span> <span class="number">3.450</span> <span class="number">3.525</span></span><br><span class="line"> [<span class="number">97</span>] <span class="number">3.525</span> <span class="number">3.675</span> <span class="number">2.925</span> <span class="number">3.475</span> <span class="number">4.525</span> <span class="number">3.875</span> <span class="number">4.525</span> <span class="number">4.150</span> <span class="number">4.375</span> <span class="number">4.825</span> <span class="number">3.400</span> <span class="number">4.575</span> <span class="number">4.200</span> <span class="number">4.850</span> <span class="number">4.200</span> <span class="number">4.075</span></span><br><span class="line">[<span class="number">113</span>] <span class="number">4.350</span> <span class="number">3.800</span> <span class="number">4.025</span> <span class="number">4.300</span> <span class="number">4.200</span> <span class="number">5.100</span> <span class="number">4.875</span> <span class="number">3.675</span> <span class="number">4.525</span> <span class="number">3.825</span> <span class="number">4.800</span> <span class="number">3.925</span> <span class="number">4.450</span> <span class="number">4.550</span> <span class="number">3.900</span> <span class="number">3.950</span></span><br><span class="line">[<span class="number">129</span>] <span class="number">4.225</span> <span class="number">4.400</span> <span class="number">4.550</span> <span class="number">5.025</span> <span class="number">4.250</span> <span class="number">3.925</span> <span class="number">3.925</span> <span class="number">4.775</span> <span class="number">4.425</span> <span class="number">4.200</span> <span class="number">3.900</span> <span class="number">4.375</span> <span class="number">4.450</span> <span class="number">4.350</span> <span class="number">3.875</span> <span class="number">4.550</span></span><br><span class="line">[<span class="number">145</span>] <span class="number">4.550</span> <span class="number">4.300</span> <span class="number">3.925</span> <span class="number">4.175</span> <span class="number">4.325</span> <span class="number">3.950</span></span><br></pre></td></tr></table></figure></p>
<p>각 column에 대해서 평균, 중위값, 표준편차, 분산, 최소, 최대 값이다… 그냥 summary 하면 될 듯..<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], <span class="number">2</span>, mean)</span><br><span class="line">Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span><br><span class="line">    <span class="number">5.843333</span>     <span class="number">3.057333</span>     <span class="number">3.758000</span>     <span class="number">1.199333</span> </span><br><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], <span class="number">2</span>, median)</span><br><span class="line">Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span><br><span class="line">        <span class="number">5.80</span>         <span class="number">3.00</span>         <span class="number">4.35</span>         <span class="number">1.30</span> </span><br><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], <span class="number">2</span>, sd)</span><br><span class="line">Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span><br><span class="line">   <span class="number">0.8280661</span>    <span class="number">0.4358663</span>    <span class="number">1.7652982</span>    <span class="number">0.7622377</span> </span><br><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], <span class="number">2</span>, var)</span><br><span class="line">Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span><br><span class="line">   <span class="number">0.6856935</span>    <span class="number">0.1899794</span>    <span class="number">3.1162779</span>    <span class="number">0.5810063</span> </span><br><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], <span class="number">2</span>, min)</span><br><span class="line">Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span><br><span class="line">         <span class="number">4.3</span>          <span class="number">2.0</span>          <span class="number">1.0</span>          <span class="number">0.1</span> </span><br><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], <span class="number">2</span>, max)</span><br><span class="line">Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span><br><span class="line">         <span class="number">7.9</span>          <span class="number">4.4</span>          <span class="number">6.9</span>          <span class="number">2.5</span></span><br></pre></td></tr></table></figure></p>
<h1 id="Tabulate-data-표만들기"><a href="#Tabulate-data-표만들기" class="headerlink" title="Tabulate data (표만들기)"></a>Tabulate data (표만들기)</h1><p>이전에 한번 했던 거 같은데… </p>
<blockquote>
<p><a href="http://swcho.github.io/2016/05/03/relationship-between_features/" target="_blank" rel="external">http://swcho.github.io/2016/05/03/relationship-between_features/</a><br>서열척도를 명목척도로 바꾸는 거..<br>점수에 따라 수,우,미,양,가 나누는거도 이런식으로 하면된다.<br>R 에서는 요인(Factor), 범주형(Categorical) 변수라 불린다.</p>
</blockquote>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt; iris_discrete &lt;- data.frame(</span><br><span class="line">+ Sepal.Length= cut(iris$Sepal.Length, breaks=<span class="number">3</span>, labels=c(<span class="string">"small"</span>, <span class="string">"medium"</span>, <span class="string">"large"</span>), ordered=<span class="literal">TRUE</span>),</span><br><span class="line">+ Sepal.Width= cut(iris$Sepal.Width, breaks=<span class="number">3</span>, labels=c(<span class="string">"small"</span>, <span class="string">"medium"</span>, <span class="string">"large"</span>), ordered=<span class="literal">TRUE</span>),</span><br><span class="line">+ Petal.Length= cut(iris$Petal.Length, breaks=<span class="number">3</span>, labels=c(<span class="string">"small"</span>, <span class="string">"medium"</span>, <span class="string">"large"</span>), ordered=<span class="literal">TRUE</span>),</span><br><span class="line">+ Petal.Width= cut(iris$Petal.Width, breaks=<span class="number">3</span>, labels=c(<span class="string">"small"</span>, <span class="string">"medium"</span>, <span class="string">"large"</span>), ordered=<span class="literal">TRUE</span>),</span><br><span class="line">+ Species = iris$Species</span><br><span class="line">+ )</span><br><span class="line">&gt; head(iris_discrete)</span><br><span class="line">  Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span><br><span class="line"><span class="number">1</span>        small      medium        small       small  setosa</span><br><span class="line"><span class="number">2</span>        small      medium        small       small  setosa</span><br><span class="line"><span class="number">3</span>        small      medium        small       small  setosa</span><br><span class="line"><span class="number">4</span>        small      medium        small       small  setosa</span><br><span class="line"><span class="number">5</span>        small      medium        small       small  setosa</span><br><span class="line"><span class="number">6</span>        small       large        small       small  setosa</span><br></pre></td></tr></table></figure>
<p>범주형 데이터만으로 구성되었기 때문에 다음과 같이 각 범주의 개수를 표시한다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; summary(iris_discrete)</span><br><span class="line"> Sepal.Length Sepal.Width Petal.Length Petal.Width       Species  </span><br><span class="line"> small :<span class="number">59</span>    small :<span class="number">47</span>   small :<span class="number">50</span>    small :<span class="number">50</span>   setosa    :<span class="number">50</span>  </span><br><span class="line"> medium:<span class="number">71</span>    medium:<span class="number">88</span>   medium:<span class="number">54</span>    medium:<span class="number">54</span>   versicolor:<span class="number">50</span>  </span><br><span class="line"> large :<span class="number">20</span>    large :<span class="number">15</span>   large :<span class="number">46</span>    large :<span class="number">46</span>   virginica :<span class="number">50</span></span><br></pre></td></tr></table></figure></p>
<p>table은 Factor 들의 값을 받아 분할표(contingency table)를 만든다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt; table(iris_discrete$Sepal.Length, iris_discrete$Sepal.Width)</span><br><span class="line">        </span><br><span class="line">         small medium large</span><br><span class="line">  small     <span class="number">12</span>     <span class="number">37</span>    <span class="number">10</span></span><br><span class="line">  medium    <span class="number">31</span>     <span class="number">37</span>     <span class="number">3</span></span><br><span class="line">  large      <span class="number">4</span>     <span class="number">14</span>     <span class="number">2</span></span><br><span class="line">&gt; table(iris_discrete$Petal.Length, iris_discrete$Petal.Width)</span><br><span class="line">        </span><br><span class="line">         small medium large</span><br><span class="line">  small     <span class="number">50</span>      <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">  medium     <span class="number">0</span>     <span class="number">48</span>     <span class="number">6</span></span><br><span class="line">  large      <span class="number">0</span>      <span class="number">6</span>    <span class="number">40</span></span><br><span class="line">&gt; table(iris_discrete$Petal.Length, iris_discrete$Species)</span><br><span class="line">        </span><br><span class="line">         setosa versicolor virginica</span><br><span class="line">  small      <span class="number">50</span>          <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">  medium      <span class="number">0</span>         <span class="number">48</span>         <span class="number">6</span></span><br><span class="line">  large       <span class="number">0</span>          <span class="number">2</span>        <span class="number">44</span></span><br></pre></td></tr></table></figure></p>
<p>이 contingency table을 기반으로, 두개의 feature들이 서로 독립임(H0)을 검증해볼 수 있다.<br>p-value(유의 확률)이 작으면(0.05 ~ 0.01 사이에 있으면) 귀무 가설인 H0 를 기각한다.<br>다음과 같이 카이 제곱 검정을 사용한다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt; tbl &lt;- table(iris_discrete$Sepal.Length, iris_discrete$Sepal.Width)</span><br><span class="line">&gt; tbl</span><br><span class="line">        </span><br><span class="line">         small medium large</span><br><span class="line">  small     <span class="number">12</span>     <span class="number">37</span>    <span class="number">10</span></span><br><span class="line">  medium    <span class="number">31</span>     <span class="number">37</span>     <span class="number">3</span></span><br><span class="line">  large      <span class="number">4</span>     <span class="number">14</span>     <span class="number">2</span></span><br><span class="line">&gt; chisq.test(tbl)</span><br><span class="line"></span><br><span class="line">	Pearson<span class="string">'s Chi-squared test</span><br><span class="line"></span><br><span class="line">data:  tbl</span><br><span class="line">X-squared = 12.879, df = 4, p-value = 0.01188</span><br><span class="line"></span><br><span class="line">Warning message:</span><br><span class="line">In chisq.test(tbl) : Chi-squared approximation may be incorrect</span></span><br></pre></td></tr></table></figure></p>
<p>결국 Sepal 길이와 너비는 독립이 아니다…<br>Fisher의 exact test 는 5 이하의 cell들로 이루어 졌을 경우 더 좋은 검증법이라고 한다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; fisher.test(tbl)</span><br><span class="line"></span><br><span class="line">	Fisher<span class="string">'s Exact Test for Count Data</span><br><span class="line"></span><br><span class="line">data:  tbl</span><br><span class="line">p-value = 0.01063</span><br><span class="line">alternative hypothesis: two.sided</span></span><br></pre></td></tr></table></figure></p>
<p>다음과 같이 하나의 변수만 가지고 table을 만들어 barplot을 그릴 수 있다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; table(iris_discrete$Sepal.Length)</span><br><span class="line"></span><br><span class="line"> small medium  large </span><br><span class="line">    <span class="number">59</span>     <span class="number">71</span>     <span class="number">20</span></span><br></pre></td></tr></table></figure></p>
<img src="/2016/05/24/explorating-data/explorating-data-01.png" alt="barplot(table(iris_discrete$Sepal.Length))" title="barplot(table(iris_discrete$Sepal.Length))">
<h1 id="Percentiles-백분위수"><a href="#Percentiles-백분위수" class="headerlink" title="Percentiles (백분위수)"></a>Percentiles (백분위수)</h1><p>Quantile (변위치, 變位置)<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], MARGIN=<span class="number">2</span>, quantile)</span><br><span class="line">     Sepal.Length Sepal.Width Petal.Length Petal.Width</span><br><span class="line"><span class="number">0</span>%            <span class="number">4.3</span>         <span class="number">2.0</span>         <span class="number">1.00</span>         <span class="number">0.1</span></span><br><span class="line"><span class="number">25</span>%           <span class="number">5.1</span>         <span class="number">2.8</span>         <span class="number">1.60</span>         <span class="number">0.3</span></span><br><span class="line"><span class="number">50</span>%           <span class="number">5.8</span>         <span class="number">3.0</span>         <span class="number">4.35</span>         <span class="number">1.3</span></span><br><span class="line"><span class="number">75</span>%           <span class="number">6.4</span>         <span class="number">3.3</span>         <span class="number">5.10</span>         <span class="number">1.8</span></span><br><span class="line"><span class="number">100</span>%          <span class="number">7.9</span>         <span class="number">4.4</span>         <span class="number">6.90</span>         <span class="number">2.5</span></span><br><span class="line">&gt; quantile(iris$Petal.Length)</span><br><span class="line">  <span class="number">0</span>%  <span class="number">25</span>%  <span class="number">50</span>%  <span class="number">75</span>% <span class="number">100</span>% </span><br><span class="line"><span class="number">1.00</span> <span class="number">1.60</span> <span class="number">4.35</span> <span class="number">5.10</span> <span class="number">6.90</span> </span><br><span class="line">&gt; quantile(iris$Petal.Length)[<span class="number">4</span>] - quantile(iris$Petal.Length)[<span class="number">2</span>]</span><br><span class="line"><span class="number">75</span>% </span><br><span class="line"><span class="number">3.5</span></span><br><span class="line">&gt; mad &lt;- <span class="keyword">function</span>(x) median(abs(x-mean(x)))</span><br><span class="line">&gt; apply(iris[<span class="number">1</span>:<span class="number">4</span>], MARGIN=<span class="number">2</span>, mad)</span><br><span class="line">Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span><br><span class="line">   <span class="number">0.6566667</span>    <span class="number">0.2573333</span>    <span class="number">1.7920000</span>    <span class="number">0.7993333</span></span><br></pre></td></tr></table></figure></p>
<h1 id="Visualizations"><a href="#Visualizations" class="headerlink" title="Visualizations"></a>Visualizations</h1><h2 id="Histogram"><a href="#Histogram" class="headerlink" title="Histogram"></a>Histogram</h2><img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-02.png" alt="hist(iris$Petal.Width)" title="hist(iris$Petal.Width)">
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-03.png" alt="hist(iris$Petal.Width, breaks=20, col=" grey")"="" title="hist(iris$Petal.Width, breaks=20, col=">
<h2 id="Scatter-plot"><a href="#Scatter-plot" class="headerlink" title="Scatter plot"></a>Scatter plot</h2><img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-04.png" alt="plot(x=iris$Petal.Length, y=iris$Petal.Width, col=iris$Species)" title="plot(x=iris$Petal.Length, y=iris$Petal.Width, col=iris$Species)">
<h2 id="Scatter-plot-matrix"><a href="#Scatter-plot-matrix" class="headerlink" title="Scatter plot matrix"></a>Scatter plot matrix</h2><img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-05.png" alt="pairs(iris, col=iris$Species)" title="pairs(iris, col=iris$Species)">
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-06.png" alt="ggpairs(iris, color = " species")"="" title="ggpairs(iris, color = ">
<h2 id="Boxplot"><a href="#Boxplot" class="headerlink" title="Boxplot"></a>Boxplot</h2><img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-07.png" alt="boxplot(iris[,1:4])" title="boxplot(iris[,1:4])">
<p>그룹으로 묶어 평균<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; aggregate(Sepal.Length ~ Species, data=iris, FUN = mean)</span><br><span class="line">     Species Sepal.Length</span><br><span class="line"><span class="number">1</span>     setosa        <span class="number">5.006</span></span><br><span class="line"><span class="number">2</span> versicolor        <span class="number">5.936</span></span><br><span class="line"><span class="number">3</span>  virginica        <span class="number">6.588</span></span><br><span class="line">&gt; aggregate(Sepal.Width ~ Species, data=iris, FUN = mean)</span><br><span class="line">     Species Sepal.Width</span><br><span class="line"><span class="number">1</span>     setosa       <span class="number">3.428</span></span><br><span class="line"><span class="number">2</span> versicolor       <span class="number">2.770</span></span><br><span class="line"><span class="number">3</span>  virginica       <span class="number">2.974</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ECDF-Empirical-Cumulative-Distribution-Function"><a href="#ECDF-Empirical-Cumulative-Distribution-Function" class="headerlink" title="ECDF: Empirical Cumulative Distribution Function"></a>ECDF: Empirical Cumulative Distribution Function</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">e &lt;- ecdf(iris$Petal.Width)</span><br><span class="line">hist(iris$Petal.Width, breaks=<span class="number">20</span>, freq=<span class="literal">FALSE</span>, col=<span class="string">"gray"</span>)</span><br><span class="line">lines(e, col=<span class="string">"red"</span>, lwd=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-08.png" alt="2016-05-24-explorating-data-08.png" title="">
<h2 id="Data-matrix-visualization"><a href="#Data-matrix-visualization" class="headerlink" title="Data matrix visualization"></a>Data matrix visualization</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iris_matrix &lt;- as.matrix(iris[,<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line">image(iris_matrix)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-09.png" alt="2016-05-24-explorating-data-09.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(seriation) <span class="comment">## for pimage</span></span><br><span class="line">pimage(iris_matrix, ylab=<span class="string">"Object (ordered by species)"</span>, main=<span class="string">"Original values"</span>, colorkey=<span class="literal">TRUE</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-10.png" alt="2016-05-24-explorating-data-10.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iris_scaled &lt;- scale(iris_matrix)</span><br><span class="line">pimage(iris_scaled, ylab=<span class="string">"Object (ordered by species)"</span>, main=<span class="string">"Standard deviations from the feature mean"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-11.png" alt="2016-05-24-explorating-data-11.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pimage(iris_scaled, order = seriate(iris_scaled), main=<span class="string">"Standard deviations (reordered)"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-12.png" alt="2016-05-24-explorating-data-12.png" title="">
<h2 id="Correlation-matrix"><a href="#Correlation-matrix" class="headerlink" title="Correlation matrix"></a>Correlation matrix</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; cm1 &lt;- cor(iris_matrix)</span><br><span class="line">&gt; cm1</span><br><span class="line">             Sepal.Length Sepal.Width Petal.Length Petal.Width</span><br><span class="line">Sepal.Length    <span class="number">1.0000000</span>  -<span class="number">0.1175698</span>    <span class="number">0.8717538</span>   <span class="number">0.8179411</span></span><br><span class="line">Sepal.Width    -<span class="number">0.1175698</span>   <span class="number">1.0000000</span>   -<span class="number">0.4284401</span>  -<span class="number">0.3661259</span></span><br><span class="line">Petal.Length    <span class="number">0.8717538</span>  -<span class="number">0.4284401</span>    <span class="number">1.0000000</span>   <span class="number">0.9628654</span></span><br><span class="line">Petal.Width     <span class="number">0.8179411</span>  -<span class="number">0.3661259</span>    <span class="number">0.9628654</span>   <span class="number">1.0000000</span></span><br></pre></td></tr></table></figure>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(seriation) <span class="comment">## for pimage and hmap</span></span><br><span class="line">pimage(cm1)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-13.png" alt="2016-05-24-explorating-data-13.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hmap(cm1, margin = c(<span class="number">7</span>,<span class="number">7</span>), cexRow = <span class="number">1</span>, cexCol = <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-14.png" alt="2016-05-24-explorating-data-14.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(corrplot)</span><br><span class="line">corrplot(cm1, method=<span class="string">"ellipse"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-15.png" alt="2016-05-24-explorating-data-15.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">corrplot(cm1, method=c(<span class="string">"ellipse"</span>), order=<span class="string">"FPC"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-16.png" alt="2016-05-24-explorating-data-16.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&gt; cor.test(iris$Sepal.Length, iris$Sepal.Width)</span><br><span class="line"></span><br><span class="line">	Pearson<span class="string">'s product-moment correlation</span><br><span class="line"></span><br><span class="line">data:  iris$Sepal.Length and iris$Sepal.Width</span><br><span class="line">t = -1.4403, df = 148, p-value = 0.1519</span><br><span class="line">alternative hypothesis: true correlation is not equal to 0</span><br><span class="line">95 percent confidence interval:</span><br><span class="line"> -0.27269325  0.04351158</span><br><span class="line">sample estimates:</span><br><span class="line">       cor </span><br><span class="line">-0.1175698 </span><br><span class="line"></span><br><span class="line">&gt; cor.test(iris$Petal.Length, iris$Petal.Width) #this one is significant</span><br><span class="line"></span><br><span class="line">	Pearson'</span>s product-moment correlation</span><br><span class="line"></span><br><span class="line">data:  iris$Petal.Length and iris$Petal.Width</span><br><span class="line">t = <span class="number">43.387</span>, df = <span class="number">148</span>, p-value &lt; <span class="number">2.2e-16</span></span><br><span class="line">alternative hypothesis: true correlation is not equal to <span class="number">0</span></span><br><span class="line"><span class="number">95</span> percent confidence interval:</span><br><span class="line"> <span class="number">0.9490525</span> <span class="number">0.9729853</span></span><br><span class="line">sample estimates:</span><br><span class="line">      cor </span><br><span class="line"><span class="number">0.9628654</span></span><br></pre></td></tr></table></figure>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cm2 &lt;- cor(t(iris_matrix))</span><br><span class="line">pimage(cm2, main=<span class="string">"Correlation matrix"</span>, xlab=<span class="string">"Objects"</span>, ylab=<span class="string">"Objects"</span>, zlim = c(-<span class="number">1</span>,<span class="number">1</span>),col = bluered(<span class="number">100</span>))</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-17.png" alt="2016-05-24-explorating-data-17.png" title="">
<h2 id="Parallel-coordinates-plot"><a href="#Parallel-coordinates-plot" class="headerlink" title="Parallel coordinates plot"></a>Parallel coordinates plot</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(MASS)</span><br><span class="line">parcoord(iris[,<span class="number">1</span>:<span class="number">4</span>], col=iris$Species)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-18.png" alt="2016-05-24-explorating-data-18.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">library</span>(seriation)</span><br><span class="line">&gt; o &lt;- seriate(as.dist(<span class="number">1</span>-cor(iris[,<span class="number">1</span>:<span class="number">4</span>])), method=<span class="string">"BBURCG"</span>)</span><br><span class="line">&gt; get_order(o)</span><br><span class="line">[<span class="number">1</span>] <span class="number">3</span> <span class="number">4</span> <span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parcoord(iris[,get_order(o)], col=iris$Species)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-19.png" alt="2016-05-24-explorating-data-19.png" title="">
<h2 id="Spatial-data"><a href="#Spatial-data" class="headerlink" title="Spatial data"></a>Spatial data</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&gt; loc &lt;- c(lon = -<span class="number">96.7860835</span>, lat = <span class="number">32.8422109</span>);</span><br><span class="line">&gt; crimes &lt;- c(<span class="string">"burglary"</span>, <span class="string">"car theft"</span>, <span class="string">"intoxication"</span>)</span><br><span class="line">&gt; observations &lt;- <span class="literal">NULL</span></span><br><span class="line">&gt; <span class="keyword">for</span>(k <span class="keyword">in</span> <span class="number">1</span>:length(crimes))&#123;</span><br><span class="line">+ a &lt;- rnorm(<span class="number">2</span>); b &lt;- rnorm(<span class="number">2</span>);</span><br><span class="line">+ si &lt;- <span class="number">1</span>/<span class="number">50000</span> * (outer(a,a) + outer(b,b))</span><br><span class="line">+ observations &lt;- rbind(</span><br><span class="line">+ observations,</span><br><span class="line">+ cbind(MASS::mvrnorm(rpois(<span class="number">1</span>,<span class="number">100</span>), jitter(loc, <span class="number">.0005</span>), si), k)</span><br><span class="line">+ )</span><br><span class="line">+ &#125;</span><br><span class="line">&gt; observations &lt;- data.frame(observations)[sample(<span class="number">1</span>:nrow(observations)),]</span><br><span class="line">&gt; names(observations) &lt;- c(<span class="string">'lon'</span>, <span class="string">'lat'</span>,<span class="string">'crime'</span>)</span><br><span class="line">&gt; observations$crime &lt;- factor(observations$crime, labels = crimes)</span><br><span class="line">&gt; head(observations)</span><br><span class="line">          lon      lat        crime</span><br><span class="line"><span class="number">66</span>  -<span class="number">96.78738</span> <span class="number">32.86633</span>     burglary</span><br><span class="line"><span class="number">2</span>   -<span class="number">96.78177</span> <span class="number">32.84936</span>     burglary</span><br><span class="line"><span class="number">185</span> -<span class="number">96.76601</span> <span class="number">32.87257</span>    car theft</span><br><span class="line"><span class="number">169</span> -<span class="number">96.77876</span> <span class="number">32.85879</span>    car theft</span><br><span class="line"><span class="number">262</span> -<span class="number">96.78792</span> <span class="number">32.83630</span> intoxication</span><br><span class="line"><span class="number">278</span> -<span class="number">96.79579</span> <span class="number">32.84205</span> intoxication</span><br><span class="line">plot(observations[,c(<span class="string">"lon"</span>, <span class="string">"lat"</span>)], col = observations[, <span class="string">"crime"</span>])</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-20.png" alt="2016-05-24-explorating-data-20.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(<span class="string">"ggmap"</span>)</span><br><span class="line">SMU_map &lt;- get_map(location = loc, zoom = <span class="number">14</span>)</span><br><span class="line">ggmap(SMU_map) +</span><br><span class="line">  geom_point(aes(x = lon, y = lat, color = crime),</span><br><span class="line">             data = observations, alpha = <span class="number">.5</span>) +</span><br><span class="line">  scale_color_discrete(labels = levels(observations[,<span class="string">"crime"</span>])) +</span><br><span class="line">  ggtitle(<span class="string">"Reported crimes around the SMU Campus"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-21.png" alt="2016-05-24-explorating-data-21.png" title="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ggmap(SMU_map) +</span><br><span class="line">  stat_density2d(aes(fill = ..level.., alpha = ..level.., x = lon, y = lat),</span><br><span class="line">                 geom=<span class="string">"polygon"</span>, data = observations) +</span><br><span class="line">  scale_alpha(guide = <span class="string">'none'</span>)+</span><br><span class="line">  ggtitle(<span class="string">"Crime density around the SMU Campus"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/24/explorating-data/2016-05-24-explorating-data-22.png" alt="2016-05-24-explorating-data-22.png" title="">
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/data-mining/">data mining</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/24/explorating-data/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/16/density-estimation/" title="Density Estimation" itemprop="url">Density Estimation</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-05-16T11:05:49.000Z" itemprop="datePublished"> Published 2016-05-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Scattered-Plot"><a href="#Scattered-Plot" class="headerlink" title="Scattered Plot"></a>Scattered Plot</h1><p>jitter 함수는 렌덤하게 노이즈를 추가한다. 이를 이용해서 다음과 같이 학생 수에 대한 scatterplot을 그린다.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plot(elementary$Students, jitter(rep(<span class="number">1</span>, nrow(elementary))), ylab =<span class="string">""</span>, yaxt = <span class="string">"n"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/16/density-estimation/density_est_01.png" alt="plot(elementary$Students, jitter(rep(1, nrow(elementary))), ylab =" ",="" yaxt="n" )"="" title="plot(elementary$Students, jitter(rep(1, nrow(elementary))), ylab =">
<h1 id="Histogram"><a href="#Histogram" class="headerlink" title="Histogram"></a>Histogram</h1><p>밀도 측정이니… 히스토그램이 빠질 수 없다..<br>KDE (Kernel Density Estimate)도 빨간 선으로 표시한다.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hist(elementary$Students, freq = <span class="literal">FALSE</span>)</span><br><span class="line">rug(elementary$Students)</span><br><span class="line">lines(density(elementary$Students), col=<span class="string">'red'</span>, lwd=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>rug는 표본수가 많아서 그런지 그냥 시꺼멓게 나온다.</p>
<img src="/2016/05/16/density-estimation/density_est_02.png" alt="Histogram & KDE" title="Histogram & KDE">
<h1 id="2d-KDE"><a href="#2d-KDE" class="headerlink" title="2d KDE"></a>2d KDE</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(MASS)</span><br><span class="line">dens &lt;- kde2d(elementary$Students, elementary$Teachers, n=<span class="number">100</span>)</span><br><span class="line">image(dens, xlab=<span class="string">"Students"</span>, ylab=<span class="string">"Teachers"</span>)</span><br><span class="line">contour(dens, add=<span class="literal">TRUE</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/16/density-estimation/density_est_03.png" alt="2D KDE" title="2D KDE">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">points(jitter(elementary$Students, <span class="number">2</span>), jitter(elementary$Teachers, <span class="number">2</span>), cex=<span class="number">.7</span>, pch=<span class="string">"+"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/16/density-estimation/density_est_04.png" alt="2D KDE with points" title="2D KDE with points">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">persp(dens, xlab=<span class="string">"Students"</span>, ylab=<span class="string">"Teachers"</span>, zlab=<span class="string">"density"</span>, shade=<span class="number">.5</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/16/density-estimation/density_est_05.png" alt="3D" title="3D">
<h1 id="With-plotly"><a href="#With-plotly" class="headerlink" title="With plotly"></a>With plotly</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(plotly)</span><br><span class="line">plot_ly(dens, z = z, type = <span class="string">"surface"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/05/16/density-estimation/density_est_06.png" alt="plotly" title="plotly">
<p>이제서야 data mining을 복습해 봤다…<br>Data Explorating 차례다…</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/16/density-estimation/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/03/relationship-between_features/" title="relationship between features" itemprop="url">relationship between features</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-05-03T11:58:37.000Z" itemprop="datePublished"> Published 2016-05-03</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>데이터를 로드하고.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">temp = read.table(<span class="string">"2015.edu.elementary.csv"</span>, sep=<span class="string">','</span>, header = <span class="literal">TRUE</span>)</span><br><span class="line">elementary &lt;- unique(temp[complete.cases(temp),])</span><br><span class="line">elementary$Province = as.numeric(elementary$Province)</span><br><span class="line">elementary$Gov = as.numeric(elementary$교육지원청)</span><br><span class="line">elementary$Students = as.numeric(elementary$Students)</span><br></pre></td></tr></table></figure></p>
<h1 id="Correlation-for-ratio-interval-scaled-features"><a href="#Correlation-for-ratio-interval-scaled-features" class="headerlink" title="Correlation (for ratio/interval scaled features)"></a>Correlation (for ratio/interval scaled features)</h1><p>상관 관계를 구하면<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; cor(elementary[<span class="number">13</span>:<span class="number">15</span>])</span><br><span class="line">              Rooms   Students   Teachers</span><br><span class="line">Rooms    <span class="number">1.00000000</span> <span class="number">0.05938743</span> <span class="number">0.98902676</span></span><br><span class="line">Students <span class="number">0.05938743</span> <span class="number">1.00000000</span> <span class="number">0.06299264</span></span><br><span class="line">Teachers <span class="number">0.98902676</span> <span class="number">0.06299264</span> <span class="number">1.00000000</span></span><br></pre></td></tr></table></figure></p>
<p>선생님수와 학급수가 강한 상관관계를 가짐을 알 수 있다.</p>
<p>원래는 다음과 같이 각 요소간 상관관계를 전치 행렬로 변환하여 상관관계를 구해<br>pimage로 확인해 봐야 하나…</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cc &lt;- cor(t(elementary[<span class="number">13</span>:<span class="number">15</span>]))</span><br><span class="line">cc[<span class="number">1</span>:<span class="number">50</span>, <span class="number">1</span>:<span class="number">50</span>]</span><br><span class="line"><span class="keyword">library</span>(<span class="string">"seriation"</span>) <span class="comment"># for pimage</span></span><br><span class="line">pimage(cc[<span class="number">1</span>:<span class="number">100</span>, <span class="number">1</span>:<span class="number">100</span>], main = <span class="string">"Correlation between objects"</span>)</span><br><span class="line">dim(cc)</span><br></pre></td></tr></table></figure>
<p>거먼색만 나온다… -,.-</p>
<img src="/2016/05/03/relationship-between_features/relationship_01.png" alt="pimage(cc[1:100, 1:100], main = 'Correlation between objects')" title="pimage(cc[1:100, 1:100], main = 'Correlation between objects')">
<p>대신 좀 뻔하지만, Rooms, Students, Teachers 상관관계를 그려보면 다음과 같다<br><img src="/2016/05/03/relationship-between_features/relationship_02.png" alt="pimage(cor(elementary[13:15]))" title="pimage(cor(elementary[13:15]))"></p>
<h1 id="Rank-Relationship"><a href="#Rank-Relationship" class="headerlink" title="Rank Relationship"></a>Rank Relationship</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; elementary_ord &lt;- data.frame(</span><br><span class="line">+ cut(elementary[,<span class="number">13</span>], <span class="number">3</span>, labels=c(<span class="string">"short"</span>, <span class="string">"medium"</span>, <span class="string">"long"</span>), ordered=<span class="literal">T</span>),</span><br><span class="line">+ cut(elementary[,<span class="number">14</span>], <span class="number">3</span>, labels=c(<span class="string">"short"</span>, <span class="string">"medium"</span>, <span class="string">"long"</span>), ordered=<span class="literal">T</span>),</span><br><span class="line">+ cut(elementary[,<span class="number">15</span>], <span class="number">3</span>, labels=c(<span class="string">"short"</span>, <span class="string">"medium"</span>, <span class="string">"long"</span>), ordered=<span class="literal">T</span>))</span><br><span class="line">&gt; colnames(elementary_ord) &lt;- colnames(elementary[<span class="number">13</span>:<span class="number">15</span>])</span><br><span class="line">&gt; summary(elementary_ord)</span><br><span class="line">    Rooms        Students      Teachers   </span><br><span class="line"> short :<span class="number">4461</span>   short :<span class="number">1222</span>   short :<span class="number">4108</span>  </span><br><span class="line"> medium:<span class="number">1764</span>   medium:<span class="number">2764</span>   medium:<span class="number">2056</span>  </span><br><span class="line"> long  :  <span class="number">28</span>   long  :<span class="number">2267</span>   long  :  <span class="number">89</span></span><br></pre></td></tr></table></figure>
<p>Kendall’s tau rank correlation coefficient</p>
<blockquote>
<p><a href="https://en.wikipedia.org/wiki/Kendall_rank_correlation_coefficient" target="_blank" rel="external">https://en.wikipedia.org/wiki/Kendall_rank_correlation_coefficient</a><br><a href="http://wolfpack.hnu.ac.kr/lecture/Spring01/nonparametric/nonpara8.pdf" target="_blank" rel="external">http://wolfpack.hnu.ac.kr/lecture/Spring01/nonparametric/nonpara8.pdf</a><br><a href="http://wolfpack.hnu.ac.kr/lecture/Spring01/nonparametric/index.htm" target="_blank" rel="external">http://wolfpack.hnu.ac.kr/lecture/Spring01/nonparametric/index.htm</a></p>
</blockquote>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; cor(sapply(elementary_ord, xtfrm), method=<span class="string">"kendall"</span>)</span><br><span class="line">             Rooms  Students  Teachers</span><br><span class="line">Rooms    <span class="number">1.0000000</span> <span class="number">0.1421921</span> <span class="number">0.8680415</span></span><br><span class="line">Students <span class="number">0.1421921</span> <span class="number">1.0000000</span> <span class="number">0.1797677</span></span><br><span class="line">Teachers <span class="number">0.8680415</span> <span class="number">0.1797677</span> <span class="number">1.0000000</span></span><br></pre></td></tr></table></figure>
<p>Spearman’s rho<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; cor(sapply(elementary_ord, xtfrm), method=<span class="string">"spearman"</span>)</span><br><span class="line">             Rooms  Students  Teachers</span><br><span class="line">Rooms    <span class="number">1.0000000</span> <span class="number">0.1490474</span> <span class="number">0.8722736</span></span><br><span class="line">Students <span class="number">0.1490474</span> <span class="number">1.0000000</span> <span class="number">0.1865755</span></span><br><span class="line">Teachers <span class="number">0.8722736</span> <span class="number">0.1865755</span> <span class="number">1.0000000</span></span><br></pre></td></tr></table></figure></p>
<h1 id="Relationship-between-nominal-and-ordinal-features"><a href="#Relationship-between-nominal-and-ordinal-features" class="headerlink" title="Relationship between nominal and ordinal features"></a>Relationship between nominal and ordinal features</h1><p>카이제곱 검정<br>명목척도(nominal)를 이용하여 측정된 자료에서 연관성을 찾을 때 사용.<br>상관성은 서열척도(ordinal), 구간척도, 비율척도로 측정된 자료의 연관성을 찾을 때 사용.</p>
<p>일단 ordinal 데이터인 학생수를 3등분하여 short, medium, long의 nominal 데이터로 만든다.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; elementary_ord &lt;- data.frame(</span><br><span class="line">+ elementary$교육지원청,</span><br><span class="line">+ cut(elementary[,<span class="number">13</span>], <span class="number">3</span>, labels=c(<span class="string">"short"</span>, <span class="string">"medium"</span>, <span class="string">"long"</span>), ordered=<span class="literal">T</span>),</span><br><span class="line">+ cut(elementary[,<span class="number">14</span>], <span class="number">3</span>, labels=c(<span class="string">"short"</span>, <span class="string">"medium"</span>, <span class="string">"long"</span>), ordered=<span class="literal">T</span>),</span><br><span class="line">+ cut(elementary[,<span class="number">15</span>], <span class="number">3</span>, labels=c(<span class="string">"short"</span>, <span class="string">"medium"</span>, <span class="string">"long"</span>), ordered=<span class="literal">T</span>))</span><br><span class="line">&gt; colnames(elementary_ord) &lt;- c(<span class="string">'Gov'</span>, <span class="string">'Rooms'</span>, <span class="string">'Students'</span>, <span class="string">'Teachers'</span>)</span><br><span class="line">&gt; head(elementary_ord)</span><br><span class="line">   Gov  Rooms Students Teachers</span><br><span class="line"><span class="number">1</span> 강릉  short     long    short</span><br><span class="line"><span class="number">2</span> 강릉  short   medium    short</span><br><span class="line"><span class="number">3</span> 강릉  short   medium    short</span><br><span class="line"><span class="number">4</span> 강릉 medium     long   medium</span><br><span class="line"><span class="number">5</span> 강릉  short   medium    short</span><br><span class="line"><span class="number">6</span> 강릉  short     long    short</span><br></pre></td></tr></table></figure>
<p>이렇게 하면, Gov, Rooms, Student, Teachers 모두 범주형 변수가 된다.<br>Gov와 Rooms 변수로 분할표(contigency table)을 다음과 같이 만든다.</p>
<blockquote>
<p><a href="http://dermabae.tistory.com/172" target="_blank" rel="external">http://dermabae.tistory.com/172</a><br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">tbl &lt;- table(Students=elementary_ord$Students, elementary_ord$Gov)</span><br><span class="line">&gt; head(tbl)</span><br><span class="line">대략 이리나옴<span class="keyword">...</span></span><br><span class="line">Students 가평 강남 강동·송파 강릉 강북 강서 강진 강화 거제 거창 경산 경주 고령 고성 고양 고창 고흥</span><br><span class="line">  short     <span class="number">2</span>   <span class="number">25</span>         <span class="number">20</span>    <span class="number">4</span>   <span class="number">10</span>   <span class="number">21</span>    <span class="number">1</span>    <span class="number">4</span>    <span class="number">8</span>    <span class="number">1</span>    <span class="number">5</span>   <span class="number">13</span>    <span class="number">2</span>    <span class="number">4</span>   <span class="number">15</span>    <span class="number">1</span>    <span class="number">4</span></span><br><span class="line">  medium    <span class="number">6</span>   <span class="number">46</span>         <span class="number">12</span>   <span class="number">22</span>   <span class="number">23</span>   <span class="number">19</span>    <span class="number">8</span>   <span class="number">12</span>   <span class="number">13</span>   <span class="number">15</span>   <span class="number">13</span>   <span class="number">22</span>    <span class="number">7</span>   <span class="number">25</span>   <span class="number">30</span>   <span class="number">17</span>   <span class="number">12</span></span><br><span class="line">  long      <span class="number">8</span>   <span class="number">50</span>         <span class="number">32</span>   <span class="number">11</span>   <span class="number">24</span>   <span class="number">27</span>    <span class="number">5</span>    <span class="number">7</span>   <span class="number">17</span>    <span class="number">1</span>   <span class="number">14</span>   <span class="number">12</span>    <span class="number">0</span>    <span class="number">6</span>   <span class="number">37</span>    <span class="number">3</span>    <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt; chisq.test(tbl)</span><br><span class="line"></span><br><span class="line">	Pearson<span class="string">'s Chi-squared test</span><br><span class="line"></span><br><span class="line">data:  tbl</span><br><span class="line">X-squared = 735.12, df = 320, p-value &lt; 2.2e-16</span><br><span class="line"></span><br><span class="line">Warning message:</span><br><span class="line">In chisq.test(tbl) : Chi-squared approximation may be incorrect</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>값이 몰 의미하는지는 모르겠다… 0.05보다는 훨 작긴한거 같은데.. 관련있다는 뜻인가?</p>
<p>교실수는?<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; chisq.test(table(Students=elementary_ord$Rooms, elementary_ord$Gov))</span><br><span class="line"></span><br><span class="line">	Pearson<span class="string">'s Chi-squared test</span><br><span class="line"></span><br><span class="line">data:  table(Students = elementary_ord$Rooms, elementary_ord$Gov)</span><br><span class="line">X-squared = 1286, df = 320, p-value &lt; 2.2e-16</span><br><span class="line"></span><br><span class="line">Warning message:</span><br><span class="line">In chisq.test(table(Students = elementary_ord$Rooms, elementary_ord$Gov)) :</span><br><span class="line">  Chi-squared approximation may be incorrect</span></span><br></pre></td></tr></table></figure></p>
<p>선생님 수는?<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; chisq.test(table(Students=elementary_ord$Teachers, elementary_ord$Gov))</span><br><span class="line"></span><br><span class="line">	Pearson<span class="string">'s Chi-squared test</span><br><span class="line"></span><br><span class="line">data:  table(Students = elementary_ord$Teachers, elementary_ord$Gov)</span><br><span class="line">X-squared = 1721.1, df = 320, p-value &lt; 2.2e-16</span><br><span class="line"></span><br><span class="line">Warning message:</span><br><span class="line">In chisq.test(table(Students = elementary_ord$Teachers, elementary_ord$Gov)) :</span><br><span class="line">  Chi-squared approximation may be incorrect</span></span><br></pre></td></tr></table></figure></p>
<p>선생님과 교실수 해볼까?<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; chisq.test(table(elementary_ord$Teachers, elementary_ord$Rooms))</span><br><span class="line"></span><br><span class="line">	Pearson<span class="string">'s Chi-squared test</span><br><span class="line"></span><br><span class="line">data:  table(elementary_ord$Teachers, elementary_ord$Rooms)</span><br><span class="line">X-squared = 6493.6, df = 4, p-value &lt; 2.2e-16</span><br><span class="line"></span><br><span class="line">Warning message:</span><br><span class="line">In chisq.test(table(elementary_ord$Teachers, elementary_ord$Rooms)) :</span><br><span class="line">  Chi-squared approximation may be incorrect</span></span><br></pre></td></tr></table></figure></p>
<p>모 p-value는 모에 쓰는지 모르겠네.. X^2은 확연이 차이나는거 같다…</p>
<p>여기까지 하자.. 나중에 다시 고민해 볼 날이 오겠지…</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/03/relationship-between_features/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/14/proximities/" title="Proximities - Similarities and distances" itemprop="url">Proximities - Similarities and distances</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-04-14T11:23:41.000Z" itemprop="datePublished"> Published 2016-04-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Note: R actually only uses dissimilarities/distances.</p>
<p>데이터 읽어온다.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">temp = read.table(<span class="string">"2015.edu.elementary.csv"</span>, sep=<span class="string">','</span>, header = <span class="literal">TRUE</span>)</span><br><span class="line">elementary &lt;- unique(temp[complete.cases(temp),])</span><br><span class="line">elementary$Students = as.numeric(edu.elementary$Students)</span><br><span class="line">elementary.scaled = scale(elementary[<span class="number">13</span>:<span class="number">15</span>])</span><br></pre></td></tr></table></figure></p>
<h1 id="Minkovsky-distances"><a href="#Minkovsky-distances" class="headerlink" title="Minkovsky distances"></a>Minkovsky distances</h1><ul>
<li>euclidean<br>두 벡터의 거리<br>sqrt(sum((x_i - y_i)^2)</li>
<li>maximum<br>거리중 최대 값</li>
<li>manhattan<br>절대 거리(absolute distance)</li>
<li>canberra</li>
<li>binary</li>
<li>minkowski</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; elementary.scaled[<span class="number">1</span>:<span class="number">5</span>,]</span><br><span class="line">        Rooms   Students   Teachers</span><br><span class="line"><span class="number">1</span> -<span class="number">0.90044886</span> <span class="number">0.68287923</span> -<span class="number">0.8310046</span></span><br><span class="line"><span class="number">2</span>  <span class="number">0.20658203</span> <span class="number">0.39429860</span>  <span class="number">0.0916926</span></span><br><span class="line"><span class="number">3</span> -<span class="number">0.97425092</span> <span class="number">0.07974572</span> -<span class="number">1.0360485</span></span><br><span class="line"><span class="number">4</span>  <span class="number">0.87080057</span> <span class="number">1.07246307</span>  <span class="number">0.8093460</span></span><br><span class="line"><span class="number">5</span> -<span class="number">0.01482415</span> <span class="number">0.07397411</span>  <span class="number">0.1429536</span></span><br><span class="line">&gt; dist(elementary.scaled[<span class="number">1</span>:<span class="number">5</span>,], method=<span class="string">"euclidean"</span>)</span><br><span class="line">          <span class="number">1</span>         <span class="number">2</span>         <span class="number">3</span>         <span class="number">4</span></span><br><span class="line"><span class="number">2</span> <span class="number">1.4697504</span>                              </span><br><span class="line"><span class="number">3</span> <span class="number">0.6412954</span> <span class="number">1.6628620</span>                    </span><br><span class="line"><span class="number">4</span> <span class="number">2.4453733</span> <span class="number">1.1900083</span> <span class="number">2.7919856</span>          </span><br><span class="line"><span class="number">5</span> <span class="number">1.4504107</span> <span class="number">0.3927546</span> <span class="number">1.5200588</span> <span class="number">1.4917742</span></span><br><span class="line">&gt; dist(elementary.scaled[<span class="number">1</span>:<span class="number">5</span>,], method=<span class="string">"manhattan"</span>)</span><br><span class="line">          <span class="number">1</span>         <span class="number">2</span>         <span class="number">3</span>         <span class="number">4</span></span><br><span class="line"><span class="number">2</span> <span class="number">2.3183088</span>                              </span><br><span class="line"><span class="number">3</span> <span class="number">0.8819794</span> <span class="number">2.6231269</span>                    </span><br><span class="line"><span class="number">4</span> <span class="number">3.8011839</span> <span class="number">2.0600364</span> <span class="number">4.6831633</span>          </span><br><span class="line"><span class="number">5</span> <span class="number">2.4684880</span> <span class="number">0.5929916</span> <span class="number">2.1442004</span> <span class="number">2.5505061</span></span><br><span class="line">&gt; dist(elementary.scaled[<span class="number">1</span>:<span class="number">5</span>,], method=<span class="string">"maximum"</span>)</span><br><span class="line">          <span class="number">1</span>         <span class="number">2</span>         <span class="number">3</span>         <span class="number">4</span></span><br><span class="line"><span class="number">2</span> <span class="number">1.1070309</span>                              </span><br><span class="line"><span class="number">3</span> <span class="number">0.6031335</span> <span class="number">1.1808330</span>                    </span><br><span class="line"><span class="number">4</span> <span class="number">1.7712494</span> <span class="number">0.7176534</span> <span class="number">1.8453945</span>          </span><br><span class="line"><span class="number">5</span> <span class="number">0.9739582</span> <span class="number">0.3203245</span> <span class="number">1.1790020</span> <span class="number">0.9984890</span></span><br></pre></td></tr></table></figure>
<h1 id="Distances-for-binary-data-Jaccard-and-Hamming"><a href="#Distances-for-binary-data-Jaccard-and-Hamming" class="headerlink" title="Distances for binary data (Jaccard and Hamming)"></a>Distances for binary data (Jaccard and Hamming)</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; b &lt;- rbind(</span><br><span class="line">+ c(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),</span><br><span class="line">+ c(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">+ )</span><br><span class="line">&gt; b</span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>] [,<span class="number">3</span>] [,<span class="number">4</span>] [,<span class="number">5</span>] [,<span class="number">6</span>] [,<span class="number">7</span>] [,<span class="number">8</span>] [,<span class="number">9</span>] [,<span class="number">10</span>]</span><br><span class="line">[<span class="number">1</span>,]    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>    <span class="number">1</span>    <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>    <span class="number">0</span>     <span class="number">1</span></span><br><span class="line">[<span class="number">2</span>,]    <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>    <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">&gt; dist(b, method=<span class="string">"binary"</span>)</span><br><span class="line">          <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">0.7142857</span></span><br><span class="line">&gt; dist(b, method=<span class="string">"manhattan"</span>)</span><br><span class="line">  <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>
<h1 id="Gower’s-distance"><a href="#Gower’s-distance" class="headerlink" title="Gower’s distance"></a>Gower’s distance</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; data &lt;- data.frame(</span><br><span class="line">+ height= c(      <span class="number">160</span>,    <span class="number">185</span>,    <span class="number">170</span>),</span><br><span class="line">+ weight= c(       <span class="number">52</span>,     <span class="number">90</span>,     <span class="number">75</span>),</span><br><span class="line">+ sex=    c( <span class="string">"female"</span>, <span class="string">"male"</span>, <span class="string">"male"</span>)</span><br><span class="line">+ )</span><br><span class="line">&gt; data</span><br><span class="line">  height weight    sex</span><br><span class="line"><span class="number">1</span>    <span class="number">160</span>     <span class="number">52</span> female</span><br><span class="line"><span class="number">2</span>    <span class="number">185</span>     <span class="number">90</span>   male</span><br><span class="line"><span class="number">3</span>    <span class="number">170</span>     <span class="number">75</span>   male</span><br><span class="line">&gt; dist(data, method=<span class="string">"Gower"</span>)</span><br><span class="line">          <span class="number">1</span>         <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">1.0000000</span>          </span><br><span class="line"><span class="number">3</span> <span class="number">0.6684211</span> <span class="number">0.3315789</span></span><br></pre></td></tr></table></figure>
<h1 id="Additional-proximity-measures-available-in-package-proxy"><a href="#Additional-proximity-measures-available-in-package-proxy" class="headerlink" title="Additional proximity measures available in package proxy"></a>Additional proximity measures available in package proxy</h1>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/04/14/proximities/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/13/discretize-features/" title="Discretize Features" itemprop="url">Discretize Features</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-04-13T10:28:23.000Z" itemprop="datePublished"> Published 2016-04-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Discretrize-features"><a href="#Discretrize-features" class="headerlink" title="Discretrize features"></a>Discretrize features</h1><p>hist 함수는 히스토그램을 보여준다.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hist(edu.elementary$Students)</span><br></pre></td></tr></table></figure>
<img src="/2016/04/13/discretize-features/discretize_01.png" alt="hist(edu.elementary$Students)" title="hist(edu.elementary$Students)">
<p>cut, ifelse, within 함수의 사용법</p>
<blockquote>
<p><a href="http://rfriend.tistory.com/38" target="_blank" rel="external">http://rfriend.tistory.com/38</a></p>
</blockquote>
<p>cut 함수는 연속형 데이터(continuous data)를 범주형 데이터(categorical data)로 변형해 준다.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; cut_result = cut(edu.elementary$Students, breaks=<span class="number">3</span>)</span><br><span class="line">&gt; summary(cut_result)</span><br><span class="line">  (-<span class="number">0.351</span>,<span class="number">451</span>]      (<span class="number">451</span>,<span class="number">902</span>] (<span class="number">902</span>,<span class="number">1.35e+03</span>] </span><br><span class="line">          <span class="number">1222</span>           <span class="number">2764</span>           <span class="number">2267</span></span><br></pre></td></tr></table></figure>
<img src="/2016/04/13/discretize-features/discretize_02.png" alt="plot(cut_result)" title="plot(cut_result)">
<p>discretize 함수는 연속형 데이터에서 범주형 데이터를 변환하는데 있어 다음과 같은 방식을 지원한다.</p>
<ul>
<li>interval: 단순히 주어진 단위 기준으로 등분</li>
<li>frequency: 데이터 빈도 기준으로 등분</li>
<li>cluster: k means 방법으로 등분</li>
<li>fixed: 사용자가 직접 categories 에 벡터를 대입하여 등분</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(arules)</span><br><span class="line">hist(edu.elementary$Students)</span><br><span class="line">abline(v=discretize(edu.elementary$Students, method=<span class="string">"interval"</span>,categories=<span class="number">3</span>,onlycuts=<span class="literal">TRUE</span>), col=<span class="string">"blue"</span>)</span><br><span class="line">abline(v=discretize(edu.elementary$Students, method=<span class="string">"frequency"</span>,categories=<span class="number">3</span>,onlycuts=<span class="literal">TRUE</span>), col=<span class="string">"red"</span>)</span><br><span class="line">abline(v=discretize(edu.elementary$Students, method=<span class="string">"cluster"</span>,categories=<span class="number">3</span>,onlycuts=<span class="literal">TRUE</span>), col=<span class="string">"yellow"</span>)</span><br></pre></td></tr></table></figure>
<img src="/2016/04/13/discretize-features/discretize_03.png" alt="파랑:inteval, 빨강:빈도, 노랑:kmean" title="파랑:inteval, 빨강:빈도, 노랑:kmean">
<h1 id="Standardize-data-Z-score"><a href="#Standardize-data-Z-score" class="headerlink" title="Standardize data (Z-score)"></a>Standardize data (Z-score)</h1><p>표준화…<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt; head(edu.elementary[<span class="number">13</span>:<span class="number">15</span>])</span><br><span class="line">  Rooms Students Teachers</span><br><span class="line"><span class="number">1</span>     <span class="number">7</span>      <span class="number">982</span>       <span class="number">13</span></span><br><span class="line"><span class="number">2</span>    <span class="number">22</span>      <span class="number">882</span>       <span class="number">31</span></span><br><span class="line"><span class="number">3</span>     <span class="number">6</span>      <span class="number">773</span>        <span class="number">9</span></span><br><span class="line"><span class="number">4</span>    <span class="number">31</span>     <span class="number">1117</span>       <span class="number">45</span></span><br><span class="line"><span class="number">5</span>    <span class="number">19</span>      <span class="number">771</span>       <span class="number">32</span></span><br><span class="line"><span class="number">6</span>     <span class="number">6</span>     <span class="number">1070</span>       <span class="number">10</span></span><br><span class="line">&gt; head(scale(edu.elementary[<span class="number">13</span>:<span class="number">15</span>]))</span><br><span class="line">        Rooms   Students   Teachers</span><br><span class="line"><span class="number">1</span> -<span class="number">0.90044886</span> <span class="number">0.68287923</span> -<span class="number">0.8310046</span></span><br><span class="line"><span class="number">2</span>  <span class="number">0.20658203</span> <span class="number">0.39429860</span>  <span class="number">0.0916926</span></span><br><span class="line"><span class="number">3</span> -<span class="number">0.97425092</span> <span class="number">0.07974572</span> -<span class="number">1.0360485</span></span><br><span class="line"><span class="number">4</span>  <span class="number">0.87080057</span> <span class="number">1.07246307</span>  <span class="number">0.8093460</span></span><br><span class="line"><span class="number">5</span> -<span class="number">0.01482415</span> <span class="number">0.07397411</span>  <span class="number">0.1429536</span></span><br><span class="line"><span class="number">6</span> -<span class="number">0.97425092</span> <span class="number">0.93683018</span> -<span class="number">0.9847875</span></span><br></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/04/13/discretize-features/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/R-data-mining/" title="R, data mining">R, data mining<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/angularjs/" title="angularjs">angularjs<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/rabbitmq/" title="rabbitmq">rabbitmq<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/tech/" title="tech">tech<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/rabiitmq/" title="rabiitmq">rabiitmq<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/css/" title="css">css<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/devops/" title="devops">devops<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/data-mining/" title="data mining">data mining<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/smashingmagazine/" title="smashingmagazine">smashingmagazine<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/monitoring/" title="monitoring">monitoring<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/lodash/" title="lodash">lodash<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="#" target="_blank" title="home">home</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> ^^; <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="SwForge">SwForge</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
