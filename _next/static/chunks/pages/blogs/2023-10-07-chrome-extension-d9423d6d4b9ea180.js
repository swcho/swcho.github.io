(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8552],{3717:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8764:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>v,meta:()=>b});var r=t(37876),i=t(91668);let s={src:"/_next/static/media/image.0a84a9e4.png",height:279,width:453,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAElBMVEX9/f35+fry8vPq6uvz7e343t53ayIMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIklEQVR4nB3BgQ3AQBACIDzt/is3eXBPjzYyrMs+XCdBHj8G4wBEx9r7RAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5},c={src:"/_next/static/media/image-1.f53b2546.png",height:580,width:856,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAADFBMVEU7PD8qKSk0MjRERkzVgKlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAI0lEQVR4nB3JwQ0AAAyCQJT9d24sr0uAT8G2SShIB1WGH8kBBHMAN2n9244AAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},l={src:"/_next/static/media/image-2.95666be3.png",height:370,width:1714,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAD1BMVEXw8PD+/v7b29v29vbs7Ow0B8oAAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAGUlEQVR4nAXBAQEAAACCIK3+bw5IqCpsqD0A7AAaExJuHgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2},o={src:"/_next/static/media/image-3.0c04af4c.png",height:592,width:706,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAElBMVEX+/v7f4N7Q0NDp6unz9PHY2teE49jhAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAKUlEQVR4nD2KQQoAMAyDYpv8/8uDFOZJRE2JRFDZ3S9gWyRXPHOTofIAC64AVNhZwM8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:7},a={src:"/_next/static/media/image-4.06f9bfb4.png",height:990,width:906,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAG1BMVEXa2djU09L////5+fnY1M/OztDGxsfu7u7j4d/G4q3FAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAL0lEQVR4nCXFwQ3AAAwCsQNC0v0nrqr6Yx7aAhJSQi5xjDp7Nsws35pV/nsGppxfFB0Aognx28oAAAAASUVORK5CYII=",blurWidth:7,blurHeight:8},d={src:"/_next/static/media/image-5.38b37ad1.png",height:662,width:984,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAADFBMVEX////5+Pjx7+3q6OaSImRFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAG0lEQVR4nGNgZGJmZmZiYmJAAoyMjIzIfBgAAANeABeG0QrnAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5},A={src:"/_next/static/media/image-6.2bc69af5.png",height:542,width:932,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAD1BMVEX+/v7j4+Pt7e34+PjNzc2EKhZBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAIElEQVR4nCXJwQ0AAAiDQKTuP7OJvfADeTL6YYp0hZ06BPYAOhvS21IAAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},h={src:"/_next/static/media/image-7.91919df5.png",height:136,width:668,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAFVBMVEXIzcucn5/i5+bN09Pe2sm0uLajopcp9Rn6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAGklEQVR4nGNgYWZgYGBlZGRgYWJiYmZlZAMAAT4AKLfb4AYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},u={src:"/_next/static/media/image-8.bfd1f010.png",height:130,width:626,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAACVBMVEX4+Pj+/v7y8vKoDrNzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAF0lEQVR4nGNgYGRgYmBgZGRgYmJiBAEAAIwAEV+mj+8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},p={src:"/_next/static/media/image-9.11124389.png",height:478,width:794,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAD1BMVEX+/v729vby8vLd3t7l5eWLzENDAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAIklEQVR4nGNgZmZmYgABJhAAMViYmVlYQAxGRkZGsBQMAAAFOQAsvb4QLgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5},m={src:"/_next/static/media/image-10.82fc23d6.png",height:812,width:1032,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAD1BMVEX9/f7z8/T4+Pnt7u/i5OZlqZOzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAJ0lEQVR4nB2KwQ0AMBCCQN1/5ubKixAgbgZSwYocK/mSXNVOnLfyAAcVAEBvaSFuAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:6},g={src:"/_next/static/media/image-11.fe0e5514.png",height:1698,width:1722,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEX+/v74+Pnd3N7u7e/a2dvi5eO01rz/+OnK3///8M+Uhbfn6MTFyHruqJuKFMvQAAAACXBIWXMAABYlAAAWJQFJUiTwAAAANElEQVR4nB3KxxGAQBAEsR6zHDb/dCl4S7RtJGHb7YTxNAhSTwD280EClL+COO7tI1jXCF4ZpwCz0AgyLAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},x={src:"/_next/static/media/image-12.be17e571.png",height:544,width:994,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAJFBMVEX9/f2pqaotLzMmKCweISU1NjpeYWZ3eHq0tbZGR0lHUmaBi5wxz9m3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAJUlEQVR4nGNg5GBnYmZm4WRgYGBkYmViYQMxWJiZIQwmVlYubgAHkQBxQQm8SgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4};var j=t(91013);let b={title:"Chrome extension API 정리",description:"Chrome extension 예제에서 다루는 API를 살펴 봅니다.",date:"2023-10-07",readTime:5},f=e=>{let{children:n}=e;return(0,r.jsx)(j.A,{meta:b,children:n})};function w(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:"시작하며"}),"\n",(0,r.jsx)(n.p,{children:"본 글은 아래 예제를 참조하여 정리하였습니다."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/GoogleChrome/chrome-extensions-samples",children:"GoogleChrome/chrome-extensions-samples: Chrome Extensions Samples"})}),"\n"]}),"\n",(0,r.jsx)(n.h1,{children:"chrome-extensions-samples"}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.action"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Alt text",src:s})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pinned 한 확장 아이콘의 enable/disable"}),"\n",(0,r.jsx)(n.li,{children:"확장 아이콘 클릭 시 나타나는 pop up 설정 및 동적 변경"}),"\n",(0,r.jsx)(n.li,{children:"하단에 표시하는 badge 표시 (색상, 배경색)"}),"\n",(0,r.jsx)(n.li,{children:"확장 아이콘의 설정 및 동적 변경"}),"\n",(0,r.jsx)(n.li,{children:"확장 아이콘 hover text"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.alarms"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"알람 설정, 이벤트 등록, 취소"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.bookmarks"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"북마크 추가/삭제/수정"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.browsingData"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"방문기록 삭제"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.contentSettings"})}),"\n",(0,r.jsx)(n.p,{children:"다음 저장 기록 불러오기, 설정하기"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let types = [\n  'cookies',\n  'images',\n  'javascript',\n  'location',\n  'popups',\n  'notifications',\n  'microphone',\n  'camera',\n  'automaticDownloads',\n];\n"})}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.contextMenus"})}),"\n",(0,r.jsx)(n.p,{children:"컨텍스트 메뉴 생성, 삭제"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let contexts = ['page', 'selection', 'link', 'editable', 'image', 'video', 'audio'];\n"})}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.cookies"})}),"\n",(0,r.jsx)(n.p,{children:"쿠키 정보 가져오기, 삭제"}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.debugger"})}),"\n",(0,r.jsx)(n.p,{children:"네트워크 정보"}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.declarativeNetRequest"})}),"\n",(0,r.jsx)(n.p,{children:"선언적 네트워크 수정"}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.commands"})}),"\n",(0,r.jsxs)(n.p,{children:["먼저 ",(0,r.jsx)(n.code,{children:"manifest.json"}),"에 다음과 같이 custom command를 선언합니다."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'  "commands": {\n    "flip-tabs-forward": {\n      "suggested_key": {\n        "default": "Ctrl+Shift+Right",\n        "mac": "Command+Shift+Right"\n      },\n      "description": "Flip tabs forward"\n    },\n    "flip-tabs-backwards": {\n      "suggested_key": {\n        "default": "Ctrl+Shift+Left",\n        "mac": "Command+Shift+Left"\n      },\n      "description": "Flip tabs backwards"\n    }\n  },\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"chrome.commands.onCommand.addListener"}),"에 콜백함수를 등록하여 각 명령을 처리할 수 있습니다."]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.devtools"})}),"\n",(0,r.jsxs)(n.p,{children:["다음과 같이 ",(0,r.jsx)(n.code,{children:"manifest.json"}),"에 devtools의 확장 패키지 내에 있는 entry 페이지를 기술합니다."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'  "devtools_page": "devtools.html"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"chrome.devtools.panels.create"}),"로 패널을 등록할 수 있습니다."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/reference/devtools_inspectedWindow/",children:"chrome.devtools.inspectedWindow"}),"에 접근하여 js 주입 및 리소스 정보를 얻어올 수 있습니다."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://runebook.dev/ko/docs/web_extensions/api/devtools/panels/elementspanel/createsidebarpane",children:"devtools.panels.ElementsPanel.createSidebarPane()"}),"을 사용하여 sidebar 영역을 생성할 수 있습니다.\n",(0,r.jsx)(n.img,{alt:"Alt text",src:c})]}),"\n",(0,r.jsx)(n.h2,{children:"favicon"}),"\n",(0,r.jsx)(n.p,{children:"특정 사이트의 favicon을 가져옵니다."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/mv3/favicon/",children:"Fetching favicons in Chrome extensions - Chrome for Developers"})}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.fontSettings"})}),"\n",(0,r.jsx)(n.p,{children:"브라우저 폰트 설정"}),"\n",(0,r.jsx)(n.h2,{children:"history"}),"\n",(0,r.jsx)(n.p,{children:"방문 목록 페이지를 커스텀 할 수 있습니다."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'  "chrome_url_overrides": {\n    "history": "history.html"\n  },\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"history override",src:l})}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/reference/idle/",children:"chrome.idle"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"idle detection",src:o})}),"\n",(0,r.jsx)(n.p,{children:"특정 시간 동안 마우스나 키보드등의 동작이 없을 경우 상태 변화를 전달합니다."}),"\n",(0,r.jsx)(n.h2,{children:"i18n"}),"\n",(0,r.jsxs)(n.p,{children:["확장 패키지의 ",(0,r.jsx)(n.code,{children:"_locales"})," 폴더에 언어별로 폴더를 만들고 각 번역어를 ",(0,r.jsx)(n.code,{children:"messages.json"}),"에 저장합니다.\n이 후 js 파일에서 ",(0,r.jsx)(n.code,{children:"chrome.i18n.getMessage"})," API로 값을 가져올 수 있습니다."]}),"\n",(0,r.jsx)(n.h2,{children:"omnibox"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"omnibox",src:a})}),"\n",(0,r.jsxs)(n.p,{children:["다음과 같이 ",(0,r.jsx)(n.code,{children:"manifest.json"}),"에 키워드를 등록하면 검색창 입력을 크롬 확장과 연동할 수 있습니다."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'  "omnibox": { "keyword": "newTab" },\n'})}),"\n",(0,r.jsxs)(n.p,{children:["검색창 입력은 ",(0,r.jsx)(n.code,{children:"chrome.omnibox.onInputEntered.addListener"})," API에 콜백을 등록하여 처리할 수 있습니다."]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome_url_overrides"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"blank new tab",src:d})}),"\n",(0,r.jsxs)(n.p,{children:["새로운 탭은 ",(0,r.jsx)(n.code,{children:"chrome://newtab"}),"으로 맵핑되어 있습니다. ",(0,r.jsx)(n.code,{children:"manifest.json"}),"에서 다음과 같이 수정하여 ",(0,r.jsx)(n.code,{children:"newtab"}),"의 엔트리를 패키지의 html 문서로 변경할 수 있습니다."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'  "chrome_url_overrides": {\n    "newtab": "blank.html"\n  },\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"bookmarks"}),", ",(0,r.jsx)(n.code,{children:"history"}),", ",(0,r.jsx)(n.code,{children:"newtab"}),"등을 변경할 수 있습니다."]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.printing"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"printing`",src:A})}),"\n",(0,r.jsx)(n.p,{children:"프린터의 상세 정보를 얻고 프린트 요청을 제어할 수 있습니다."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chrome.printing.submitJob"}),": 프린트 요청"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chrome.printing.cancelJob"}),": 프린트 요청 취소"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chrome.printing.getPrinters"}),": 프린터 정보 가져오기"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chrome.printing.onJobStatusChanged"}),": 프린트 상태 변경 콜백 등록"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{children:"Privacy"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"chrome.privacy.services"})," API를 사용하여 보안 설정을 제어할 수 있습니다.\n현재는 ",(0,r.jsx)(n.code,{children:"autofillEnabled"}),"만 제공하는 것으로 보입니다."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/reference/privacy/",children:"chrome.privacy - Chrome for Developers"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"privacy"})," 권한이 필요합니다."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'  "permissions": ["privacy"],\n'})}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.notifications"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"chrome.notifications.create"})," API로 운영체제에서 제공하는 notification 배지를 생성합니다."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"basic notification",src:h})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"notifications"})," 권한이 필요합니다."]}),"\n",(0,r.jsx)(n.h2,{children:"sandbox"}),"\n",(0,r.jsxs)(n.p,{children:["확장 html 문서 내에서 ",(0,r.jsx)(n.code,{children:"<iframe/>"})," 테그를 사용하여 임베드하고자 할 경우 사용합니다."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"sandbox",src:u})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'  "sandbox": {\n    "pages": ["sandbox.html"]\n  },\n'})}),"\n",(0,r.jsxs)(n.p,{children:["다음과 같은 ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP",children:"Content Security Policy"}),"를 기본으로 적용합니다."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sandbox allow-scripts allow-forms allow-popups allow-modals; script-src 'self' 'unsafe-inline' 'unsafe-eval'; child-src 'self';\n"})}),"\n",(0,r.jsxs)(n.p,{children:["이 설정은 inline script와 ",(0,r.jsx)(n.code,{children:"eval"})," 함수 사용을 허용합니다. 대신 sandbox 페이지에서는 chrome 확장 API를 직접사용할 수 없고 ",(0,r.jsx)(n.code,{children:"postMessage"}),"를 사용하여 parent window와 통신해야 합니다."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"sandbox content",src:p})}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.scripting"})}),"\n",(0,r.jsx)(n.p,{children:"확장 패키지에 포함한 스크립트를 주입할 수 있습니다."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chrome.scripting.registerContentScripts"}),": 주입할 스크립트 등록"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chrome.scripting.executeScript"}),": 동적으로 스크립트 실행"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chrome.scripting.insertCSS"}),": 동적으로 CSS 주입"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"scripting",src:m})}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.storage"})}),"\n",(0,r.jsx)(n.p,{children:"확장 인스턴스내에서 데이터를 저장하고 공유할 수 있습니다."}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.tabCapture"})}),"\n",(0,r.jsx)(n.p,{children:"특정 tab의 화면을 비디오로 캡쳐합니다."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"chrome.tabCapture.getMediaStreamId"})," API를 사용하여 얻어온 stream id를 ",(0,r.jsx)(n.code,{children:"navigator.webkitGetUserMedia"}),"를 사용하여 ",(0,r.jsx)(n.code,{children:"<video/>"})," 테그에 사용할 수 있는 stream object를 얻어올 수 있습니다."]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.topSites"})}),"\n",(0,r.jsx)(n.p,{children:"많이 방문한 사이트 목록을 반환합니다."}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"web-accessible-resources"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"web accessible resources",src:g})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"<iframe/>"})," 테그를 사용하여 임베드한 페이지에서 리소스를 로딩할 수 있도록 설정 입니다."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'  "content_scripts": [\n    {\n      "matches": [\n        "https://web-accessible-resources-1.glitch.me/*",\n        "https://web-accessible-resources-2.glitch.me/*"\n      ],\n      "all_frames": true,\n      "js": ["content-script.js"]\n    }\n  ],\n  "web_accessible_resources": [\n    {\n      "resources": ["test1.png", "test2.png"],\n      "matches": ["https://web-accessible-resources-1.glitch.me/*"]\n    },\n    {\n      "resources": ["test3.png", "test4.png"],\n      "matches": ["https://web-accessible-resources-2.glitch.me/*"],\n      "use_dynamic_url": true\n    }\n  ],\n'})}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.webNavigation"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"chrome.webNavigation.onCompleted"})," API는 특정 페이지 로드를 완료하면 콜백을 수행합니다."]}),"\n",(0,r.jsxs)(n.p,{children:["자세한 API는 ",(0,r.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/reference/webNavigation/",children:"chrome.webNavigation"}),"에서 확인 할 수 있습니다."]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.webRequest"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"chrome.webRequest.onAuthRequired"})," 이벤트는 http 인증 요청이 있을 경우 콜백을 실행합니다."]}),"\n",(0,r.jsx)(n.p,{children:"https://httpbin.org/basic-auth/guest/guest 페이지를 열면 다음과 같이 인증을 챌린지 합니다."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"auth",src:x})}),"\n",(0,r.jsxs)(n.p,{children:["이는 http 해더의 ",(0,r.jsx)(n.code,{children:"Access-Control-Allow-Credentials: true"})," 설정 때문인데 ",(0,r.jsx)(n.code,{children:"chrome.webRequest.onAuthRequired"}),"이 벤트에서 전달 받은 콜백 함수로 인증 정보를 전달할 수 있습니다."]}),"\n",(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.code,{children:"chrome.windows"})}),"\n",(0,r.jsx)(n.p,{children:"브라우저의 윈도우 정보를 가져오거나 제어할 수 있습니다."}),"\n",(0,r.jsx)(n.h1,{children:"마치며"}),"\n",(0,r.jsx)(n.p,{children:"예제에서 사용한 API를 중심으로 간단하게 어떤 기능을 제공하는 API가 있는지 확인해 보았습니다."}),"\n",(0,r.jsx)(n.p,{children:"다양한 서비스에서 차별화한 UX를 제공하기 위해 크롬 확장을 제공하는 경우가 있습니다."}),"\n",(0,r.jsx)(n.p,{children:"크롬 확장에서 어떠한 것이 가능한지 알아둔다면, 여러 UX를 고민할 때 조금더 다양한 아이디어를 찾아낼 수 있으리라 생각합니다."})]})}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.jsx)(f,{...e,children:(0,r.jsx)(w,{...e})})}},49034:(e,n,t)=>{"use strict";t.d(n,{A:()=>u});var r=t(18153),i=t(77328),s=t.n(i),c=t(14232);let l=c.memo(()=>(0,r.Y)(r.FK,{}));var o=t(71745),a=t(48230),d=t.n(a);let A=[{link:"/",text:"Home"}],h=c.memo(()=>{let e=(0,o.useRouter)(),[n,t]=c.useState(!1);return(0,r.FD)("nav",{className:"w-full",children:[(0,r.Y)("div",{id:"progress",className:"top-0 z-20 h-1",style:{background:"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)"}}),(0,r.FD)("div",{className:"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl",children:[(0,r.Y)("div",{className:"pl-4",children:(0,r.Y)(d(),{legacyBehavior:!0,className:"text-xl font-extrabold text-gray-900 no-underline hover:no-underline",href:"/",children:"lifetime trails"})}),(0,r.Y)("div",{className:"block pr-4 lg:hidden",children:(0,r.Y)("button",{id:"nav-toggle",type:"button",className:"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none",onMouseDown:e=>e.preventDefault(),onClick:()=>t(!n),onBlur:()=>t(!1),children:(0,r.FD)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.Y)("title",{children:"Menu"}),(0,r.Y)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,r.Y)("div",{id:"nav-content",className:"bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ".concat(n?"block":"hidden"),children:(0,r.Y)("ul",{className:"items-center justify-end flex-1 list-reset lg:flex",children:A.map(n=>{let{link:t,text:i}=n;return(0,r.Y)("li",{className:"mr-3",children:(0,r.Y)(d(),{legacyBehavior:!0,className:e.pathname===t?"inline-block py-2 px-4 text-gray-900 font-bold no-underline":"inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4",href:t,children:i})},t)})})})]})]})}),u=c.memo(e=>{let{children:n,title:t="This is the default title"}=e;return(0,r.FD)("div",{className:"leading-normal tracking-normal bg-gray-100 min-h-screen",children:[(0,r.FD)(s(),{children:[(0,r.Y)("title",{children:t}),(0,r.Y)("meta",{charSet:"utf-8"}),(0,r.Y)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.Y)(h,{}),(0,r.Y)("div",{className:"container w-full px-4 pb-10 mx-auto md:max-w-3xl",children:n}),(0,r.Y)(l,{})]})})},56486:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.identifierTypes=void 0;var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};r.get||r.set?Object.defineProperty(n,t,r):n[t]=e[t]}}return n.default=e,n}(t(14232)),i=function(e){return e&&e.__esModule?e:{default:e}}(t(95062));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,n){return(l=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var o=["pathname","url","title","og:title","issue-number","issue-term"],a=function(e,n,t){if(0>o.indexOf(e))return void console.warn("Wrong type: "+e);if("pathname"===e)return"pathname";if("url"===e)return"url";if("title"===e)return"title";if("og:title"===e)return"og:title";if("issue-term"===e)return n;else if("issue-number"===e)return t},d=function(e){var n;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function t(e){var n,i;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");return(n=(i=c(t).call(this,e))&&("object"===s(i)||"function"==typeof i)?i:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).myRef=r.default.createRef(),n.state={pending:!0},n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e),n=[{key:"componentDidMount",value:function(){var e=this,n=this.props,t=n.repo,r=n.type,i=n.specificTerm,s=n.issueNumber,c=0>o.indexOf(r)?void console.warn("Wrong type: "+r):"issue-number"===r?"issue-number":"issue-term",l=a(r,i,s);if("issue-term"===r&&!l)return void console.warn("When type is '".concat(r,"', 'specificTerm' prop must be provided"));if("issue-number"===r&&(isNaN(l)||l<1))return void console.warn("When type is '".concat(r,"', valid 'issueNumber' prop must be provided"));var d=document.createElement("script");d.src="https://utteranc.es/client.js",d.async=!0,d.setAttribute("repo",t),d.setAttribute("crossorigin","anonymous"),d.setAttribute(c,l),d.onload=function(){return e.setState({pending:!1})},this.myRef.current.appendChild(d)}},{key:"render",value:function(){return r.default.createElement("div",{className:"react-utterences",ref:this.myRef},this.props.debug&&r.default.createElement("pre",{style:{background:"#cccccc",padding:10}},"\nthis.props: ".concat(JSON.stringify(this.props,null,2),'\nlocation.pathname: "').concat(window.location.pathname,'"\nlocation.href: "').concat(window.location.href,'"\n          ').trim()),this.props.debug&&r.default.createElement("div",null,"\uD83D\uDC47\uD83D\uDC47If the settings are valid, the comment widget appear below\uD83D\uDC47\uD83D\uDC47"),this.state.pending&&r.default.createElement("div",null,"Loading script..."))}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}(r.Component);n.identifierTypes={pathname:{attrValue:"",summary:"Issue title contains page pathname"},url:{attrValue:"url",summary:"Issue title contains page URL"},title:{attrValue:"title",summary:"Issue title contains page title"},"og:title":{attrValue:"og:title",summary:"Issue title contains page og:title"},"issue-number":{attrValue:-1,summary:"Specific issue number"},"issue-term":{attrValue:"",summary:"Issue title contains specific term"}},d.propTypes={type:i.default.string.isRequired,repo:i.default.string.isRequired,specificTerm:i.default.string,issueNumber:i.default.number,hashKey:i.default.string,debug:i.default.bool},n.default=d},57962:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/2023-10-07-chrome-extension",function(){return t(8764)}])},60158:(e,n,t)=>{"use strict";t.d(n,{J:()=>l,j:()=>c});var r=t(18153),i=t(14232);let s=i.createContext({});function c(e){let{staticProps:n,children:t}=e;return(0,r.Y)(s.Provider,{value:n,children:t})}function l(){return i.useContext(s)}},79706:(e,n,t)=>{"use strict";var r=t(3717);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,s,c){if(c!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:s,resetWarningCache:i};return t.PropTypes=t,t}},85419:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(18153);t(14232);let i=e=>{let{meta:n,isBlogPost:t}=e;return(0,r.FD)(r.FK,{children:[(0,r.Y)("h1",{className:"font-bold text-gray-800 mb-4 ".concat(t?"text-5xl mt-8 mb-8":"text-lg"),children:n.title}),(0,r.FD)("div",{className:"details",children:[(0,r.Y)("p",{className:"text-gray-500",children:n.description}),(0,r.Y)("p",{className:"text-gray-400 text-right -mt-1",children:(0,r.Y)("span",{className:"mr-4",children:n.date})})]})]})}},86089:(e,n,t)=>{"use strict";Object.defineProperty(n,"Ay",{enumerable:!0,get:function(){return r.default}});var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};r.get||r.set?Object.defineProperty(n,t,r):n[t]=e[t]}}return n.default=e,n}(t(56486))},91013:(e,n,t)=>{"use strict";t.d(n,{A:()=>A});var r=t(18153),i=t(73146),s=t.n(i),c=t(14232),l=t(86089),o=t(60158),a=t(85419),d=t(49034);function A(e){let{children:n,meta:t,staticProps:i}=e;return c.useEffect(()=>{s().highlightAll()},[]),(0,r.Y)(r.FK,{children:(0,r.FD)(d.A,{title:t.title,children:[(0,r.Y)(a.A,{meta:t,isBlogPost:!0}),(0,r.Y)(o.j,{staticProps:i,children:(0,r.Y)("article",{className:"markdown",children:n})}),(0,r.Y)(l.Ay,{repo:"swcho/blog-comments",type:"pathname",label:"utterances",theme:"github-light"})]})})}},95062:(e,n,t)=>{e.exports=t(79706)()}},e=>{e.O(0,[5695,636,6593,8792],()=>e(e.s=57962)),_N_E=e.O()}]);
//# sourceMappingURL=2023-10-07-chrome-extension-d9423d6d4b9ea180.js.map