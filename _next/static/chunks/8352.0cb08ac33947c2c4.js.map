{"version":3,"file":"static/chunks/8352.0cb08ac33947c2c4.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@visx/responsive/lib/components/ParentSize.js","webpack://_N_E/./node_modules/d3-array/src/extent.js","webpack://_N_E/./pages/blogs/2021-09-30-scatterchart/ScatterChart.tsx","webpack://_N_E/./node_modules/@visx/responsive/lib/hooks/useParentSize.js","webpack://_N_E/./node_modules/@visx/axis/esm/axis/AxisLeft.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = ParentSize;\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _useParentSize2 = _interopRequireDefault(require(\"../hooks/useParentSize\"));\nvar _excluded = [\"className\", \"children\", \"debounceTime\", \"ignoreDimensions\", \"initialSize\", \"parentSizeStyles\", \"enableDebounceLeadingCall\", \"resizeObserverPolyfill\"],\n  _excluded2 = [\"parentRef\", \"resize\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar defaultParentSizeStyles = {\n  width: '100%',\n  height: '100%'\n};\nfunction ParentSize(_ref) {\n  var className = _ref.className,\n    children = _ref.children,\n    debounceTime = _ref.debounceTime,\n    ignoreDimensions = _ref.ignoreDimensions,\n    initialSize = _ref.initialSize,\n    _ref$parentSizeStyles = _ref.parentSizeStyles,\n    parentSizeStyles = _ref$parentSizeStyles === void 0 ? defaultParentSizeStyles : _ref$parentSizeStyles,\n    _ref$enableDebounceLe = _ref.enableDebounceLeadingCall,\n    enableDebounceLeadingCall = _ref$enableDebounceLe === void 0 ? true : _ref$enableDebounceLe,\n    resizeObserverPolyfill = _ref.resizeObserverPolyfill,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useParentSize = (0, _useParentSize2.default)({\n      initialSize: initialSize,\n      debounceTime: debounceTime,\n      ignoreDimensions: ignoreDimensions,\n      enableDebounceLeadingCall: enableDebounceLeadingCall,\n      resizeObserverPolyfill: resizeObserverPolyfill\n    }),\n    parentRef = _useParentSize.parentRef,\n    resize = _useParentSize.resize,\n    dimensions = _objectWithoutPropertiesLoose(_useParentSize, _excluded2);\n  return /*#__PURE__*/_react.default.createElement(\"div\", _extends({\n    style: parentSizeStyles,\n    ref: parentRef,\n    className: className\n  }, restProps), children(_extends({}, dimensions, {\n    ref: parentRef.current,\n    resize: resize\n  })));\n}\nParentSize.propTypes = {\n  className: _propTypes.default.string,\n  children: _propTypes.default.func.isRequired\n};","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","import * as React from 'react';\n\n// Ref: https://giters.com/mikecao/umami/issues/693#issuecomment-856916946\nimport { extent } from 'd3-array';\n\nimport { AxisBottom, AxisLeft } from '@visx/axis';\nimport { Group } from '@visx/group';\nimport ParentSize from '@visx/responsive/lib/components/ParentSize';\nimport { scaleLinear } from '@visx/scale';\n\nimport { useBlogPostContext } from '../../../components/BlogPostContext';\n\ntype Item = {\n  body_mass_g: number;\n  culmen_depth_mm: number;\n  culmen_length_mm: number;\n  flipper_length_mm: number;\n  island: string;\n  sex: string;\n  species: string;\n};\n\nexport type Props = {\n  width: number;\n  height: number;\n  data: Item[];\n};\n\nconst Content = React.memo((props: Props) => {\n  const { width, height, data } = props;\n  const xScale = scaleLinear({\n    domain: extent(data.map(({ flipper_length_mm }) => flipper_length_mm)) as [number, number],\n    range: [0, width],\n    nice: true,\n  });\n  const yScale = scaleLinear({\n    domain: extent(data.map(({ body_mass_g }) => body_mass_g)) as [number, number],\n    range: [height, 0],\n    nice: true,\n  });\n  // console.log('Content', { width, height });\n  return (\n    <>\n      <svg width={width} height={height}>\n        <g />\n        <AxisLeft scale={yScale} />\n        <AxisBottom scale={xScale} top={height} />\n        <Group>\n          {data\n            .filter(({ body_mass_g }) => body_mass_g)\n            .map(({ flipper_length_mm, body_mass_g }, i) => (\n              <circle key={`${i}`} cx={xScale(flipper_length_mm)} cy={yScale(body_mass_g)} r={4} />\n            ))}\n        </Group>\n      </svg>\n    </>\n  );\n});\n\nconst ScatterChart = React.memo(() => {\n  const { data } = useBlogPostContext();\n  return <ParentSize>{({ width }) => <Content width={width} height={300} data={data} />}</ParentSize>;\n});\n\nexport default ScatterChart;\n","\"use strict\";\n\nexports.__esModule = true;\nexports.default = useParentSize;\nvar _debounce = _interopRequireDefault(require(\"lodash/debounce\"));\nvar _react = require(\"react\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar defaultIgnoreDimensions = [];\nvar defaultInitialSize = {\n  width: 0,\n  height: 0,\n  top: 0,\n  left: 0\n};\nfunction useParentSize(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    _ref$initialSize = _ref.initialSize,\n    initialSize = _ref$initialSize === void 0 ? defaultInitialSize : _ref$initialSize,\n    _ref$debounceTime = _ref.debounceTime,\n    debounceTime = _ref$debounceTime === void 0 ? 300 : _ref$debounceTime,\n    _ref$ignoreDimensions = _ref.ignoreDimensions,\n    ignoreDimensions = _ref$ignoreDimensions === void 0 ? defaultIgnoreDimensions : _ref$ignoreDimensions,\n    _ref$enableDebounceLe = _ref.enableDebounceLeadingCall,\n    enableDebounceLeadingCall = _ref$enableDebounceLe === void 0 ? true : _ref$enableDebounceLe,\n    resizeObserverPolyfill = _ref.resizeObserverPolyfill;\n  var parentRef = (0, _react.useRef)(null);\n  var animationFrameID = (0, _react.useRef)(0);\n  var _useState = (0, _react.useState)(_extends({}, defaultInitialSize, initialSize)),\n    state = _useState[0],\n    setState = _useState[1];\n  var resize = (0, _react.useMemo)(function () {\n    var normalized = Array.isArray(ignoreDimensions) ? ignoreDimensions : [ignoreDimensions];\n    return (0, _debounce.default)(function (incoming) {\n      setState(function (existing) {\n        var stateKeys = Object.keys(existing);\n        var keysWithChanges = stateKeys.filter(function (key) {\n          return existing[key] !== incoming[key];\n        });\n        var shouldBail = keysWithChanges.every(function (key) {\n          return normalized.includes(key);\n        });\n        return shouldBail ? existing : incoming;\n      });\n    }, debounceTime, {\n      leading: enableDebounceLeadingCall\n    });\n  }, [debounceTime, enableDebounceLeadingCall, ignoreDimensions]);\n  (0, _react.useEffect)(function () {\n    var LocalResizeObserver = resizeObserverPolyfill || window.ResizeObserver;\n    var observer = new LocalResizeObserver(function (entries) {\n      entries.forEach(function (entry) {\n        var _entry$contentRect;\n        var _ref2 = (_entry$contentRect = entry == null ? void 0 : entry.contentRect) != null ? _entry$contentRect : {},\n          left = _ref2.left,\n          top = _ref2.top,\n          width = _ref2.width,\n          height = _ref2.height;\n        animationFrameID.current = window.requestAnimationFrame(function () {\n          resize({\n            width: width,\n            height: height,\n            top: top,\n            left: left\n          });\n        });\n      });\n    });\n    if (parentRef.current) observer.observe(parentRef.current);\n    return function () {\n      window.cancelAnimationFrame(animationFrameID.current);\n      observer.disconnect();\n      resize.cancel();\n    };\n  }, [resize, resizeObserverPolyfill]);\n  return _extends({\n    parentRef: parentRef,\n    resize: resize\n  }, state);\n}","var _excluded = [\"axisClassName\", \"labelOffset\", \"tickLength\", \"tickLabelProps\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\nimport cx from 'classnames';\nimport Axis from './Axis';\nimport Orientation from '../constants/orientation';\nexport var leftTickLabelProps = {\n  dx: '-0.25em',\n  dy: '0.25em',\n  fill: '#222',\n  fontFamily: 'Arial',\n  fontSize: 10,\n  textAnchor: 'end'\n};\nexport default function AxisLeft(_ref) {\n  var axisClassName = _ref.axisClassName,\n    _ref$labelOffset = _ref.labelOffset,\n    labelOffset = _ref$labelOffset === void 0 ? 36 : _ref$labelOffset,\n    _ref$tickLength = _ref.tickLength,\n    tickLength = _ref$tickLength === void 0 ? 8 : _ref$tickLength,\n    tickLabelProps = _ref.tickLabelProps,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var tickLabelPropsFinal = typeof tickLabelProps === 'function' ? tickLabelProps : _extends({}, leftTickLabelProps, tickLabelProps);\n  return /*#__PURE__*/React.createElement(Axis, _extends({\n    axisClassName: cx('visx-axis-left', axisClassName),\n    labelOffset: labelOffset,\n    orientation: Orientation.left,\n    tickLabelProps: tickLabelPropsFinal,\n    tickLength: tickLength\n  }, restProps));\n}"],"names":["Content","React","width","height","data","props","xScale","scaleLinear","domain","extent","map","flipper_length_mm","range","nice","yScale","body_mass_g","svg","g","AxisLeft","scale","AxisBottom","top","Group","filter","i","circle","cx","cy","r","useBlogPostContext","ScatterChart","ParentSize"],"sourceRoot":"","ignoreList":[0,1,3,4]}