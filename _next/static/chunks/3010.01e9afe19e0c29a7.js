"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3010],{41216:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(95062),r=n.n(a),l=n(14232),i=n(54423),s=n(45003);function c(e){var t=e.scaleX,n=e.scaleY,a=e.translateX,r=e.translateY,l=e.skewX,i=e.skewY;return{scaleX:void 0===t?1:t,scaleY:void 0===n?1:n,translateX:void 0===a?0:a,translateY:void 0===r?0:r,skewX:void 0===l?0:l,skewY:void 0===i?0:i}}function o(e){var t=e.scaleX,n=e.scaleY,a=e.translateX,r=e.translateY,l=e.skewX,i=e.skewY,s=t*n-i*l;return{scaleX:n/s,scaleY:t/s,translateX:-((n*a-l*r)/s),translateY:(i*a-t*r)/s,skewX:-(l/s),skewY:-(i/s)}}function u(e,t){var n=t.x,a=t.y;return{x:e.scaleX*n+e.skewX*a+e.translateX,y:e.skewY*n+e.scaleY*a+e.translateY}}function f(e,t){var n=t.x,a=t.y;return u(o(e),{x:n,y:a})}function v(e,t){return c({translateX:e,translateY:t})}function d(e,t){return{scaleX:e.scaleX*t.scaleX+e.skewX*t.skewY,scaleY:e.skewY*t.skewX+e.scaleY*t.scaleY,translateX:e.scaleX*t.translateX+e.skewX*t.translateY+e.translateX,translateY:e.skewY*t.translateX+e.scaleY*t.translateY+e.translateY,skewX:e.scaleX*t.skewX+e.skewX*t.scaleY,skewY:e.skewY*t.scaleX+e.scaleY*t.skewY}}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];switch(t.length){case 0:throw Error("composeMatrices() requires arguments: was called with no args");case 1:return t[0];case 2:return d(t[0],t[1]);default:var a=t[0],r=t[1],l=t.slice(2),i=d(a,r);return h.apply(void 0,[i].concat(l))}}function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Y={scaleX:1,scaleY:1,translateX:0,translateY:0,skewX:0,skewY:0},X=function(e){return-e.deltaY>0?{scaleX:1.1,scaleY:1.1}:{scaleX:.9,scaleY:.9}},y=function(e){var t=e.offset[0],n=e.lastOffset[0];return{scaleX:t-n<0?.9:1.1,scaleY:t-n<0?.9:1.1}};function p(e){var t=e.scaleXMin,n=void 0===t?0:t,a=e.scaleXMax,r=void 0===a?1/0:a,d=e.scaleYMin,p=void 0===d?0:d,b=e.scaleYMax,w=void 0===b?1/0:b,k=e.initialTransformMatrix,x=void 0===k?Y:k,m=e.wheelDelta,C=void 0===m?X:m,O=e.pinchDelta,T=void 0===O?y:O,E=e.width,M=e.height,A=e.constrain,S=e.children,D=(0,l.useRef)(null),j=(0,l.useRef)(x),R=(0,l.useState)(x),P=R[0],q=R[1],G=(0,l.useState)(!1),V=G[0],B=G[1],F=(0,l.useState)(void 0),_=F[0],K=F[1],I=(0,l.useState)(void 0),L=I[0],N=I[1],W=(0,l.useCallback)(function(e,t){if(A)return A(e,t);var a=e.scaleX,l=e.scaleY,i=l>w||l<p;return a>r||a<n||i?t:e},[A,n,r,p,w]),z=(0,l.useCallback)(function(e){q(function(t){var n=W(e,t);return j.current=n,n})},[W]),J=(0,l.useCallback)(function(e){return u(P,{x:e.x,y:e.y})},[P]),H=(0,l.useCallback)(function(e){return f(P,{x:e.x,y:e.y})},[P]),Q=(0,l.useCallback)(function(){z(x)},[x,z]),U=(0,l.useCallback)(function(e){var t,n,a=e.scaleX,r=e.scaleY,l=e.point,i=r||a,s=l||{x:E/2,y:M/2},o=f(j.current,s);if(z(h(j.current,v(o.x,o.y),(void 0===(t=i)&&(t=void 0),n=t||a,c({scaleX:a,scaleY:n})),v(-o.x,-o.y))),V){var u=j.current,d=u.translateX,g=u.translateY;N(l),K({translateX:d,translateY:g})}},[M,E,V,z]),Z=(0,l.useCallback)(function(e){z(h(P,v(e.translateX,e.translateY)))},[z,P]),$=(0,l.useCallback)(function(e){var t=e.translateX,n=e.translateY;z(g({},P,{translateX:t,translateY:n}))},[z,P]),ee=(0,l.useCallback)(function(e){var t=f(P,{x:e.x,y:e.y});$({translateX:t.x,translateY:t.y})},[$,P]),et=(0,l.useCallback)(function(){return o(P)},[P]),en=(0,l.useCallback)(function(){var e=et(),t=e.translateX,n=e.translateY,a=e.scaleX,r=e.scaleY,l=e.skewX;return"matrix("+a+", "+e.skewY+", "+l+", "+r+", "+t+", "+n+")"},[et]),ea=(0,l.useCallback)(function(e){var t=P.translateX,n=P.translateY;N((0,i.A)(e)||void 0),K({translateX:t,translateY:n}),B(!0)},[P]),er=(0,l.useCallback)(function(e,t){if(V&&L&&_){var n,a,r=(0,i.A)(e),l=r?-(L.x-r.x):-L.x,s=r?-(L.y-r.y):-L.y,c=_.translateX+l;null!=t&&t.offsetX&&(c+=null!=(n=null==t?void 0:t.offsetX)?n:0);var o=_.translateY+s;null!=t&&t.offsetY&&(o+=null!=(a=null==t?void 0:t.offsetY)?a:0),$({translateX:c,translateY:o})}},[V,$,L,_]),el=(0,l.useCallback)(function(){N(void 0),K(void 0),B(!1)},[]),ei=(0,l.useCallback)(function(e){e.preventDefault();var t=(0,i.A)(e)||void 0,n=C(e);U({scaleX:n.scaleX,scaleY:n.scaleY,point:t})},[U,C]),es=(0,l.useCallback)(function(e){var t=e.origin,n=t[0],a=t[1],r=e.memo;if(D.current){var l,i=null!=(l=r)?l:D.current.getBoundingClientRect(),s=i.top,c=i.left;r||(r={top:s,left:c});var o=T(e);U({scaleX:o.scaleX,scaleY:o.scaleY,point:{x:n-c,y:a-s}})}return r},[U,T]),ec=(0,l.useCallback)(function(){var e=P.translateX,t=P.translateY,n=P.scaleX,a=P.scaleY,r=P.skewX;return"matrix("+n+", "+P.skewY+", "+r+", "+a+", "+e+", "+t+")"},[P]),eo=(0,l.useCallback)(function(){var e={x:E/2,y:M/2},t=H(e);Z({translateX:t.x-e.x,translateY:t.y-e.y})},[M,E,H,Z]),eu=(0,l.useCallback)(function(){z({scaleX:1,scaleY:1,translateX:0,translateY:0,skewX:0,skewY:0})},[z]);return(0,s.useGesture)({onDragStart:function(e){var t=e.event;t instanceof KeyboardEvent||ea(t)},onDrag:function(e){var t=e.event,n=e.pinching,a=e.cancel;n?(a(),el()):t instanceof KeyboardEvent||er(t)},onDragEnd:el,onPinch:es,onWheel:function(e){var t=e.event,n=e.active;!e.pinching&&n&&ei(t)}},{target:D,eventOptions:{passive:!1},drag:{filterTaps:!0}}),l.createElement(l.Fragment,null,S({initialTransformMatrix:x,transformMatrix:P,isDragging:V,center:eo,clear:eu,scale:U,translate:Z,translateTo:ee,setTranslate:$,setTransformMatrix:z,reset:Q,handleWheel:ei,handlePinch:es,dragEnd:el,dragMove:er,dragStart:ea,toString:ec,invert:et,toStringInvert:en,applyToPoint:J,applyInverseToPoint:H,containerRef:D}))}p.propTypes={width:r().number.isRequired,height:r().number.isRequired,wheelDelta:r().func,scaleXMin:r().number,scaleXMax:r().number,scaleYMin:r().number,scaleYMax:r().number,constrain:r().func,children:r().func.isRequired};let b=p},54423:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(38142);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l={x:0,y:0};function i(e,t){if(!e||!t)return null;var n=function(e){if(!e)return r({},l);if(e&&"changedTouches"in e)return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:r({},l);if(e&&"clientX"in e)return{x:e.clientX,y:e.clientY};var t=null==e?void 0:e.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:r({},l)}(t),i=e&&(e instanceof SVGElement||"ownerSVGElement"in e)?e.ownerSVGElement:e,s=i&&"getScreenCTM"in i?i.getScreenCTM():null;if(i&&"createSVGPoint"in i&&s){var c=i.createSVGPoint();return c.x=n.x,c.y=n.y,c=c.matrixTransform(s.inverse()),new a.A({x:c.x,y:c.y})}var o=e.getBoundingClientRect();return new a.A({x:n.x-o.left-e.clientLeft,y:n.y-o.top-e.clientTop})}function s(e,t){if(e&&e instanceof Element&&t)return i(e,t);if(e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)){var n=e.target;if(n)return i(n,e)}return null}},63010:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(18153),r=n(91755),l=n(14232),i=n(51327),s=n(83599),c=n(64193),o=n(95062),u=n.n(o),f=["id","children"];function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e){var t=e.id,n=e.children,a=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,f);return l.createElement("defs",null,l.createElement("clipPath",v({id:t},a),n))}d.propTypes={id:u().string.isRequired,children:u().node};var h=["id","x","y","width","height"];function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Y(e){var t=e.id,n=e.x,a=e.y,r=e.width,i=e.height,s=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,h);return l.createElement(d,{id:t},l.createElement("rect",g({x:void 0===n?0:n,y:void 0===a?0:a,width:void 0===r?1:r,height:void 0===i?1:i},s)))}Y.propTypes={id:u().string.isRequired,x:u().oneOfType([u().string,u().number]),y:u().oneOfType([u().string,u().number]),width:u().oneOfType([u().string,u().number]),height:u().oneOfType([u().string,u().number])};var X=n(54423),y=n(69128),p=n(72521),b=n(82917),w=n(41216),k=n(60158);let x={top:20,left:40,right:20,bottom:40},m=l.memo(e=>{let{width:t,height:n,data:o}=e,u=l.useMemo(()=>(0,p.A)({domain:(0,i.A)(o,e=>new Date(e.date)),range:[x.left,t-x.right]}),[t,o]),f=l.useMemo(()=>(0,b.A)({domain:(0,i.A)(o,e=>e.close),range:[n-x.bottom,x.top],nice:!0}),[n,o]),v=l.useMemo(()=>({from:{opacity:0},enter:{opacity:1},trail:1}),[o]),d=(0,r.pn)(o,v);return console.log("Content"),(0,a.Y)(a.FK,{children:(0,a.Y)(w.A,{width:t,height:n,children:e=>(0,a.Y)("div",{style:{position:"relative"},children:(0,a.FD)("svg",{ref:e.containerRef,width:t,height:n,style:{cursor:e.isDragging?"grabbing":"grab",touchAction:"none"},onDoubleClick:t=>{let n=(0,X.A)(t)||{x:0,y:0};e.scale({scaleX:2,scaleY:2,point:n})},children:[(0,a.Y)(Y,{id:"zoom-clip",width:t,height:n}),(0,a.FD)("g",{transform:e.toString(),children:[(0,a.Y)("g",{children:d((e,t)=>{let{date:n,close:l}=t;return(0,a.Y)(r.CS.circle,{style:e,cx:u(new Date(n)),cy:f(l),r:1,fill:"blue"},n)})}),(0,a.Y)(s.A,{scale:f,left:x.left}),(0,a.Y)(c.A,{scale:u,top:n-x.bottom})]})]})})})})}),C=l.memo(()=>{let{data:e}=(0,k.J)();return(0,a.Y)(y.A,{debounceTime:300,enableDebounceLeadingCall:!1,children:t=>{let{width:n}=t;return(0,a.Y)(m,{width:n,height:300,data:e})}})})}}]);
//# sourceMappingURL=3010.01e9afe19e0c29a7.js.map