"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2164],{72164:(e,t,W)=>{W.r(t),W.d(t,{default:()=>ta});var i=W(18153),o=W(49082),n=W(45302),a=W(14232),r=W(66691),s=function(e){return e.Front="FRONT",e.Right="RIGHT",e.Left="LEFT",e.Top="TOP",e.Bottom="BOTTOM",e.Back="BACK",e}({}),l=function(e){return e.Top="TOP",e.Bottom="BOTTOM",e.Left="LEFT",e.Right="RIGHT",e}({}),c=function(e){return e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e}({});s.Front,new r.Pq0(0,0,0),s.Back,new r.Pq0(0,Math.PI,0),s.Left,new r.Pq0(0,-(.5*Math.PI),0),s.Right,new r.Pq0(0,.5*Math.PI,0),s.Top,new r.Pq0(-(.5*Math.PI),0,0),s.Bottom,new r.Pq0(.5*Math.PI,0,0);let C={[s.Front]:new r.Pq0(0,0,1),[s.Right]:new r.Pq0(1,0,0),[s.Left]:new r.Pq0(-1,0,0),[s.Top]:new r.Pq0(0,1,0),[s.Bottom]:new r.Pq0(0,-1,0),[s.Back]:new r.Pq0(0,0,-1)},p={[s.Front]:{xAxis:"x",yAxis:"y",zAxis:"z",xFactor:1,yFactor:-1,zFactor:1},[s.Left]:{xAxis:"z",yAxis:"y",zAxis:"x",xFactor:1,yFactor:-1,zFactor:-1},[s.Right]:{xAxis:"z",yAxis:"y",zAxis:"x",xFactor:-1,yFactor:-1,zFactor:1},[s.Top]:{xAxis:"x",yAxis:"z",zAxis:"y",xFactor:1,yFactor:1,zFactor:1},[s.Bottom]:{xAxis:"x",yAxis:"z",zAxis:"y",xFactor:1,yFactor:-1,zFactor:-1},[s.Back]:{xAxis:"x",yAxis:"y",zAxis:"z",xFactor:-1,yFactor:-1,zFactor:-1}},d={[s.Front]:(e,t)=>({xFactor:1,yFactor:-1,zFactor:1,x:e,y:t,z:null}),[s.Left]:(e,t)=>({xFactor:-1,yFactor:-1,zFactor:1,x:null,y:t,z:e}),[s.Right]:(e,t)=>({xFactor:1,yFactor:-1,zFactor:-1,x:null,y:t,z:e}),[s.Top]:(e,t)=>({xFactor:1,yFactor:1,zFactor:1,x:e,y:null,z:t}),[s.Bottom]:(e,t)=>({xFactor:1,yFactor:-1,zFactor:-1,x:e,y:null,z:t}),[s.Back]:(e,t)=>({xFactor:-1,yFactor:-1,zFactor:-1,x:e,y:t,z:null})};l.Top,l.Right,l.Bottom,l.Left,s.Front,l.Top,new r.Pq0(0,1,0),l.Right,new r.Pq0(1,0,0),l.Bottom,new r.Pq0(0,-1,0),l.Left,new r.Pq0(-1,0,0),s.Back,l.Top,new r.Pq0(0,1,0),l.Right,new r.Pq0(-1,0,0),l.Bottom,new r.Pq0(0,-1,0),l.Left,new r.Pq0(1,0,0),s.Left,l.Top,new r.Pq0(0,1,0),l.Right,new r.Pq0(0,0,1),l.Bottom,new r.Pq0(0,-1,0),l.Left,new r.Pq0(0,0,-1),s.Right,l.Top,new r.Pq0(0,1,0),l.Right,new r.Pq0(0,0,-1),l.Bottom,new r.Pq0(0,-1,0),l.Left,new r.Pq0(0,0,1),s.Top,l.Top,new r.Pq0(0,0,-1),l.Right,new r.Pq0(1,0,0),l.Bottom,new r.Pq0(0,0,1),l.Left,new r.Pq0(-1,0,0),s.Bottom,l.Top,new r.Pq0(0,0,1),l.Right,new r.Pq0(1,0,0),l.Bottom,new r.Pq0(0,0,-1),l.Left,new r.Pq0(-1,0,0);let g={[s.Front]:new r.O9p(0,0,0),[s.Back]:new r.O9p(0,Math.PI,0),[s.Left]:new r.O9p(0,-Math.PI/2,0),[s.Right]:new r.O9p(0,Math.PI/2,0),[s.Top]:new r.O9p(-Math.PI/2,0,0),[s.Bottom]:new r.O9p(Math.PI/2,0,0)},f={[c.Up]:{position:new r.Pq0(0,1,0),rotation:new r.Pq0(0,0,0)},[c.Down]:{position:new r.Pq0(0,-1,0),rotation:new r.Pq0(0,0,Math.PI)},[c.Right]:{position:new r.Pq0(1,0,0),rotation:new r.Pq0(0,0,-(.5*Math.PI))},[c.Left]:{position:new r.Pq0(-1,0,0),rotation:new r.Pq0(0,0,.5*Math.PI)}},h={[c.Up]:new r.I9Y(0,-1),[c.Down]:new r.I9Y(0,1),[c.Left]:new r.I9Y(-1,0),[c.Right]:new r.I9Y(1,0)};s.Front,s.Left,s.Right,s.Top,s.Bottom,s.Left,s.Front,s.Back,s.Top,s.Bottom,s.Right,s.Front,s.Back,s.Top,s.Bottom,s.Top,s.Front,s.Back,s.Left,s.Right,s.Bottom,s.Front,s.Back,s.Left,s.Right,s.Back,s.Left,s.Right,s.Top,s.Bottom,s.Front,s.Back,s.Back,s.Front,s.Left,s.Right,s.Right,s.Left,s.Top,s.Bottom,s.Bottom,s.Top;var m=function(e){return e.Empty="EMPTY",e.Wall="WALL",e.Start="START",e.Finish="FINISH",e.WallSpike="WALL_SPIKE",e.FloorSpike="FLOOR_SPIKE",e.Coin="Coin",e}({});let y={[m.Empty]:{symbols:[" ","  "]},[m.Wall]:{symbols:["W","WW"]},[m.Start]:{symbols:["S","ST"]},[m.Finish]:{symbols:["F","FI"]},[m.WallSpike]:{symbols:["X"]},[m.FloorSpike]:{symbols:["I"]},[m.Coin]:{symbols:["C","CC"]}},w=[m.Wall,m.WallSpike,m.Finish];m.Wall,m.WallSpike,m.Finish;class u{static create2DArray(e,t,W){let i=Array(e);for(let o=0;o<e;o++)i[o]=Array(t).fill(W);return i}static fillCornerValues(e,t){let W,i;[[0,0],[0,(W=e[0].length)-1],[(i=e.length)-1,0],[i-1,W-1]].forEach(W=>{let[i,o]=W;return e[i][o]=t})}static isArraysHasSameValues(e,t){if(e.length!==t.length)return!1;for(let W=0;W<e.length;W++)if(-1===t.indexOf(e[W]))return!1;return!0}static getRandomArrayElement(e){return e[Math.floor(Math.random()*e.length)]}constructor(){}}var T=function(e){return e.FrontTop="FRONT_TOP",e.FrontDown="FRONT_DOWN",e.FrontLeft="FRONT_LEFT",e.FrontRight="FRONT_RIGHT",e.TopLeft="TOP_LEFT",e.TopRight="TOP_RIGHT",e.DownLeft="DOWN_LEFT",e.DownRight="DOWN_RIGHT",e.BackTop="BACK_TOP",e.BackDown="BACK_DOWN",e.BackLeft="BACK_LEFT",e.BackRight="BACK_RIGHT",e}({}),R=function(e){return e.Top="TOP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e}({});let F={probabilities:[.94,.03,.03,.03]},B={probabilities:[1]},L={rotation:new r.O9p(0,0,0)},b=[new r.Pq0(0,1,1),new r.Pq0(0,-1,1),new r.Pq0(-1,0,1),new r.Pq0(1,0,1),new r.Pq0(-1,1,0),new r.Pq0(1,1,0),new r.Pq0(-1,-1,0),new r.Pq0(1,-1,0),new r.Pq0(0,1,-1),new r.Pq0(0,-1,-1),new r.Pq0(-1,0,-1),new r.Pq0(1,0,-1)],P=[{edge:T.FrontTop,axis:"x",rotation:new r.O9p(0,0,0)},{edge:T.FrontDown,axis:"x",rotation:new r.O9p(.5*Math.PI,0,0)},{edge:T.FrontLeft,axis:"y",rotation:new r.O9p(0,0,.5*Math.PI)},{edge:T.FrontRight,axis:"y",rotation:new r.O9p(0,0,-(.5*Math.PI))},{edge:T.TopLeft,axis:"z",rotation:new r.O9p(0,-(.5*Math.PI),0)},{edge:T.TopRight,axis:"z",rotation:new r.O9p(0,.5*Math.PI,0)},{edge:T.DownLeft,axis:"z",rotation:new r.O9p(0,-(.5*Math.PI),Math.PI)},{edge:T.DownRight,axis:"z",rotation:new r.O9p(0,.5*Math.PI,Math.PI)},{edge:T.BackTop,axis:"x",rotation:new r.O9p(0,Math.PI,0)},{edge:T.BackDown,axis:"x",rotation:new r.O9p(0,Math.PI,Math.PI)},{edge:T.BackLeft,axis:"y",rotation:new r.O9p(0,-(.5*Math.PI),.5*Math.PI)},{edge:T.BackRight,axis:"y",rotation:new r.O9p(0,.5*Math.PI,-(.5*Math.PI))}],x={[s.Front]:[T.FrontTop,T.FrontDown,T.FrontLeft,T.FrontRight],[s.Left]:[T.FrontLeft,T.TopLeft,T.DownLeft,T.BackLeft],[s.Right]:[T.FrontRight,T.TopRight,T.DownRight,T.BackRight],[s.Top]:[T.FrontTop,T.TopLeft,T.TopRight,T.BackTop],[s.Bottom]:[T.FrontDown,T.DownLeft,T.DownRight,T.BackDown],[s.Back]:[T.BackTop,T.BackDown,T.BackLeft,T.BackRight]},k={[s.Front]:{[T.FrontTop]:{positionType:R.Top,direction:1},[T.FrontDown]:{positionType:R.Down,direction:1},[T.FrontLeft]:{positionType:R.Left,direction:-1},[T.FrontRight]:{positionType:R.Right,direction:-1}},[s.Left]:{[T.FrontLeft]:{positionType:R.Right,direction:-1},[T.TopLeft]:{positionType:R.Top,direction:1},[T.DownLeft]:{positionType:R.Down,direction:1},[T.BackLeft]:{positionType:R.Left,direction:-1}},[s.Right]:{[T.FrontRight]:{positionType:R.Left,direction:-1},[T.TopRight]:{positionType:R.Top,direction:-1},[T.DownRight]:{positionType:R.Down,direction:-1},[T.BackRight]:{positionType:R.Right,direction:-1}},[s.Top]:{[T.FrontTop]:{positionType:R.Down,direction:1},[T.TopLeft]:{positionType:R.Left,direction:1},[T.TopRight]:{positionType:R.Right,direction:1},[T.BackTop]:{positionType:R.Top,direction:1}},[s.Bottom]:{[T.FrontDown]:{positionType:R.Top,direction:1},[T.DownLeft]:{positionType:R.Left,direction:-1},[T.DownRight]:{positionType:R.Right,direction:-1},[T.BackDown]:{positionType:R.Down,direction:1}},[s.Back]:{[T.BackTop]:{positionType:R.Top,direction:-1},[T.BackDown]:{positionType:R.Down,direction:-1},[T.BackLeft]:{positionType:R.Right,direction:-1},[T.BackRight]:{positionType:R.Left,direction:-1}}},I={[T.FrontTop]:s.Front,[T.FrontDown]:s.Front,[T.FrontLeft]:s.Front,[T.FrontRight]:s.Front,[T.TopLeft]:s.Top,[T.TopRight]:s.Top,[T.DownLeft]:s.Bottom,[T.DownRight]:s.Bottom,[T.BackTop]:s.Back,[T.BackDown]:s.Back,[T.BackLeft]:s.Back,[T.BackRight]:s.Back},D={[T.FrontTop]:{axis:new r.Pq0(1,0,0),leftRotation:-(.5*Math.PI),rightRotation:0},[T.FrontDown]:{axis:new r.Pq0(1,0,0),leftRotation:.5*Math.PI,rightRotation:0},[T.FrontLeft]:{axis:new r.Pq0(0,1,0),leftRotation:-(.5*Math.PI),rightRotation:0},[T.FrontRight]:{axis:new r.Pq0(0,1,0),leftRotation:.5*Math.PI,rightRotation:0},[T.TopLeft]:{axis:new r.Pq0(0,0,1),leftRotation:.5*Math.PI,rightRotation:0},[T.TopRight]:{axis:new r.Pq0(0,0,1),leftRotation:-(.5*Math.PI),rightRotation:0},[T.DownLeft]:{axis:new r.Pq0(0,0,1),leftRotation:-(.5*Math.PI),rightRotation:0},[T.DownRight]:{axis:new r.Pq0(0,0,1),leftRotation:.5*Math.PI,rightRotation:0},[T.BackTop]:{axis:new r.Pq0(1,0,0),leftRotation:.5*Math.PI,rightRotation:0},[T.BackDown]:{axis:new r.Pq0(1,0,0),leftRotation:-(.5*Math.PI),rightRotation:0},[T.BackLeft]:{axis:new r.Pq0(0,1,0),leftRotation:.5*Math.PI,rightRotation:0},[T.BackRight]:{axis:new r.Pq0(0,1,0),leftRotation:-(.5*Math.PI),rightRotation:0}},v={[T.FrontTop]:!0,[T.FrontDown]:!0,[T.FrontLeft]:!0,[T.FrontRight]:!1,[T.TopLeft]:!0,[T.TopRight]:!1,[T.DownLeft]:!1,[T.DownRight]:!0,[T.BackTop]:!1,[T.BackDown]:!0,[T.BackLeft]:!0,[T.BackRight]:!1};var S=function(e){return e.Angle90="ANGLE_90",e.Angle180="ANGLE_180",e}({}),z=function(e){return e.Regular="REGULAR",e.ForRespawn="FOR_RESPAWN",e}({});let M={grid:{size:1,scale:1},lives:5,cube:{rotationSpeed:{[z.Regular]:{[S.Angle90]:1.8,[S.Angle180]:1.5},[z.ForRespawn]:{[S.Angle90]:3.4,[S.Angle180]:2}}}};class Y{static isGridCellsEqual(e,t){return e.x===t.x&&e.y===t.y}static calculateGridLineDistance(e,t,W,i){return Math.abs(e-W)+Math.abs(t-i)}static calculateGridPositionByCoordinates(e,t){let W=Math.round(e/M.grid.size),i=Math.round(t/M.grid.size);return new r.I9Y(W,i)}static getPositionByGridAndSide(e,t,W,i){let o=!(arguments.length>4)||void 0===arguments[4]||arguments[4],n=p[t],a=(e[n.zAxis]+1)*.5*M.grid.size,s=d[t](W,i),l=(e[n.xAxis]-1)*.5*M.grid.size,c=(e[n.yAxis]-1)*.5*M.grid.size,C=null===s.x?l:c,g=o?M.grid.size:1,f=null!==s.x?(s.x*g-l)*s.xFactor:a*s.xFactor,h=null!==s.y?(s.y*g-c)*s.yFactor:a*s.yFactor,m=null!==s.z?(s.z*g-C)*s.zFactor:a*s.zFactor;return new r.Pq0(f,h,m)}static getItemPositions(e,t){let W=[];for(let i in e){let o=e[i];for(let e=0;e<o.length;e++)for(let n=0;n<o[e].length;n++)Y.getCellTypeBySymbol(o[e][n])===t&&W.push({side:i,gridPosition:new r.I9Y(n,e)})}return W}static getItemWithIDPositions(e,t){let W=[];for(let i in e){let o=e[i];for(let e=0;e<o.length;e++)for(let n=0;n<o[e].length;n++){let a=o[e][n],s=a.replace(/[0-9]/g,"");if(Y.getCellTypeBySymbol(s)===t){let t=parseInt(a.replace(s,""),10);isNaN(t)||W.push({side:i,gridPosition:new r.I9Y(n,e),id:t})}}}return W}static setSideRotation(e,t){let W=g[t];e.rotation.set(W.x,W.y,W.z)}static setRotationByDirection(e,t,W){let i=C[t],o=f[W].rotation.z;e.rotateOnWorldAxis(i,o)}static setRotationByAngle(e,t,W){let i=C[t];e.rotateOnWorldAxis(i,W)}static getCellTypeBySymbol(e){let t=e.replace(/[0-9]/g,"");for(let e in y)if(y[e].symbols.includes(t))return e;throw Error("Cell type not found for symbol: ".concat(e))}static getCellSymbolByType(e){return y[e].symbols[0]}static getCellTypeAndIDBySymbol(e){let t=Y.getCellTypeBySymbol(e),W=e.replace(/[0-9]/g,"");return{cellType:t,id:parseInt(e.replace(W,""),10)}}static getEnemyConfigByTypeAndID(e,t,W){let{enemies:i}=e;if(!i)throw Error("Enemies config not found");return i[t].filter(e=>e.id===W)[0]}static getEnemyConfigBySymbol(e,t){let{cellType:W,id:i}=Y.getCellTypeAndIDBySymbol(t);return Y.getEnemyConfigByTypeAndID(e,W,i)}static getDangerCellsForWallSpike(e){let t=[],W=e.position;for(let i=0;i<e.directions.length;i++){let o=h[e.directions[i]],n=new r.I9Y(W.x+o.x,W.y+o.y);t.push(n)}return t}constructor(){}}let q={probabilities:[.82,.04,.04,.04,.04,.02]},A=[m.Empty,m.Start,m.Finish,m.Coin],_={rotation:new r.O9p(.5*Math.PI,.5*Math.PI,0)},O={probabilities:[.88,.03,.02,.02,.02,.03]},E=[m.Wall],U={rotation:new r.O9p(.5*Math.PI,.5*Math.PI,0)};class G{static createFullSideMap(e,t){let W=e.size[p[t].xAxis]+2,i=e.size[p[t].yAxis]+2,o={},n=x[t];for(let t=0;t<n.length;t++){let W=n[t];o[W]=[...e.map.edges[W]]}let a=Y.getCellSymbolByType(m.Empty),r=Y.getCellSymbolByType(m.Wall),s=u.create2DArray(i,W,a);for(let e in u.fillCornerValues(s,r),o){let{positionType:n,direction:a}=k[t][e],r=[...o[e]];switch(r=1===a?r:r.reverse(),n){case R.Top:for(let e=1;e<W-1;e++)s[0][e]=r[e-1];break;case R.Down:for(let e=1;e<W-1;e++)s[i-1][e]=r[e-1];break;case R.Left:for(let e=1;e<i-1;e++)s[e][0]=r[e-1];break;case R.Right:for(let e=1;e<i-1;e++)s[e][W-1]=r[e-1]}}let l=[];for(let W=0;W<e.map.sides[t].length;W++)l.push([...e.map.sides[t][W]]);for(let e=1;e<i-1;e++)for(let t=1;t<W-1;t++){let W=l[e-1][t-1].replace(/[0-9]/g,""),i=Y.getCellTypeBySymbol(W);w.includes(i)&&(s[e][t]=l[e-1][t-1])}return s}static copyMapSidesAndEdges(e){let t={},W={};for(let W in s){let i=s[W],o=[];for(let t=0;t<e.map.sides[i].length;t++)o.push([...e.map.sides[i][t]]);t[i]=o}for(let t in T){let i=T[t];W[i]=[...e.map.edges[i]]}return{sides:t,edges:W}}static replaceExtraSymbolsInMap(e){for(let t in s){let W=s[t],i=e.size[p[W].xAxis],o=e.size[p[W].yAxis];for(let t=0;t<i;t++)for(let i=0;i<o;i++){let o=Y.getCellTypeBySymbol(e.map.sides[W][i][t]);if(A.includes(o)){let o=Y.getCellSymbolByType(m.Empty);e.map.sides[W][i][t]=o}if(E.includes(o)){let o=Y.getCellSymbolByType(m.Wall);e.map.sides[W][i][t]=o}}}}static removeEnemiesIndexesFromMap(e){for(let t in s){let W=s[t],i=e.size[p[W].xAxis],o=e.size[p[W].yAxis];for(let t=0;t<i;t++)for(let i=0;i<o;i++){let o=Y.getCellTypeBySymbol(e.map.sides[W][i][t]);o===m.FloorSpike&&(e.map.sides[W][i][t]=Y.getCellSymbolByType(m.FloorSpike)),o===m.WallSpike&&(e.map.sides[W][i][t]=Y.getCellSymbolByType(m.WallSpike))}}}constructor(){}}let N="/_next/static/chunks/corner_01.2ce82a079846067e67c73fc598e47452.glb";var K=W(88360),H=W(69497);let X={src:"/_next/static/media/dungeon_texture.8527ad3a.png"},j=a.memo(function(){let e=(0,K.G)(r.Tap,X.src);return(0,i.Y)("meshPhongMaterial",{map:e})}),V=a.memo(function(e){let{asset:t,...W}=e,o=(0,K.G)(H.B,t),n=a.useMemo(()=>o.scene.children[0].geometry,[o]);return(0,i.Y)(i.FK,{children:(0,i.Y)("mesh",{geometry:n,...W,children:(0,i.Y)(j,{})})})}),Q=a.memo(function(e){let{levelMap:t}=e,W=new r.Pq0((t.size.x+1)*.5*M.grid.size,(t.size.y+1)*.5*M.grid.size,(t.size.z+1)*.5*M.grid.size),o={receiveShadow:!0,castShadow:!0,scale:[M.grid.scale,M.grid.scale,M.grid.scale]},n=a.useCallback(e=>{let[t,i,o]=e;return[t*W.x,i*W.y,o*W.z]},[W]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(V,{...o,asset:N,position:n([-1,1,1]),rotation:[0,-(.5*Math.PI),0]}),(0,i.Y)(V,{...o,asset:"/_next/static/chunks/corner_02.0b158ea6f34618b48ce2f3831fa5b893.glb",position:n([1,1,1]),rotation:[0,0,0]}),(0,i.Y)(V,{...o,asset:"/_next/static/chunks/corner_03.72c31bf8d421a085a8fe6b1033d06936.glb",position:n([-1,-1,1]),rotation:[0,-(.5*Math.PI),-(.5*Math.PI)]}),(0,i.Y)(V,{...o,asset:N,position:n([1,-1,1]),rotation:[0,0,-(.5*Math.PI)]}),(0,i.Y)(V,{...o,asset:"/_next/static/chunks/corner_04.f44272c6292ded48beb278f2d10742c8.glb",position:n([-1,1,-1]),rotation:[0,Math.PI,0]}),(0,i.Y)(V,{...o,asset:N,position:n([1,1,-1]),rotation:[0,.5*Math.PI,0]}),(0,i.Y)(V,{...o,asset:N,position:n([-1,-1,-1]),rotation:[0,Math.PI,-(.5*Math.PI)]}),(0,i.Y)(V,{...o,asset:"/_next/static/chunks/corner_05.858eb242ee5a999de2c4141b186fff2e.glb",position:n([1,-1,-1]),rotation:[0,.5*Math.PI,-(.5*Math.PI)]})]})});var $=W(33191);class J{static disposeObject(e){e.traverse(e=>{e instanceof r.eaF&&(e.geometry.dispose(),e.material.dispose())})}static killObjects(e,t){Array.isArray(e)?e.forEach(e=>{t&&t.remove(e),this.disposeObject(e)}):(t&&t.remove(e),this.disposeObject(e))}static disposeInstancedMesh(e){e.geometry.dispose(),e.material.dispose()}static killInstancedMesh(e,t){Array.isArray(e)?e.forEach(e=>{t&&t.remove(e),this.disposeInstancedMesh(e)}):(t&&t.remove(e),this.disposeInstancedMesh(e))}static setMaterialToChildren(e,t){e.traverse(e=>{e instanceof r.eaF&&(e.material=t)})}static setGeometryRotation(e,t){let W=new r.kn4;W.makeRotationFromEuler(t),e.applyMatrix4(W)}static lerp(e,t,W){return e+(t-e)*W}static splitObjectsByProbability(e,t){let W=e.sort(()=>Math.random()-.5),i=e.length,o=0,n=i;return t.map((e,a)=>{let r=a===t.length-1?n:Math.round(e*i),s=W.slice(o,o+r);return o+=r,n-=r,s})}static interpolateColors(e,t,W){let i=new r.Q1f;return i.lerpColors(e,t,W),i}constructor(){}}function Z(e,t){let W=(0,K.G)(H.B,e);return a.useMemo(()=>{let e=W.scene.children[0].geometry.clone();return t&&J.setGeometryRotation(e,t),e},[e])}function ee(e){let t=a.useRef(null);return a.useEffect(()=>{let W=t.current;W&&(W.count=e.length,e.forEach((e,t)=>{e.updateMatrix(),W.setMatrixAt(t,e.matrix)}),W.instanceMatrix.needsUpdate=!0)},[e]),t}let et=a.memo(function(e){let{asset:t,edgeCells:W}=e,o=Z(t),n=ee(W);return(0,i.Y)("instancedMesh",{ref:n,args:[o,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})})}),eW=a.memo(function(e){let{levelMap:t}=e,{edgeCellsByProbability:W}=a.useMemo(()=>{let e=new r.Pq0((t.size.x+1)*.5*M.grid.size,(t.size.y+1)*.5*M.grid.size,(t.size.z+1)*.5*M.grid.size),W=[];for(let i=0;i<P.length;i++){let o=P[i],n=t.size[o.axis];for(let a=0;a<n;a++)if(Y.getCellTypeBySymbol(t.map.edges[o.edge][a])===m.Wall){let t=new r.B69;t.position.x=b[i].x*e.x,t.position.y=b[i].y*e.y,t.position.z=b[i].z*e.z,t.position[o.axis]+=a*M.grid.size+.5*M.grid.size-.5*n*M.grid.size,t.rotation.set(o.rotation.x,o.rotation.y,o.rotation.z),t.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),W.push(t)}}return{edgeCellsByProbability:J.splitObjectsByProbability(W,F.probabilities)}},[]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(et,{asset:"/_next/static/chunks/edge_01.41fe3a88d18d42970f762bd8cef93081.glb",edgeCells:W[0]}),(0,i.Y)(et,{asset:"/_next/static/chunks/edge_02.ce003408550d855857d784c542867ee0.glb",edgeCells:W[1]}),(0,i.Y)(et,{asset:"/_next/static/chunks/edge_03.361ea1c24e3df48297b29d7c6a907362.glb",edgeCells:W[2]}),(0,i.Y)(et,{asset:"/_next/static/chunks/edge_04.75fab19434691956248a72edd08d9371.glb",edgeCells:W[3]})]})}),ei=a.memo(function(e){let{asset:t,edgeWallCells:W}=e,o=Z(t,L.rotation),n=ee(W);return(0,i.Y)("instancedMesh",{ref:n,args:[o,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})})}),eo=a.memo(function(e){let{levelMap:t}=e,{edgeWallCellsByProbability:W}=a.useMemo(()=>{let e=new r.Pq0((t.size.x+1)*.5*M.grid.size,(t.size.y+1)*.5*M.grid.size,(t.size.z+1)*.5*M.grid.size),W=[];for(let i=0;i<P.length;i++){let o=P[i],n=I[o.edge],a=D[o.edge],s=Y.getCellSymbolByType(m.Wall),l=[...t.map.edges[o.edge]];l.unshift(s),l.push(s);let C=t.size[o.axis]+2;for(let t=0;t<C;t++){let s=Y.getCellTypeBySymbol(l[t]);if(t<l.length-1&&s===m.Wall&&Y.getCellTypeBySymbol(l[t+1])===m.Empty){let s=0;for(let e=t+1;e<C;e++)if(Y.getCellTypeBySymbol(l[e])===m.Empty)s++;else break;let p=new r.B69;p.position.x=b[i].x*e.x,p.position.y=b[i].y*e.y,p.position.z=b[i].z*e.z;let d=!1===v[o.edge]?s+1:0;p.position[o.axis]=(t+d)*M.grid.size+.5*M.grid.size-.5*C*M.grid.size,p.rotation.set(o.rotation.x,o.rotation.y,o.rotation.z),Y.setRotationByDirection(p,n,c.Up),p.rotateOnWorldAxis(a.axis,a.rightRotation),p.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),W.push(p)}if(t>0&&s===m.Wall&&Y.getCellTypeBySymbol(l[t-1])===m.Empty){let s=0;for(let e=t-1;e>=0;e--)if(Y.getCellTypeBySymbol(l[e])===m.Empty)s++;else break;let p=new r.B69;p.position.x=b[i].x*e.x,p.position.y=b[i].y*e.y,p.position.z=b[i].z*e.z;let d=!1===v[o.edge]?s+1:0;p.position[o.axis]+=(t-d)*M.grid.size+.5*M.grid.size-.5*C*M.grid.size,p.rotation.set(o.rotation.x,o.rotation.y,o.rotation.z),Y.setRotationByDirection(p,n,c.Down),p.rotateOnWorldAxis(a.axis,a.leftRotation),p.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),W.push(p)}}}return{edgeWallCellsByProbability:J.splitObjectsByProbability(W,B.probabilities)}},[t]);return(0,i.Y)(i.FK,{children:(0,i.Y)(ei,{asset:"/_next/static/chunks/edge_wall_01.62d1f0d55151d900906265decec9e9bc.glb",edgeWallCells:W[0]})})}),en=a.memo(function(e){let{asset:t,floorCells:W}=e,o=Z(t,_.rotation),n=ee(W);return(0,i.Y)("instancedMesh",{ref:n,args:[o,void 0,W.length],receiveShadow:!0,children:(0,i.Y)(j,{})})});function ea(e,t,W,i,o){let n=p[W],a=(e.size[n.zAxis]+1)*.5*M.grid.size,r=(e.size[n.xAxis]-1)*.5*M.grid.size,s=(e.size[n.yAxis]-1)*.5*M.grid.size;t.position.x=C[W].x*a,t.position.y=C[W].y*a,t.position.z=C[W].z*a,t.position[n.xAxis]+=o*M.grid.size*n.xFactor-r*n.xFactor,t.position[n.yAxis]+=i*M.grid.size*n.yFactor-s*n.yFactor}function er(e,t,W,i,o,n){if(t===m.Empty||t===m.FloorSpike){let t=new r.B69;return ea(e,t,W,i-1,o-1),Y.setSideRotation(t,W),Y.setRotationByDirection(t,W,n),t.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),t}return null}let es=a.memo(function(e){let{levelMap:t}=e,{floorCellsByProbability:W}=a.useMemo(()=>{let e=[];for(let W in s){let i=s[W],o=p[i],n=t.size[o.xAxis],a=t.size[o.yAxis];for(let W=0;W<a;W++)for(let o=0;o<n;o++)if(Y.getCellTypeBySymbol(t.map.sides[i][W][o])===m.Empty){let n=new r.B69;ea(t,n,i,W,o),Y.setSideRotation(n,i);let a=u.getRandomArrayElement([c.Up,c.Down,c.Left,c.Right]);Y.setRotationByDirection(n,i,a),n.scale.setScalar(M.grid.scale),e.push(n)}}return{floorCellsByProbability:J.splitObjectsByProbability(e,q.probabilities)}},[t]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(en,{asset:"/_next/static/chunks/floor_01.a51ae4ca337f1959ee8b9318e928ac55.glb",floorCells:W[0]}),(0,i.Y)(en,{asset:"/_next/static/chunks/floor_02.0b43f17cc83b20c757bc82cc8d358c1a.glb",floorCells:W[1]}),(0,i.Y)(en,{asset:"/_next/static/chunks/floor_03.129d3e98e681d078c4b5cb6327526485.glb",floorCells:W[2]}),(0,i.Y)(en,{asset:"/_next/static/chunks/floor_04.745db0eb21f67f898c9abe2858221cd3.glb",floorCells:W[3]}),(0,i.Y)(en,{asset:"/_next/static/chunks/floor_05.0e45a2436678e2886709479d43d4f0ee.glb",floorCells:W[4]}),(0,i.Y)(en,{asset:"/_next/static/chunks/floor_06.53087d83f209dc1bdff3a78d266726a3.glb",floorCells:W[5]})]})}),el=a.memo(function(e){let{asset:t,roofCells:W}=e,o=Z(t,U.rotation),n=ee(W);return(0,i.Y)("instancedMesh",{ref:n,args:[o,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})})}),ec=a.memo(function(e){let{levelMap:t}=e,{roofCellsByProbability:W}=a.useMemo(()=>{let e=[];for(let W in s){let i=s[W],o=p[i],n=t.size[o.xAxis],a=t.size[o.yAxis];for(let W=0;W<a;W++)for(let o=0;o<n;o++){let n=Y.getCellTypeBySymbol(t.map.sides[i][W][o]);if(n===m.Wall||n===m.WallSpike){let n=new r.B69;ea(t,n,i,W,o),Y.setSideRotation(n,i);let a=u.getRandomArrayElement([c.Up,c.Down,c.Left,c.Right]);Y.setRotationByDirection(n,i,a),n.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),e.push(n)}}}return{roofCellsByProbability:J.splitObjectsByProbability(e,O.probabilities)}},[]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(el,{asset:"/_next/static/chunks/roof_01.32606889e296e9bab483a81caa1e4ec8.glb",roofCells:W[0]}),(0,i.Y)(el,{asset:"/_next/static/chunks/roof_02.59b501f9aba68ac048aecfe6c23e49c5.glb",roofCells:W[1]}),(0,i.Y)(el,{asset:"/_next/static/chunks/roof_03.343e16929dc6aa7a2c5969591d032a04.glb",roofCells:W[2]}),(0,i.Y)(el,{asset:"/_next/static/chunks/roof_04.63ef010ef210fccce3e8707a30378745.glb",roofCells:W[3]}),(0,i.Y)(el,{asset:"/_next/static/chunks/roof_05.9828e2241766225a11b9e8509fbc7f30.glb",roofCells:W[4]}),(0,i.Y)(el,{asset:"/_next/static/chunks/roof_06.edc4315f490234f9f0c9358aee577919.glb",roofCells:W[5]})]})}),eC={probabilities:[.9,.025,.025,.025,.025]},ep={rotation:new r.O9p(.5*Math.PI,0,0)},ed=a.memo(function(e){let{asset:t,wallCells:W}=e,o=Z(t,ep.rotation),n=ee(W);return(0,i.Y)("instancedMesh",{ref:n,args:[o,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})})}),eg="/_next/static/chunks/wall_01.ce54ec7b474b5a8ae129e3dfeb747872.glb",ef=a.memo(function(e){let{levelMap:t,fullMap:W}=e,{wallCellsByProbability:o}=a.useMemo(()=>{let e=[];for(let i in s){let o=s[i],n=p[o],a=t.size[n.xAxis],l=t.size[n.yAxis];for(let W=0;W<l;W++)for(let i=0;i<a;i++)if(Y.getCellTypeBySymbol(t.map.sides[o][W][i])===m.Wall){let n=function(e,t,W){let i=[],o=[m.Empty,m.FloorSpike],n=[];for(let e=0;e<o.length;e++)n.push(Y.getCellSymbolByType(o[e]));return t>0&&n.includes(e[t-1][W])&&i.push(c.Up),t<e.length-1&&n.includes(e[t+1][W])&&i.push(c.Down),W>0&&n.includes(e[t][W-1])&&i.push(c.Left),W<e[0].length-1&&n.includes(e[t][W+1])&&i.push(c.Right),i}(t.map.sides[o],W,i);for(let a=0;a<n.length;a++){let s=n[a],l=new r.B69;ea(t,l,o,W,i),Y.setSideRotation(l,o),Y.setRotationByDirection(l,o,s),l.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),e.push(l)}}let C=W[o];for(let W=0;W<C.length;W++)for(let i=0;i<C[W].length;i++){let n=Y.getCellTypeBySymbol(C[W][i]),a=null;0===W&&0!==i&&i!==C[W].length-1&&n===m.Wall&&(a=er(t,Y.getCellTypeBySymbol(C[W+1][i]),o,W,i,c.Down)),W===C.length-1&&0!==i&&i!==C[W].length-1&&n===m.Wall&&(a=er(t,Y.getCellTypeBySymbol(C[W-1][i]),o,W,i,c.Up)),0===i&&0!==W&&W!==C.length-1&&n===m.Wall&&(a=er(t,Y.getCellTypeBySymbol(C[W][i+1]),o,W,i,c.Right)),i===C[W].length-1&&0!==W&&W!==C.length-1&&n===m.Wall&&(a=er(t,Y.getCellTypeBySymbol(C[W][i-1]),o,W,i,c.Left)),a&&e.push(a)}}return{wallCellsByProbability:J.splitObjectsByProbability(e,eC.probabilities)}},[]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(ed,{asset:eg,wallCells:o[0]}),(0,i.Y)(ed,{asset:"/_next/static/chunks/wall_02.b198f2b4a1a32afb07aa473350f3681c.glb",wallCells:o[1]}),(0,i.Y)(ed,{asset:"/_next/static/chunks/wall_03.bf2d39b48a7e19b042077cfe1a644b3a.glb",wallCells:o[2]}),(0,i.Y)(ed,{asset:"/_next/static/chunks/wall_04.4263e87b02002fdf7ca579f90536e1ac.glb",wallCells:o[3]}),(0,i.Y)(ed,{asset:"/_next/static/chunks/wall_05.57cfc1e7894845177b01e851a23417fa.glb",wallCells:o[4]})]})}),eh={src:"/_next/static/media/Ghost_BaseColor.55362451.png"},em={src:"/_next/static/media/Ghost_Normal.c6eb295d.png"},ey={scale:.9},ew=a.memo(function(){return(0,i.Y)("meshBasicMaterial",{color:65280,wireframe:!0})});var eu=W(62122);let eT={gameplay:{disableIntro:!1,grid:!1,cubeSideName:!1,cubeRotationName:!1,gridCoordinates:!1,cubeRotationButtons:!1,physicalBody:!1}},eR=a.createContext({});function eF(e){let{levelConfig:t,children:W}=e,o=function(e){let{levelConfig:t}=e,W=a.useCallback(e=>{let{side:W,gridPosition:{x:i,y:o}}=e;return{position:Y.getPositionByGridAndSide(t.size,W,i,o),rotation:g[W]}},[t]),i=a.useCallback(e=>Y.getItemPositions(t.map.sides,e)[0],[t]),o=a.useMemo(()=>i(m.Start),[i]),[n,r]=a.useState(o);return{levelConfig:t,posPlayer:n,setPosPlayer:r,getCubePosition:i,getObjectTransform:W}}({levelConfig:t});return(0,i.Y)(eR.Provider,{value:o,children:W})}function eB(){return a.useContext(eR)}var eL=W(96941),eb=W(71705);let eP=a.memo(function(e){let{}=e,t=Z("/_next/static/chunks/ghost.125a8cf5f02fbde0a5227a868ecffb98.glb",new r.O9p(.5*Math.PI,Math.PI,0)),W=(0,K.G)(r.Tap,eh.src);W.flipY=!1,W.colorSpace=r.er$;let o=(0,K.G)(r.Tap,em.src);o.flipY=!1;let n=ey.scale,s=a.useRef(null);a.useLayoutEffect(()=>{let e=s.current;e&&(e.shadow.mapSize.width=128,e.shadow.mapSize.height=128,e.shadow.camera.near=.1,e.shadow.camera.far=5,e.shadow.bias=-.001)},[]);let l=a.useRef(null),[c,C]=a.useState(null);a.useLayoutEffect(()=>{let e=l.current;e&&C(new r.NRn().setFromObject(e).getSize(new r.Pq0))},[]);let p=a.useRef(null);a.useLayoutEffect(()=>{let e=p.current;e&&(e.geometry.computeBoundingBox(),e.geometry.userData.obb=new eu.W().fromBox3(e.geometry.boundingBox),e.userData.obb=new eu.W,e.visible=!0,eT.gameplay.physicalBody&&(e.visible=!0))},[]);let{posPlayer:d,getObjectTransform:g}=eB(),f=a.useRef(null);return a.useEffect(()=>{let e=f.current;e&&(e.scale.set(0,0,0),eL.Ay.to(e.scale,{x:1,y:1,z:1,duration:.3,ease:eb.kc.easeOut,onComplete:()=>{console.log("PlayerCharacter","gsap.to","onComplete")}}))},[]),(0,i.Y)("group",{ref:f,...g(d),children:(0,i.FD)("group",{children:[(0,i.Y)("mesh",{ref:l,geometry:t,castShadow:!0,receiveShadow:!0,scale:[M.grid.scale*n,M.grid.scale*n,M.grid.scale*n],children:(0,i.Y)("meshStandardMaterial",{map:W,normalMap:o,emissiveMap:W,transparent:!0})}),(0,i.Y)("pointLight",{args:[0xffffff,5,10,2],position:[0,0,.3],castShadow:!0}),c&&(0,i.Y)(i.FK,{children:(0,i.FD)("mesh",{ref:p,children:[(0,i.Y)("boxGeometry",{args:[c.x,c.y,c.z]}),(0,i.Y)(ew,{})]})})]})})}),ex=a.memo(function(e){let{}=e,{getCubePosition:t,getObjectTransform:W}=eB(),o=t(m.Finish),n=Z("/_next/static/chunks/finish-object.5ce6a1bf28ceb0ffdf7d6d2ff382b68e.glb");return(0,i.FD)("group",{...W(o),children:[(0,i.Y)("mesh",{geometry:n,castShadow:!0,children:(0,i.Y)(j,{})}),(0,i.Y)("pointLight",{args:[0xff0000,2,100],castShadow:!0,"shadow-mapSize":[128,128],"shadow-camera-near":.1,"shadow-camera-far":3,"shadow-bias":-1e-4})]})});var ek=function(e){return e.WallSpike="WALL_SPIKE",e.FloorSpike="FLOOR_SPIKE",e}({});let eI={[ek.WallSpike]:m.WallSpike,[ek.FloorSpike]:m.FloorSpike},eD={modelStartRotation:new r.O9p(.5*Math.PI,0,0)};function ev(e,t,W,i,o,n){if(t===m.Empty){let t=new r.B69;return eS(e,t,W,o,i),Y.setSideRotation(t,W),Y.setRotationByDirection(t,W,n),t.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),t}return null}function eS(e,t,W,i,o){let n=p[W],a=(e.size[n.zAxis]+1)*.5*M.grid.size,r=(e.size[n.xAxis]-1)*.5*M.grid.size,s=(e.size[n.yAxis]-1)*.5*M.grid.size;t.position.x=C[W].x*a,t.position.y=C[W].y*a,t.position.z=C[W].z*a,t.position[n.xAxis]+=o*M.grid.size*n.xFactor-r*n.xFactor,t.position[n.yAxis]+=i*M.grid.size*n.yFactor-s*n.yFactor}let ez=a.memo(function(e){let{configs:t}=e,{levelConfig:W}=eB(),o=a.useMemo(()=>{let{sides:e,edges:t}=G.copyMapSidesAndEdges(W),i={size:new r.Pq0(W.size.x,W.size.y,W.size.z),map:{sides:e,edges:t}};return G.replaceExtraSymbolsInMap(i),i},[W]),{wallCells:n}=a.useMemo(()=>{let e=[];for(let W=0;W<t.length;W++){let i=t[W],{x:n,y:a}=i.position,r=i.side,s=o.map.sides[r];if(a>0&&s[a-1][n]&&!i.directions.includes(c.Up)){let t=ev(o,Y.getCellTypeBySymbol(s[a-1][n]),r,n,a,c.Up);t&&e.push(t)}if(a<o.size.y-1&&s[a+1][n]&&!i.directions.includes(c.Down)){let t=ev(o,Y.getCellTypeBySymbol(s[a+1][n]),r,n,a,c.Down);t&&e.push(t)}if(n>0&&s[a][n-1]&&!i.directions.includes(c.Left)){let t=ev(o,Y.getCellTypeBySymbol(s[a][n-1]),r,n,a,c.Left);t&&e.push(t)}if(n<o.size.x-1&&s[a][n+1]&&!i.directions.includes(c.Right)){let t=ev(o,Y.getCellTypeBySymbol(s[a][n+1]),r,n,a,c.Right);t&&e.push(t)}}return{wallCells:e}},[o]),{spikeObjects:s}=a.useMemo(()=>{let e=[];for(let W=0;W<t.length;W++){let i=t[W],{x:n,y:a}=i.position,s=i.side;for(let t=0;t<i.directions.length;t++){let W=i.directions[t],l=new r.B69;eS(o,l,s,a,n),Y.setSideRotation(l,s),Y.setRotationByDirection(l,s,W),l.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),e.push(l)}}return{spikeObjects:e}},[t,o]),l=Z(eg,ep.rotation),C=ee(n),p=Z("/_next/static/chunks/wall_spikes.a5f27733d2b97280fbc2da351aee5309.glb",eD.modelStartRotation),d=ee(s);return console.log("WallSpikes",{configs:t}),(0,i.FD)("group",{children:[(0,i.Y)("instancedMesh",{ref:C,args:[l,void 0,n.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})}),(0,i.Y)("instancedMesh",{ref:d,args:[p,void 0,s.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})})]})}),eM={spikesStartPosition:new r.Pq0(0,0,-.8),geometryBaseRotation:new r.O9p(.5*Math.PI,0,0),geometrySpikeRotation:new r.O9p(0,0,0)},eY=a.memo(function(e){let{configs:t}=e,{levelConfig:W}=eB(),{floorSpikeBaseObjects:o}=a.useMemo(()=>{let e=[];for(let i=0;i<t.length;i++){let o=t[i],{x:n,y:a}=o.position,s=o.side,l=new r.B69,c=Y.getPositionByGridAndSide(W.size,s,n,a);l.position.copy(c),Y.setSideRotation(l,s),e.push(l)}return{floorSpikeBaseObjects:e}},[t]),{floorSpikeObjects:n}=a.useMemo(()=>{let e=[];for(let i=0;i<t.length;i++){let o=t[i],{x:n,y:a}=o.position,s=o.side,l=new r.B69,c=Y.getPositionByGridAndSide(W.size,s,n,a),C=p[s];c[C.xAxis]+=eM.spikesStartPosition.x*C.xFactor,c[C.yAxis]+=eM.spikesStartPosition.y*C.yFactor,c[C.zAxis]+=eM.spikesStartPosition.z*C.zFactor,l.position.copy(c),Y.setSideRotation(l,s),e.push(l)}return{floorSpikeObjects:e}},[t]),s=Z("/_next/static/chunks/floor_spikes_base.5b32e569846d9a443fc9c3be237d947b.glb",eM.geometryBaseRotation),l=ee(o),c=Z("/_next/static/chunks/floor_spikes.c29983fbb2c54a0e9bd7bd244448983e.glb",eM.geometrySpikeRotation),C=ee(n);return console.log("FloorSpikes",{configs:t}),(0,i.FD)("group",{children:[(0,i.Y)("instancedMesh",{ref:l,args:[s,void 0,o.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})}),(0,i.Y)("instancedMesh",{ref:C,args:[c,void 0,n.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})})]})}),eq=a.memo(function(e){let{}=e,{levelConfig:t}=eB(),W=a.useMemo(()=>{let e=Object.keys(t.enemies),W=[];for(let o of e){let e=t.enemies[o],n=eI[o],a=Y.getItemWithIDPositions(t.map.sides,n),r=[];for(let t of e){let e=a.find(e=>{let{id:W}=e;return W===t.id});e?(t.side=e.side,t.position=e.gridPosition,r.push(t)):console.error("Enemy ".concat(o," with id ").concat(t.id," not found"))}o===ek.WallSpike?W.push((0,i.Y)(ez,{configs:e},o)):o===ek.FloorSpike&&W.push((0,i.Y)(eY,{configs:e},o))}return W},[t]);return(0,i.Y)(i.FK,{children:W})}),eA=a.memo(function(e){let{}=e;return(0,i.Y)(i.FK,{})}),e_=a.memo(function(e){let{}=e,{levelConfig:t}=eB(),{coinsObjects:W}=a.useMemo(()=>({coinsObjects:Y.getItemPositions(t.map.sides,m.Coin).map(e=>{let{side:W,gridPosition:{x:i,y:o}}=e,n=new r.B69;return n.position.copy(Y.getPositionByGridAndSide(t.size,W,i,o)),Y.setSideRotation(n,W),n})}),[]),o=Z("/_next/static/chunks/coin.2fabbf7055494448051885724112c983.glb"),n=ee(W);return(0,i.Y)("instancedMesh",{ref:n,args:[o,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,i.Y)(j,{})})}),eO=a.memo(function(e){let{levelConfig:t}=e,W=a.useRef(null),{levelMap:o,fullMap:n}=a.useMemo(()=>(e=>{let{sides:t,edges:W}=G.copyMapSidesAndEdges(e),i={size:new r.Pq0(e.size.x,e.size.y,e.size.z),map:{sides:t,edges:W}};G.replaceExtraSymbolsInMap(i),G.removeEnemiesIndexesFromMap(i);let o={};return Object.values(s).forEach(e=>{o[e]=G.createFullSideMap(i,e)}),{levelMap:i,fullMap:o}})(t),[t]);return(0,i.Y)(eF,{levelConfig:t,children:(0,i.FD)("group",{ref:W,children:[(0,i.Y)($.E,{children:"HI"}),(0,i.Y)(Q,{levelMap:o}),(0,i.Y)(eW,{levelMap:o}),(0,i.Y)(eo,{levelMap:o}),(0,i.Y)(es,{levelMap:o}),(0,i.Y)(ec,{levelMap:o}),(0,i.Y)(ef,{levelMap:o,fullMap:n}),(0,i.Y)(eP,{}),(0,i.Y)(ex,{}),(0,i.Y)(eq,{}),(0,i.Y)(eA,{}),(0,i.Y)(e_,{})]})})});var eE=function(e){return e.Level01="Level01",e.Level02="Level02",e.Level03="Level03",e.Level04="Level04",e.Level05="Level05",e.Level06="Level06",e.Level07="Level07",e.Level08="Level08",e.Level09="Level09",e.Level10="Level10",e.Level11="Level11",e.Level12="Level12",e}({}),eU=function(e){return e.Light="LIGHT",e.Dark="DARK",e}({});let eG={size:new r.Pq0(7,7,7),sceneType:eU.Light,map:{sides:{[s.Front]:[["C"," "," ","C"," "," ","C"],[" ","W","W","W","W","W"," "],[" ","W","C"," "," "," ","C"],[" ","W"," ","C","W"," "," "],[" ","W","C"," ","W"," "," "],[" ","W","W"," ","W"," "," "],["S","W","W"," ","W","C","C"]],[s.Left]:[[" "," ","C"," ","C","W","W"],[" "," "," "," "," "," ","C"],["C"," ","C","W","C","I2","C"],["W","W"," ","W","W"," "," "],[" "," ","C"," "," "," ","C"],["W","W"," "," "," "," ","W"],["W","W","C"," ","I1"," ","C"]],[s.Right]:[[" ","W","W","W"," ","W"," "],[" ","W","W","W"," ","W"," "],[" ","W","W","W"," ","W"," "],["C","W","C"," ","C"," "," "],[" ","W"," ","W"," ","W","W"],[" ","W"," ","W"," ","W","W"],[" ","W","C"," ","C","W","W"]],[s.Top]:[[" ","W","W","C"," "," "," "],[" ","W","W"," "," ","X1","W"],["C"," "," ","C"," ","X2"," "],["W","W","W","W","W","W"," "],["C"," "," ","C"," "," ","C"],[" ","W","W","W","W","W","W"],["C"," "," ","C"," "," "," "]],[s.Bottom]:[[" "," "," ","C"," "," "," "],[" ","W","W"," ","W","W","W"],[" ","C","W"," ","W","C","C"],["C"," ","W","C","W","C","C"],["W"," ","W"," ","W","C","C"],[" "," ","W"," ","W","C","C"],["C"," "," "," "," "," "," "]],[s.Back]:[["C"," "," ","I3"," "," ","C"],[" ","W","W"," ","W","W"," "],[" ","W","C","C","C","W"," "],[" ","W","C","F","C","W"," "],[" ","W","W"," "," ","W"," "],[" ","W","W"," "," ","W"," "],["C"," "," "," ","C","W","C"]]},edges:{[T.FrontTop]:["W","W","W","W","W","W","W"],[T.FrontDown]:["W","W","W"," ","W","W","W"],[T.FrontLeft]:["W","W","W","W","W","W","W"],[T.FrontRight]:["W","W","W","W","W","W","W"],[T.TopLeft]:[" ","W","W","W","W","W","W"],[T.TopRight]:[" ","W"," ","W","W","W"," "],[T.DownLeft]:["W","W","W","W","W","W","W"],[T.DownRight]:["W","W","W","W","W","W"," "],[T.BackTop]:["W","W","W","W","W","W","W"],[T.BackDown]:["W","W","W","W","W","W","W"],[T.BackLeft]:["W","W"," ","W","W","W","W"],[T.BackRight]:["W","W","W","W","W","W","W"]}},enemies:{[ek.WallSpike]:[{id:1,directions:[c.Left]},{id:2,directions:[c.Left]}],[ek.FloorSpike]:[{id:1,inactiveTime:1.5,activeTime:1},{id:2,inactiveTime:2.5,activeTime:1},{id:3,inactiveTime:2,activeTime:1}]}},eN={size:new r.Pq0(7,7,7),sceneType:eU.Dark,map:{sides:{[s.Front]:[["CC","  ","CC","WW","CC","  ","CC"],["  ","WW","  ","WW","  ","WW","  "],["  ","WW","  ","WW","  ","WW","WW"],["  ","WW","FI","WW","ST","  ","CC"],["  ","WW","X8","WW","  ","WW","  "],["  ","X7","  ","X9","  ","WW","  "],["CC","  ","CC","WW","CC","  ","CC"]],[s.Left]:[["CC","  ","CC","  ","CC","  ","CC"],["  ","WW","  ","CC","  ","CC","  "],["  ","  ","  ","WW","  ","  ","WW"],["CC","  ","  ","CC","  ","  ","CC"],["  ","WW","  ","  ","WW","  ","WW"],["  ","CC","  ","  ","  ","CC","  "],["  ","  ","WW","  ","  ","  ","CC"]],[s.Right]:[["WW","WW","WW","  ","  ","CC","WW"],["  ","CC","WW","WW","WW","I2","CC"],["WW","  ","WW","WW","WW","WW","  "],["  ","CC","WW","CC","  ","  ","  "],["  ","WW","WW","  ","WW","WW","WW"],["  ","  ","  ","  ","  ","  ","  "],["CC","CC","WW","CC","  ","I1","CC"]],[s.Top]:[["  ","CC","  ","WW","CC","  ","  "],["CC","WW","CC","WW","  ","WW","  "],["  ","CC","  ","  ","CC","WW","  "],["WW","WW","WW","WW","WW","WW","  "],["CC","  ","CC","  ","CC","WW","  "],["  ","WW","WW","WW","I3","WW","  "],["CC","  ","CC","  ","CC","  ","CC"]],[s.Bottom]:[["  ","CC","  ","WW","WW","X1","WW"],["CC","WW","CC","  ","CC","  ","X2"],["  ","CC","I5","  ","  ","  ","X3"],["  ","WW","WW","WW","  ","  ","X4"],["  ","  ","CC","WW","  ","  ","X5"],["WW","WW","  ","WW","  ","X6","WW"],["  ","  ","CC","WW","CC","  ","  "]],[s.Back]:[["CC","WW","WW","CC","  ","  ","CC"],["CC","WW","CC","  ","  ","WW","  "],["  ","  ","  ","  ","I4","  ","CC"],["  ","  ","  ","WW","  ","WW","  "],["  ","  ","CC","  ","CC","  ","CC"],["  ","WW","  ","WW","  ","WW","  "],["  ","WW","CC","  ","CC","  ","CC"]]},edges:{[T.FrontTop]:["W","W","W","W","W","W","W"],[T.FrontDown]:["W","W","W","W","W","W","W"],[T.FrontLeft]:["W","W","W"," ","W","W","W"],[T.FrontRight]:["W","W","W","W","W"," ","W"],[T.TopLeft]:["W","W","W","W","W","W","W"],[T.TopRight]:["W","W","W"," ","W","W","W"],[T.DownLeft]:[" ","W","W","W","W","W","W"],[T.DownRight]:["W","W","W","W","W","W","W"],[T.BackTop]:["W","W"," ","W","W","W","W"],[T.BackDown]:["W","W","W","W","W","W"," "],[T.BackLeft]:["W","W","W","W","W","W","W"],[T.BackRight]:["W","W","W","W","W","W","W"]}},enemies:{[ek.WallSpike]:[{id:1,directions:[c.Down]},{id:2,directions:[c.Left]},{id:3,directions:[c.Left]},{id:4,directions:[c.Left]},{id:5,directions:[c.Left]},{id:6,directions:[c.Up]},{id:7,directions:[c.Right]},{id:8,directions:[c.Down]},{id:9,directions:[c.Left]}],[ek.FloorSpike]:[{id:1,inactiveTime:2,activeTime:1},{id:2,inactiveTime:2,activeTime:1},{id:3,inactiveTime:2,activeTime:1},{id:4,inactiveTime:2,activeTime:1},{id:5,inactiveTime:2,activeTime:1}]}},eK={size:new r.Pq0(8,8,8),sceneType:eU.Light,map:{sides:{[s.Front]:[["CC","  ","  ","  ","  ","  ","  ","CC"],["  ","  ","  ","  ","  ","  ","  ","WW"],["  ","  ","WW","CC","WW","WW","  ","  "],["  ","  ","WW","ST","  ","CC","  ","  "],["WW","  ","CC","  ","  ","WW","  ","  "],["  ","  ","WW","WW","CC","WW","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["CC","  ","  ","  ","  ","WW","  ","CC"]],[s.Left]:[["CC","CC","WW","WW","CC","  ","  ","I3"],["CC","CC","WW","WW","  ","  ","WW","CC"],["CC","CC","I1","I2","  ","CC","WW","CC"],["WW","WW","WW","WW","WW","  ","WW","CC"],["CC","CC","CC","CC","WW","  ","WW","WW"],["CC","WW","CC","CC","WW","CC","  ","  "],["CC","  ","CC","WW","WW","  ","  ","  "],["CC","CC","CC","  ","I4","  ","  ","CC"]],[s.Right]:[["CC","  ","CC","WW","  ","CC","  ","CC"],["WW","  ","  ","  ","  ","  ","WW","  "],["CC","  ","  ","  ","I8","  ","  ","CC"],["  ","  ","WW","  ","  ","  ","WW","  "],["WW","  ","  ","  ","  ","  ","WW","  "],["  ","  ","CC","  ","CC","  ","  ","CC"],["  ","X1","  ","WW","  ","X2","WW","WW"],["CC","  ","  ","WW","  ","CC","CC","CC"]],[s.Top]:[["WW","CC","I5","  ","I6","  ","I7","CC"],["WW","WW","WW","WW","WW","WW","WW","  "],["CC","CC","CC","WW","CC","  ","  ","  "],["  ","  ","WW","WW","  ","WW","WW","WW"],["CC","  ","CC","WW","CC","  ","CC","  "],["WW","  ","  ","WW","  ","  ","  ","  "],["  ","  ","CC","WW","  ","  ","  ","WW"],["  ","  ","  ","  ","CC","  ","CC","WW"]],[s.Bottom]:[["WW","WW","WW","WW","CC","  ","  ","CC"],["  ","CC","  ","  ","I11","CC","  ","  "],["  ","WW","WW","  ","  ","  ","  ","WW"],["CC","  ","  ","CC","I10","  ","  ","CC"],["WW","  ","WW","  ","  ","WW","  ","  "],["  ","  ","CC","  ","I9","  ","  ","CC"],["  ","WW","WW","WW","  ","WW","  ","WW"],["CC","  ","  ","  ","CC","  ","CC","WW"]],[s.Back]:[["CC","  ","  ","  ","FI","WW","CC","CC"],["  ","WW","X3","X4","WW","WW","WW","WW"],["  ","WW","  ","  ","WW","CC","CC","CC"],["  ","WW","  ","  ","  ","CC","WW","CC"],["  ","WW","  ","  ","  ","CC","CC","CC"],["  ","  ","  ","  ","CC","  ","  ","WW"],["  ","  ","WW","WW","WW","CC","  ","  "],["CC","CC","WW","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:[" ","W","W","W","W","W","W","W"],[T.FrontDown]:["W","W","W","W","W","W"," ","W"],[T.FrontLeft]:["W","W"," ","W","W","W","W","W"],[T.FrontRight]:["W","W","W","W","W"," ","W","W"],[T.TopLeft]:["W","W","W","W","W","W","W","W"],[T.TopRight]:["W","W","W","W","W"," ","W","W"],[T.DownLeft]:["W","W","W","W","W","W","W","W"],[T.DownRight]:["W","W","W","W","W","W","W","W"],[T.BackTop]:["W"," ","W","W","W","W","W","W"],[T.BackDown]:["W","W","W","W"," ","W","W","W"],[T.BackLeft]:["W","W","W","W","W","W","W","W"],[T.BackRight]:["W","W","W","W","W","W","W","W"]}},enemies:{[ek.WallSpike]:[{id:1,directions:[c.Up]},{id:2,directions:[c.Up]},{id:3,directions:[c.Down]},{id:4,directions:[c.Down]}],[ek.FloorSpike]:[{id:1,inactiveTime:2.5,activeTime:.5},{id:2,inactiveTime:2,activeTime:1},{id:3,inactiveTime:2,activeTime:1},{id:4,inactiveTime:1.5,activeTime:1},{id:5,inactiveTime:2,activeTime:.7},{id:6,inactiveTime:1.7,activeTime:.6},{id:7,inactiveTime:1.5,activeTime:.5},{id:8,inactiveTime:2,activeTime:1},{id:9,inactiveTime:3,activeTime:1},{id:10,inactiveTime:2,activeTime:1},{id:11,inactiveTime:1,activeTime:1}]}},eH={size:new r.Pq0(5,5,8),sceneType:eU.Light,map:{sides:{[s.Front]:[["CC","  ","CC","WW","CC"],["  ","WW","  ","WW","  "],["  ","WW","ST","WW","  "],["  ","WW","WW","WW","  "],["CC","  ","  ","  ","CC"]],[s.Left]:[["WW","CC","  ","CC","  ","CC","  ","CC"],["WW","  ","WW","WW","WW","WW","WW","WW"],["  ","I4","CC","  ","CC","  ","CC","I5"],["WW","  ","WW","WW","WW","WW","  ","CC"],["CC","  ","  ","  ","  ","  ","CC","WW"]],[s.Right]:[["  ","CC","WW","  ","  ","CC","  ","  "],["  ","CC","WW","WW","  ","  ","  ","  "],["  ","WW","WW","CC","  ","WW","CC","  "],["  ","  ","  ","  ","CC","WW","  ","WW"],["CC","  ","WW","  ","  ","X1","CC","  "]],[s.Top]:[["CC","  ","I3","  ","CC"],["  ","  ","  ","WW","  "],["CC","  ","CC","WW","  "],["WW","WW","WW","WW","  "],["CC","I1","  ","  ","  "],["CC","I2","  ","  ","  "],["WW","WW","  ","  ","CC"],["  ","  ","CC","WW","WW"]],[s.Bottom]:[["CC","CC","CC","CC","CC"],["  ","  ","  ","  ","  "],["  ","  ","WW","WW","WW"],["I6","CC","CC","CC","I7"],["WW","WW","WW","  ","  "],["CC","  ","CC","CC","  "],["  ","  ","  ","  ","  "],["  ","WW","CC","  ","CC"]],[s.Back]:[["CC","WW","CC","  ","CC"],["  ","WW","WW","WW","  "],["CC","WW","FI","  ","CC"],["WW","WW","WW","WW","  "],["CC","  ","CC","WW","CC"]]},edges:{[T.FrontTop]:["W","W","W","W","W"],[T.FrontDown]:["W","W","W","W","W"],[T.FrontLeft]:["W","W","W","W","W"],[T.FrontRight]:["W","W","W","W"," "],[T.TopLeft]:["W","W","W","W","W","W","W"," "],[T.TopRight]:["W","W","W","W"," ","W","W","W"],[T.DownLeft]:[" ","W","W","W","W","W","W","W"],[T.DownRight]:["W","W","W","W","W","W"," ","W"],[T.BackTop]:["W","W"," ","W","W"],[T.BackDown]:["W","W"," ","W","W"],[T.BackLeft]:["W","W"," ","W","W"],[T.BackRight]:["W","W"," ","W","W"]}},enemies:{[ek.WallSpike]:[{id:1,directions:[c.Left,c.Right]}],[ek.FloorSpike]:[{id:1,inactiveTime:2,activeTime:1},{id:2,inactiveTime:2.5,activeTime:1.2},{id:3,inactiveTime:1.5,activeTime:1},{id:4,inactiveTime:1,activeTime:1},{id:5,inactiveTime:2,activeTime:1},{id:6,inactiveTime:1.8,activeTime:.8},{id:7,inactiveTime:2,activeTime:1.1}]}},eX={size:new r.Pq0(4,4,4),sceneType:eU.Light,map:{sides:{[s.Front]:[["ST","  ","  ","CC"],["WW","WW","WW","  "],["  ","I1","I2","  "],["CC","CC","CC","CC"]],[s.Left]:[["WW","CC","  ","CC"],["CC","I3","CC","WW"],["  ","CC","  ","  "],["CC","  ","  ","CC"]],[s.Right]:[["CC","  ","  ","  "],["  ","WW","I4","CC"],["  ","WW","  ","WW"],["CC","WW","CC","  "]],[s.Top]:[["  ","CC","WW","CC"],["WW","  ","  ","  "],["CC","CC","WW","  "],["CC","CC","  ","CC"]],[s.Bottom]:[["I6","CC","CC","I7"],["  ","WW","WW","  "],["CC","WW","CC","  "],["  ","WW","  ","CC"]],[s.Back]:[["  ","CC","WW","CC"],["  ","  ","WW","WW"],["  ","I5","  ","FI"],["  ","CC","WW","  "]]},edges:{[T.FrontTop]:["WW","WW","WW","WW"],[T.FrontDown]:["WW","WW","WW","WW"],[T.FrontLeft]:["WW","  ","WW","WW"],[T.FrontRight]:["WW","  ","WW","WW"],[T.TopLeft]:["WW","WW","WW","WW"],[T.TopRight]:["WW","WW","WW","WW"],[T.DownLeft]:["WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW"],[T.BackTop]:["  ","WW","WW","  "],[T.BackDown]:["  ","WW","  ","WW"],[T.BackLeft]:["WW","WW","WW","WW"],[T.BackRight]:["  ","WW","WW","WW"]}},enemies:{[ek.FloorSpike]:[{id:1,inactiveTime:1,activeTime:1.3},{id:2,inactiveTime:1.5,activeTime:1},{id:3,inactiveTime:1,activeTime:1},{id:4,inactiveTime:1.2,activeTime:1},{id:5,inactiveTime:1.5,activeTime:.5},{id:6,inactiveTime:2,activeTime:.7},{id:7,inactiveTime:1.5,activeTime:.5}]}},ej={size:new r.Pq0(1,1,1),sceneType:eU.Light,map:{sides:{[s.Front]:[["ST"]],[s.Left]:[["  "]],[s.Right]:[["  "]],[s.Top]:[["FI"]],[s.Bottom]:[["  "]],[s.Back]:[["  "]]},edges:{[T.FrontTop]:["  "],[T.FrontDown]:["WW"],[T.FrontLeft]:["WW"],[T.FrontRight]:["WW"],[T.TopLeft]:["WW"],[T.TopRight]:["WW"],[T.DownLeft]:["WW"],[T.DownRight]:["WW"],[T.BackTop]:["WW"],[T.BackDown]:["WW"],[T.BackLeft]:["WW"],[T.BackRight]:["WW"]}}},eV={size:new r.Pq0(3,3,3),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  "],["  ","ST","FI"],["  ","  ","  "]],[s.Left]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Right]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Top]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Bottom]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Back]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]]},edges:{[T.FrontTop]:[" "," "," "],[T.FrontDown]:[" ","W"," "],[T.FrontLeft]:[" "," "," "],[T.FrontRight]:[" "," ","W"],[T.TopLeft]:[" "," "," "],[T.TopRight]:[" ","W"," "],[T.DownLeft]:[" ","W","W"],[T.DownRight]:[" "," "," "],[T.BackTop]:["W","W"," "],[T.BackDown]:[" "," "," "],[T.BackLeft]:["W"," ","W"],[T.BackRight]:[" "," "," "]}}},eQ={size:new r.Pq0(6,6,6),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","ST","FI","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Bottom]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Back]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:[" "," "," ","W","W"," "],[T.FrontDown]:[" "," "," "," "," "," "],[T.FrontLeft]:[" "," "," "," "," "," "],[T.FrontRight]:[" "," "," "," "," "," "],[T.TopLeft]:[" "," "," "," "," "," "],[T.TopRight]:[" "," "," "," "," "," "],[T.DownLeft]:[" "," "," "," "," "," "],[T.DownRight]:[" "," "," "," "," "," "],[T.BackTop]:[" "," "," "," "," "," "],[T.BackDown]:[" "," "," "," "," "," "],[T.BackLeft]:[" "," "," "," "," "," "],[T.BackRight]:[" "," "," "," "," "," "]}}},e$={size:new r.Pq0(9,9,9),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","ST","FI","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Bottom]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Back]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontDown]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.FrontLeft]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontRight]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.TopLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.TopRight]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownLeft]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.BackTop]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.BackDown]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.BackRight]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"]}}},eJ={size:new r.Pq0(12,12,12),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","ST","FI","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Bottom]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Back]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontDown]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackTop]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackDown]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"]}}},eZ={size:new r.Pq0(15,15,15),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","ST","FI","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Bottom]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Back]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:["  ","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontDown]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackTop]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackDown]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"]}}},e0={size:new r.Pq0(3,5,8),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  "],["  ","  ","  "],["  ","ST","  "],["  ","  ","  "],["  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["FI","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Bottom]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Back]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]]},edges:{[T.FrontTop]:["WW","WW","  "],[T.FrontDown]:["  ","WW","WW"],[T.FrontLeft]:["WW","WW","WW","WW","  "],[T.FrontRight]:["  ","WW","WW","WW","WW"],[T.TopLeft]:["WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopRight]:["WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownLeft]:["WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackTop]:["  ","WW","WW"],[T.BackDown]:["WW","WW","  "],[T.BackLeft]:["  ","WW","WW","WW","WW"],[T.BackRight]:["WW","WW","WW","WW","  "]}}},e1={[eE.Level01]:eG,[eE.Level02]:eN,[eE.Level03]:eK,[eE.Level04]:eH,[eE.Level05]:eX,[eE.Level06]:ej,[eE.Level07]:eV,[eE.Level08]:eQ,[eE.Level09]:e$,[eE.Level10]:eJ,[eE.Level11]:eZ,[eE.Level12]:e0};eE.Level01,eE.Level02,eE.Level03,eE.Level04,eE.Level05;var e5=W(16889),e2=function(e){return e.Left="LEFT",e.Right="RIGHT",e.Up="UP",e.Down="DOWN",e.Start="START",e}({});let e9={[e2.Left]:{keyCode:["ArrowLeft","KeyA"]},[e2.Right]:{keyCode:["ArrowRight","KeyD"]},[e2.Up]:{keyCode:["ArrowUp","KeyW"]},[e2.Down]:{keyCode:["ArrowDown","KeyS"]},[e2.Start]:{keyCode:["Space","Enter"]}};var e8=function(e){return e.Active="ACTIVE",e.Paused="PAUSED",e}({}),e3=function(e){return e.Idle="IDLE",e.Rotating="ROTATING",e}({}),e4=function(e){return e.Idle="IDLE",e.Moving="MOVING",e.RotatingToNewSide="ROTATING_TO_NEW_SIDE",e.Death="DEATH",e}({}),e7=function(e){return e.Left="LEFT",e.Right="RIGHT",e.Up="UP",e.Down="DOWN",e}({}),e6=function(e){return e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e}({});e7.Right,l.Top,new r.I9Y(1,0),e7.Right,e6.Right,l.Bottom,new r.I9Y(-1,0),e7.Left,e6.Left,l.Right,new r.I9Y(0,1),e7.Down,e6.Up,l.Left,new r.I9Y(0,-1),e7.Up,e6.Down,e7.Left,l.Top,new r.I9Y(-1,0),e7.Left,e6.Left,l.Bottom,new r.I9Y(1,0),e7.Right,e6.Right,l.Right,new r.I9Y(0,-1),e7.Up,e6.Down,l.Left,new r.I9Y(0,1),e7.Down,e6.Up,e7.Up,l.Top,new r.I9Y(0,-1),e7.Up,e6.Up,l.Bottom,new r.I9Y(0,1),e7.Down,e6.Down,l.Right,new r.I9Y(1,0),e7.Right,e6.Left,l.Left,new r.I9Y(-1,0),e7.Left,e6.Right,e7.Down,l.Top,new r.I9Y(0,1),e7.Down,e6.Down,l.Bottom,new r.I9Y(0,-1),e7.Up,e6.Up,l.Right,new r.I9Y(-1,0),e7.Left,e6.Right,l.Left,new r.I9Y(1,0),e7.Right,e6.Left,e7.Up,new r.I9Y(0,-1),e6.Up,e7.Down,new r.I9Y(0,1),e6.Down,e7.Left,new r.I9Y(-1,0),e6.Left,e7.Right,new r.I9Y(1,0),e6.Right;let te={[e2.Right]:e7.Right,[e2.Left]:e7.Left,[e2.Up]:e7.Up,[e2.Down]:e7.Down};e7.Up,e7.Down,e7.Left,e7.Right,c.Up,e2.Up,c.Down,e2.Down,c.Left,e2.Left,c.Right,e2.Right,s.Front,s.Left,new r.Pq0(0,1,0),s.Right,new r.Pq0(0,1,0),s.Top,new r.Pq0(1,0,0),s.Bottom,new r.Pq0(1,0,0),s.Left,s.Front,new r.Pq0(0,1,0),s.Back,new r.Pq0(0,1,0),s.Top,new r.Pq0(0,0,1),s.Bottom,new r.Pq0(0,0,1),s.Right,s.Front,new r.Pq0(0,1,0),s.Back,new r.Pq0(0,1,0),s.Top,new r.Pq0(0,0,1),s.Bottom,new r.Pq0(0,0,1),s.Top,s.Front,new r.Pq0(1,0,0),s.Left,new r.Pq0(0,0,1),s.Right,new r.Pq0(0,0,1),s.Back,new r.Pq0(1,0,0),s.Bottom,s.Front,new r.Pq0(1,0,0),s.Left,new r.Pq0(0,0,1),s.Right,new r.Pq0(0,0,1),s.Back,new r.Pq0(1,0,0),s.Back,s.Left,new r.Pq0(0,1,0),s.Right,new r.Pq0(0,1,0),s.Top,new r.Pq0(1,0,0),s.Bottom,new r.Pq0(1,0,0);let tt=a.createContext({});function tW(e){let{children:t,...W}=e,{ref:o,...n}=function(e){let{camera:t}=e,[W,i]=a.useState(e8.Active),[o,n]=a.useState(!1),[r,s]=a.useState(e3.Idle),[l,c]=a.useState(e4.Idle),C=a.useMemo(()=>(0,e5.A)(),[]),p=a.useRef(null),d=a.useRef();return a.useEffect(()=>{let e=p.current;if(!e)return;let t=e=>{for(let t in e2){let W=e2[t],i=e9[W];if(i.keyCode&&i.keyCode.includes(e.code)){console.log("onButtonPressed",W),C.emit("onButtonPressed",W);let e=te[W]||void 0;if(e){if(r===e3.Rotating||l===e4.Moving&&null===d.current){d.current=e;return}r===e3.Idle&&e4.Idle}}}};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[C]),{ref:p,emitter:C,camera:t}}(W);return(0,i.Y)("div",{ref:o,children:(0,i.Y)(tt.Provider,{value:n,children:t})})}var ti=W(29682),to=function(e){return e.Desktop="DESKTOP",e.Mobile="MOBILE",e}({});let tn={settings:{fov:50,near:1,far:70},distanceFromCube:{static:20,dynamic:{enable:!0,lerpFactor:.06,[to.Desktop]:{start:9,sideCoefficient:1.5},[to.Mobile]:{start:12,sideCoefficient:2.5}}},followPlayer:{enabled:!1,lerpFactor:.1,lerpFactorCubeRotating:.5},lookAtPlayer:{enabled:!1,lerpFactor:.03,lerpFactorCubeRotating:.5},rotationByPlayerPosition:{enabled:!0,lerpFactor:.015,distanceCoefficient:.5}},ta=a.memo(function(e){let{width:t,height:W}=e,s=e1[eE.Level01],{camera:l}=a.useMemo(()=>{let e=new r.ubm(50,t/W,1,70),i=ti.FrL?to.Mobile:to.Desktop,o=tn.distanceFromCube.dynamic[i];return e.position.z=o.start+2*o.sideCoefficient,{camera:e}},[]);return(0,i.Y)(tW,{camera:l,children:(0,i.Y)(n.Hl,{style:{border:"1px solid black",width:t,height:W},camera:l,children:(0,i.FD)(a.Suspense,{children:[s&&(0,i.Y)(eO,{levelConfig:s}),(0,i.Y)(o.N,{enableDamping:!0}),(0,i.Y)("ambientLight",{intensity:1,color:0xffffff}),(0,i.Y)("directionalLight",{intensity:1.3,color:0xffffff,position:[5,5,5]}),(0,i.Y)("fog",{args:[6710886,18,24]})]})})})})}}]);
//# sourceMappingURL=2164.7bb6772bc33a7bd2.js.map