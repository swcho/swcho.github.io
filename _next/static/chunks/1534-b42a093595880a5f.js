"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1534],{1895:(e,t,r)=>{r.d(t,{r:()=>a});let a=parseInt(r(14796).REVISION.replace(/\D+/g,""))},31648:(e,t,r)=>{r.d(t,{b:()=>i});var a=r(14796);function i(e,t,r,i){var l;return(l=class extends a.ShaderMaterial{constructor(l){for(let i in super({vertexShader:t,fragmentShader:r,...l}),e)this.uniforms[i]=new a.Uniform(e[i]),Object.defineProperty(this,i,{get(){return this.uniforms[i].value},set(e){this.uniforms[i].value=e}});this.uniforms=a.UniformsUtils.clone(this.uniforms),null==i||i(this)}}).key=a.MathUtils.generateUUID(),l}},49034:(e,t,r)=>{r.d(t,{A:()=>m});var a=r(18153),i=r(77328),l=r.n(i),n=r(14232);let s=n.memo(()=>(0,a.Y)(a.FK,{}));var o=r(71745),h=r(48230),c=r.n(h);let d=[{link:"/",text:"Home"}],u=n.memo(()=>{let e=(0,o.useRouter)(),[t,r]=n.useState(!1);return(0,a.FD)("nav",{className:"w-full",children:[(0,a.Y)("div",{id:"progress",className:"top-0 z-20 h-1",style:{background:"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)"}}),(0,a.FD)("div",{className:"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl",children:[(0,a.Y)("div",{className:"pl-4",children:(0,a.Y)(c(),{legacyBehavior:!0,className:"text-xl font-extrabold text-gray-900 no-underline hover:no-underline",href:"/",children:"lifetime trails"})}),(0,a.Y)("div",{className:"block pr-4 lg:hidden",children:(0,a.Y)("button",{id:"nav-toggle",type:"button",className:"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none",onMouseDown:e=>e.preventDefault(),onClick:()=>r(!t),onBlur:()=>r(!1),children:(0,a.FD)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.Y)("title",{children:"Menu"}),(0,a.Y)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,a.Y)("div",{id:"nav-content",className:"bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ".concat(t?"block":"hidden"),children:(0,a.Y)("ul",{className:"items-center justify-end flex-1 list-reset lg:flex",children:d.map(t=>{let{link:r,text:i}=t;return(0,a.Y)("li",{className:"mr-3",children:(0,a.Y)(c(),{legacyBehavior:!0,className:e.pathname===r?"inline-block py-2 px-4 text-gray-900 font-bold no-underline":"inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4",href:r,children:i})},r)})})})]})]})}),m=n.memo(e=>{let{children:t,title:r="This is the default title"}=e;return(0,a.FD)("div",{className:"leading-normal tracking-normal bg-gray-100 min-h-screen",children:[(0,a.FD)(l(),{children:[(0,a.Y)("title",{children:r}),(0,a.Y)("meta",{charSet:"utf-8"}),(0,a.Y)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,a.Y)(u,{}),(0,a.Y)("div",{className:"container w-full px-4 pb-10 mx-auto md:max-w-3xl",children:t}),(0,a.Y)(s,{})]})})},60158:(e,t,r)=>{r.d(t,{J:()=>s,j:()=>n});var a=r(18153),i=r(14232);let l=i.createContext({});function n(e){let{staticProps:t,children:r}=e;return(0,a.Y)(l.Provider,{value:t,children:r})}function s(){return i.useContext(l)}},85419:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(18153);r(14232);let i=e=>{let{meta:t,isBlogPost:r}=e;return(0,a.FD)(a.FK,{children:[(0,a.Y)("h1",{className:"font-bold text-gray-800 mb-4 ".concat(r?"text-5xl mt-8 mb-8":"text-lg"),children:t.title}),(0,a.FD)("div",{className:"details",children:[(0,a.Y)("p",{className:"text-gray-500",children:t.description}),(0,a.Y)("p",{className:"text-gray-400 text-right -mt-1",children:(0,a.Y)("span",{className:"mr-4",children:t.date})})]})]})}},87174:(e,t,r)=>{r.d(t,{jK:()=>u,kh:()=>m});var a=r(44501),i=r(14796),l=r(14232),n=r(71804),s=r(31648);let o=(0,s.b)({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");var h=r(1895);let c=l.createContext(null),d=(0,s.b)({color:new i.Color,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${h.r>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),u=l.forwardRef(({children:e,temporal:t,frames:r=40,limit:a=1/0,blend:i=20,scale:s=10,opacity:o=1,alphaTest:h=.75,color:u="black",colorBlend:m=2,resolution:p=1024,toneMapped:v=!0,...f},b)=>{(0,n.e)({SoftShadowMaterial:d});let x=(0,n.C)(e=>e.gl),M=(0,n.C)(e=>e.scene),w=(0,n.C)(e=>e.camera),y=(0,n.C)(e=>e.invalidate),C=l.useRef(null),Y=l.useRef(null),[N]=l.useState(()=>new g(x,M,p));l.useLayoutEffect(()=>{N.configure(C.current)},[]);let S=l.useMemo(()=>({lights:new Map,temporal:!!t,frames:Math.max(2,r),blend:Math.max(2,r===1/0?i:r),count:0,getMesh:()=>C.current,reset:()=>{N.clear();let e=C.current.material;e.opacity=0,e.alphaTest=0,S.count=0},update:(e=1)=>{let t=C.current.material;S.temporal?(t.opacity=Math.min(o,t.opacity+o/S.blend),t.alphaTest=Math.min(h,t.alphaTest+h/S.blend)):(t.opacity=o,t.alphaTest=h),Y.current.visible=!0,N.prepare();for(let t=0;t<e;t++)S.lights.forEach(e=>e.update()),N.update(w,S.blend);Y.current.visible=!1,N.finish()}}),[N,w,M,t,r,i,o,h]);return l.useLayoutEffect(()=>{S.reset(),S.temporal||S.frames===1/0||S.update(S.blend)}),l.useImperativeHandle(b,()=>S,[S]),(0,n.D)(()=>{(S.temporal||S.frames===1/0)&&S.count<S.frames&&S.count<a&&(y(),S.update(),S.count++)}),l.createElement("group",f,l.createElement("group",{traverse:()=>null,ref:Y},l.createElement(c.Provider,{value:S},e)),l.createElement("mesh",{receiveShadow:!0,ref:C,scale:s,rotation:[-Math.PI/2,0,0]},l.createElement("planeGeometry",null),l.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:v,color:u,blend:m,map:N.progressiveLightMap2.texture})))}),m=l.forwardRef(({castShadow:e=!0,bias:t=.001,mapSize:r=512,size:n=5,near:s=.5,far:o=500,frames:d=1,position:u=[0,0,0],radius:m=1,amount:g=8,intensity:p=h.r>=155?Math.PI:1,ambient:v=.5,...f},b)=>{let x=l.useRef(null),M=new i.Vector3(...u).length(),w=l.useContext(c),y=l.useCallback(()=>{let e;if(x.current)for(let t=0;t<x.current.children.length;t++)if(e=x.current.children[t],Math.random()>v)e.position.set(u[0]+i.MathUtils.randFloatSpread(m),u[1]+i.MathUtils.randFloatSpread(m),u[2]+i.MathUtils.randFloatSpread(m));else{let t=Math.acos(2*Math.random()-1)-Math.PI/2,r=2*Math.PI*Math.random();e.position.set(Math.cos(t)*Math.cos(r)*M,Math.abs(Math.cos(t)*Math.sin(r)*M),Math.sin(t)*M)}},[m,v,M,...u]),C=l.useMemo(()=>({update:y}),[y]);return l.useImperativeHandle(b,()=>C,[C]),l.useLayoutEffect(()=>{var e;let t=x.current;return w&&(null==(e=w.lights)||e.set(t.uuid,C)),()=>{var e;null==w||null==(e=w.lights)||e.delete(t.uuid)}},[w,C]),l.createElement("group",(0,a.A)({ref:x},f),Array.from({length:g},(a,i)=>l.createElement("directionalLight",{key:i,castShadow:e,"shadow-bias":t,"shadow-mapSize":[r,r],intensity:p/g},l.createElement("orthographicCamera",{attach:"shadow-camera",args:[-n,n,n,-n,s,o]}))))});class g{constructor(e,t,r=1024){this.renderer=e,this.res=r,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new i.Color,this.clearAlpha=0;let a={type:i.HalfFloatType,magFilter:i.NearestFilter,minFilter:i.NearestFilter};this.progressiveLightMap1=new i.WebGLRenderTarget(this.res,this.res,a),this.progressiveLightMap2=new i.WebGLRenderTarget(this.res,this.res,a),this.discardMat=new o,this.targetMat=new i.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=e=>{e.vertexShader="varying vec2 vUv;\n"+e.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";let t=e.fragmentShader.indexOf("void main() {");e.fragmentShader="varying vec2 vUv;\n"+e.fragmentShader.slice(0,t)+"uniform sampler2D previousShadowMap;\n	uniform float averagingWindow;\n"+e.fragmentShader.slice(t-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,e.uniforms.previousShadowMap=this.previousShadowMap,e.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{e.geometry?this.meshes.push({object:e,material:e.material}):e.isLight&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;let r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,a=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,i=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=a.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=i}}},91013:(e,t,r)=>{r.d(t,{A:()=>d});var a=r(18153),i=r(73146),l=r.n(i),n=r(14232),s=r(86089),o=r(60158),h=r(85419),c=r(49034);function d(e){let{children:t,meta:r,staticProps:i}=e;return n.useEffect(()=>{l().highlightAll()},[]),(0,a.Y)(a.FK,{children:(0,a.FD)(c.A,{title:r.title,children:[(0,a.Y)(h.A,{meta:r,isBlogPost:!0}),(0,a.Y)(o.j,{staticProps:i,children:(0,a.Y)("article",{className:"markdown",children:t})}),(0,a.Y)(s.Ay,{repo:"swcho/blog-comments",type:"pathname",label:"utterances",theme:"github-light"})]})})}}}]);
//# sourceMappingURL=1534-b42a093595880a5f.js.map