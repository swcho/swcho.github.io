(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7426],{3717:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6904:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>d,meta:()=>l});var t=r(37876),i=r(91668),s=r(91013);let l={title:"",description:"",date:"",readTime:5},c=e=>{let{children:n}=e;return(0,t.jsx)(s.A,{meta:l,children:n})};function o(e){let n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{children:"소개"}),"\n",(0,t.jsx)(n.p,{children:"r3f 프로젝트를 손쉽게 수정할 수 있는 에디터 구현을 분석해 봅니다."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/pmndrs/react-three-editor",children:"pmndrs/react-three-editor: \uD83D\uDD0C A one of a kind scene editor that writes changes back into your code"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"지금은 archiving되었지만 매우 흥미로운 구조와 기법, 기술들을 사용하고 있기때문에 많은 인사이트를 얻을 수 있습니다."}),"\n",(0,t.jsx)(n.h1,{children:"Vite 기반 플러그인 주입 방식"}),"\n",(0,t.jsx)(n.p,{children:"editor 구현을 프로젝트에 소스 레벨로 주입하는 것이 아닌 vite plugin을 통해 editor를 주입합니다."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"@react-three/editor"})," 패키지는 ",(0,t.jsx)(n.code,{children:"packages/three-fiber"})," 위치에 있습니다."]}),"\n",(0,t.jsx)(n.h2,{children:(0,t.jsx)(n.a,{href:"https://preconstruct.tools/",children:"Preconstruct"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/swcho/react-three-editor/blob/e9fc91e5725fbde7dae3deef67d7af5bbe4526c1/packages/three-fiber/package.json#L12-L18",children:"preconstruct"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"preconstruct"})," 설정은 ",(0,t.jsx)(n.a,{href:"https://preconstruct.tools/",children:"Preconstruct"}),"라는 도구를 위한 것입니다.",(0,t.jsx)(n.br,{}),"\n","Preconstruct는 ",(0,t.jsx)(n.strong,{children:"모노레포"}),"나 ",(0,t.jsx)(n.strong,{children:"패키지"}),"를 쉽게 빌드하고 배포할 수 있게 도와주는 툴입니다."]}),"\n",(0,t.jsxs)(n.p,{children:["여기서 ",(0,t.jsx)(n.code,{children:'"entrypoints"'}),"는 패키지의 진입점(엔트리포인트) 파일들을 지정합니다.",(0,t.jsx)(n.br,{}),"\n","즉, 이 패키지를 사용할 때 외부에서 직접 접근할 수 있는 주요 파일 목록입니다."]}),"\n",(0,t.jsx)(n.p,{children:"예시 설명:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"index.ts"'}),": 패키지의 기본 엔트리포인트"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"fiber/index.ts"'}),": ",(0,t.jsx)(n.code,{children:"fiber"})," 하위 모듈의 엔트리포인트"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"vite.ts"'}),": 별도의 엔트리포인트"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Preconstruct는 이 파일들을 바탕으로 각각의 엔트리포인트에 대해 빌드 결과물을 만들어줍니다."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"정리:"}),(0,t.jsx)(n.br,{}),"\n","이 설정은 패키지를 여러 엔트리포인트로 빌드하고, 각각을 외부에서 import/export 할 수 있게 해줍니다."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"참고:"}),(0,t.jsx)(n.br,{}),"\n","Preconstruct를 쓰면 TypeScript, 여러 엔트리포인트, 번들링 등 복잡한 빌드 설정을 간단하게 관리할 수 있습니다."]}),"\n",(0,t.jsx)(n.h2,{children:"Babel 커스텀 플러그인"}),"\n",(0,t.jsxs)(n.p,{children:["이 코드는 Babel 플러그인으로, React 컴포넌트의 JSX와 훅 호출을 변환하여 ",(0,t.jsx)(n.strong,{children:"react-three-editor"}),"에서 사용할 수 있도록 메타데이터와 편집 기능을 추가합니다."]}),"\n",(0,t.jsx)(n.h3,{children:"주요 기능 요약"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JSX 요소 변환"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["JSXOpeningElement 방문자에서 JSX 요소를 분석해,","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"특정 조건(예: 소문자로 시작하는 태그, 대문자로 시작하는 컴포넌트, 네임스페이스 사용 등)에 따라"}),"\n",(0,t.jsxs)(n.li,{children:["요소 이름을 ",(0,t.jsx)(n.code,{children:"Editable"}),"로 바꾸거나, ",(0,t.jsx)(n.code,{children:"component"})," 속성을 추가하거나, 네임스페이스를 조정합니다."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["각 JSX 요소에 ",(0,t.jsx)(n.code,{children:"__source"}),"(TRACE_ID) 속성을 추가해,","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"파일명, 라인, 컬럼, 모듈명, 컴포넌트명, 엘리먼트명 등 위치 정보를 객체로 기록합니다."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"훅 변환"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"useFrame"})," → ",(0,t.jsx)(n.code,{children:"useEditorFrame"}),",",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.code,{children:"useUpdate"})," → ",(0,t.jsx)(n.code,{children:"useEditorUpdate"}),"로 자동 변환합니다."]}),"\n",(0,t.jsxs)(n.li,{children:["호출 위치의 부모 컴포넌트명을 첫 번째 인자로 추가합니다.",(0,t.jsx)(n.br,{}),"\n","(컴포넌트별로 호출 순서를 구분하기 위해 카운터도 붙임)"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"import 변환"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Program의 exit에서 지정된 import를 파일 상단에 추가합니다."}),"\n",(0,t.jsx)(n.li,{children:"ImportDeclaration에서 특정 import 경로를 옵션에 따라 치환합니다."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"유틸 함수"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"findParentReactComponent"}),": 부모 React 컴포넌트 선언을 찾음(대문자로 시작하는 함수/변수)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getName"}),": LVal에서 이름 추출."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"makeTrace"}),": JSX의 위치 및 메타데이터 객체 생성."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{children:"목적"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"JSX 요소와 훅에 에디터용 메타데이터를 삽입"}),"하여,",(0,t.jsx)(n.br,{}),"\n","런타임에서 어떤 컴포넌트/엘리먼트가 어디서 생성됐는지 추적하고,",(0,t.jsx)(n.br,{}),"\n","에디터에서 편집 가능하게 만듭니다."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{children:"예시"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"<MyComponent />\n"})}),"\n",(0,t.jsx)(n.p,{children:"→"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"<Editable component={MyComponent} __source={{ fileName, lineNumber, ... }} />\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"useFrame(fn);\n"})}),"\n",(0,t.jsx)(n.p,{children:"→"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"useEditorFrame('MyComponent:0', fn);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["이 플러그인은 ",(0,t.jsx)(n.strong,{children:"react-three-editor"}),"에서 코드 위치 추적, 편집, 디버깅, 컴포넌트 식별 등에 활용됩니다."]}),"\n",(0,t.jsx)(n.h3,{children:"Program hook"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/swcho/react-three-editor/blob/e9fc91e5725fbde7dae3deef67d7af5bbe4526c1/packages/vite/src/babel/babel.ts#L82-L101",children:"Program"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["이 코드는 Babel 플러그인의 visitor 패턴에서 ",(0,t.jsx)(n.code,{children:"Program"})," 노드의 ",(0,t.jsx)(n.code,{children:"exit"})," 시점에 호출됩니다."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Babel AST 트래버설"}),"에서 ",(0,t.jsx)(n.code,{children:"Program"}),"은 소스 코드 전체를 감싸는 최상위 노드입니다."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"exit"}),"는 Babel이 전체 AST를 탐색(traverse)한 후, 즉 모든 하위 노드 방문이 끝난 뒤에 호출됩니다."]}),"\n",(0,t.jsx)(n.li,{children:"이 시점에서 코드를 수정하면, 파일의 맨 위에 import 구문을 추가하거나 전체 구조를 바꿀 수 있습니다."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{children:"예시 흐름"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Babel이 소스 파일을 파싱해서 AST를 만듭니다."}),"\n",(0,t.jsx)(n.li,{children:"모든 노드를 방문합니다."}),"\n",(0,t.jsxs)(n.li,{children:["마지막에 ",(0,t.jsx)(n.code,{children:"Program.exit"}),"가 호출됩니다."]}),"\n",(0,t.jsx)(n.li,{children:"여기서 import 구문을 AST에 추가합니다."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{children:"Gotcha"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"enter"}),"는 AST 탐색 시작 시점, ",(0,t.jsx)(n.code,{children:"exit"}),"는 끝난 후 시점입니다."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["import 구문을 맨 위에 추가하고 싶을 때는 ",(0,t.jsx)(n.code,{children:"exit"}),"에서 처리하는 것이 일반적입니다"]}),"\n",(0,t.jsx)(n.p,{children:"."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"결국 다음 코드에 명시한대로 import가 이루어 집니다."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/swcho/react-three-editor/blob/e9fc91e5725fbde7dae3deef67d7af5bbe4526c1/packages/vite/src/index.ts#L78-L86",children:"imports"})}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{children:[(0,t.jsx)(n.code,{children:"JSXOpeningElement"})," hook"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/swcho/react-three-editor/blob/e9fc91e5725fbde7dae3deef67d7af5bbe4526c1/packages/vite/src/babel/babel.ts#L109-L254",children:"JSXOpeningElement(path, state)"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:'이 코드는 Babel 플러그인에서 JSX 요소를 변환하는 트랜스포머 함수입니다. React 코드에서 JSX 태그를 분석하고, 특정 조건에 따라 태그 이름을 바꾸거나 속성을 추가합니다. 주요 목적은 "editable" 기능을 적용하고, 추적(trace) 정보를 삽입하는 것입니다.'}),"\n",(0,t.jsx)(n.h4,{children:"주요 동작 단계"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"초기 검사"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["노드에 위치 정보(",(0,t.jsx)(n.code,{children:"loc"}),")가 없거나 이미 ",(0,t.jsx)(n.code,{children:"__source"})," 속성이 있으면 아무 작업도 하지 않습니다."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"부모 컴포넌트 이름 추출"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"findParentReactComponent"}),"로 현재 JSX가 속한 컴포넌트의 이름을 찾습니다."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JSX 태그 이름 분석 및 변환"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"소문자로 시작하는 태그(HTML 태그 등):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"isEditableElement"}),"가 true를 반환하면, 태그를 ",(0,t.jsx)(n.code,{children:"editable.태그명"}),"으로 바꿉니다."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"대문자로 시작하는 태그(React 컴포넌트):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"isEditableElement"}),"가 true를 반환하면, ",(0,t.jsx)(n.code,{children:"component"})," 속성을 추가하고 태그명을 ",(0,t.jsx)(n.code,{children:"Editable"}),"로 바꿉니다."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["네임스페이스가 있는 태그(예: ",(0,t.jsx)(n.code,{children:"Foo.Bar"}),"):"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["네임스페이스가 ",(0,t.jsx)(n.code,{children:"editable"}),"이 아니고, 조건에 따라 ",(0,t.jsx)(n.code,{children:"component"})," 속성을 추가하고 태그명을 ",(0,t.jsx)(n.code,{children:"Editable"}),"로 바꿉니다."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"파일 이름 변수 삽입"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"파일 이름을 추적하기 위해, 파일 이름을 담은 변수를 프로그램 최상단에 한 번만 삽입합니다."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"추적(trace) 속성 추가"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["JSX 요소에 추적용 속성(",(0,t.jsx)(n.code,{children:"TRACE_ID"}),")을 추가합니다. 이 속성에는 파일명, 위치, 컴포넌트명, 엘리먼트명 등이 담깁니다."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{children:"예시"}),"\n",(0,t.jsx)(n.p,{children:"변환 전:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"<div />\n<MyComponent />\n<Foo.Bar />\n"})}),"\n",(0,t.jsx)(n.p,{children:"변환 후(조건에 따라):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"<editable.div __trace={...} />\n<Editable component={MyComponent} __trace={...} />\n<Editable component={Foo.Bar} __trace={...} />\n"})}),"\n",(0,t.jsx)(n.h4,{children:"주의할 점(Gotchas)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"isEditableElement"})," 함수는 외부에서 주입되므로, 실제 동작은 옵션에 따라 달라집니다."]}),"\n",(0,t.jsx)(n.li,{children:"파일 이름 변수는 한 번만 삽입됩니다."}),"\n",(0,t.jsxs)(n.li,{children:["JSX 네임스페이스 처리 시, ",(0,t.jsx)(n.code,{children:"editable"})," 네임스페이스는 건너뜁니다."]}),"\n"]})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.jsx)(c,{...e,children:(0,t.jsx)(o,{...e})})}},19858:(e,n,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/temps/2025-06-07-r3f-editor",function(){return r(6904)}])},49034:(e,n,r)=>{"use strict";r.d(n,{A:()=>x});var t=r(18153),i=r(77328),s=r.n(i),l=r(14232);let c=l.memo(()=>(0,t.Y)(t.FK,{}));var o=r(71745),d=r(48230),a=r.n(d);let h=[{link:"/",text:"Home"}],u=l.memo(()=>{let e=(0,o.useRouter)(),[n,r]=l.useState(!1);return(0,t.FD)("nav",{className:"w-full",children:[(0,t.Y)("div",{id:"progress",className:"top-0 z-20 h-1",style:{background:"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)"}}),(0,t.FD)("div",{className:"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl",children:[(0,t.Y)("div",{className:"pl-4",children:(0,t.Y)(a(),{className:"text-xl font-extrabold text-gray-900 no-underline hover:no-underline",href:"/",children:"lifetime trails"})}),(0,t.Y)("div",{className:"block pr-4 lg:hidden",children:(0,t.Y)("button",{id:"nav-toggle",type:"button",className:"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none",onMouseDown:e=>e.preventDefault(),onClick:()=>r(!n),onBlur:()=>r(!1),children:(0,t.FD)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.Y)("title",{children:"Menu"}),(0,t.Y)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,t.Y)("div",{id:"nav-content",className:"bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ".concat(n?"block":"hidden"),children:(0,t.Y)("ul",{className:"items-center justify-end flex-1 list-reset lg:flex",children:h.map(n=>{let{link:r,text:i}=n;return(0,t.Y)("li",{className:"mr-3",children:(0,t.Y)(a(),{className:e.pathname===r?"inline-block py-2 px-4 text-gray-900 font-bold no-underline":"inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4",href:r,children:i})},r)})})})]})]})}),x=l.memo(e=>{let{children:n,title:r="This is the default title"}=e;return(0,t.FD)("div",{className:"leading-normal tracking-normal bg-gray-100 min-h-screen",children:[(0,t.FD)(s(),{children:[(0,t.Y)("title",{children:r}),(0,t.Y)("meta",{charSet:"utf-8"}),(0,t.Y)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,t.Y)(u,{}),(0,t.Y)("div",{className:"container w-full px-4 pb-10 mx-auto md:max-w-3xl",children:n}),(0,t.Y)(c,{})]})})},56486:(e,n,r)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.identifierTypes=void 0;var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};t.get||t.set?Object.defineProperty(n,r,t):n[r]=e[r]}}return n.default=e,n}(r(14232)),i=function(e){return e&&e.__esModule?e:{default:e}}(r(95062));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,n){return(c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var o=["pathname","url","title","og:title","issue-number","issue-term"],d=function(e,n,r){if(0>o.indexOf(e))return void console.warn("Wrong type: "+e);if("pathname"===e)return"pathname";if("url"===e)return"url";if("title"===e)return"title";if("og:title"===e)return"og:title";if("issue-term"===e)return n;else if("issue-number"===e)return r},a=function(e){var n;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(e){var n,i;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return(n=(i=l(r).call(this,e))&&("object"===s(i)||"function"==typeof i)?i:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).myRef=t.default.createRef(),n.state={pending:!0},n}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&c(r,e),n=[{key:"componentDidMount",value:function(){var e=this,n=this.props,r=n.repo,t=n.type,i=n.specificTerm,s=n.issueNumber,l=0>o.indexOf(t)?void console.warn("Wrong type: "+t):"issue-number"===t?"issue-number":"issue-term",c=d(t,i,s);if("issue-term"===t&&!c)return void console.warn("When type is '".concat(t,"', 'specificTerm' prop must be provided"));if("issue-number"===t&&(isNaN(c)||c<1))return void console.warn("When type is '".concat(t,"', valid 'issueNumber' prop must be provided"));var a=document.createElement("script");a.src="https://utteranc.es/client.js",a.async=!0,a.setAttribute("repo",r),a.setAttribute("crossorigin","anonymous"),a.setAttribute(l,c),a.onload=function(){return e.setState({pending:!1})},this.myRef.current.appendChild(a)}},{key:"render",value:function(){return t.default.createElement("div",{className:"react-utterences",ref:this.myRef},this.props.debug&&t.default.createElement("pre",{style:{background:"#cccccc",padding:10}},"\nthis.props: ".concat(JSON.stringify(this.props,null,2),'\nlocation.pathname: "').concat(window.location.pathname,'"\nlocation.href: "').concat(window.location.href,'"\n          ').trim()),this.props.debug&&t.default.createElement("div",null,"\uD83D\uDC47\uD83D\uDC47If the settings are valid, the comment widget appear below\uD83D\uDC47\uD83D\uDC47"),this.state.pending&&t.default.createElement("div",null,"Loading script..."))}}],function(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(r.prototype,n),r}(t.Component);n.identifierTypes={pathname:{attrValue:"",summary:"Issue title contains page pathname"},url:{attrValue:"url",summary:"Issue title contains page URL"},title:{attrValue:"title",summary:"Issue title contains page title"},"og:title":{attrValue:"og:title",summary:"Issue title contains page og:title"},"issue-number":{attrValue:-1,summary:"Specific issue number"},"issue-term":{attrValue:"",summary:"Issue title contains specific term"}},a.propTypes={type:i.default.string.isRequired,repo:i.default.string.isRequired,specificTerm:i.default.string,issueNumber:i.default.number,hashKey:i.default.string,debug:i.default.bool},n.default=a},60158:(e,n,r)=>{"use strict";r.d(n,{J:()=>c,j:()=>l});var t=r(18153),i=r(14232);let s=i.createContext({});function l(e){let{staticProps:n,children:r}=e;return(0,t.Y)(s.Provider,{value:n,children:r})}function c(){return i.useContext(s)}},79706:(e,n,r)=>{"use strict";var t=r(3717);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,n,r,i,s,l){if(l!==t){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function n(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:s,resetWarningCache:i};return r.PropTypes=r,r}},85419:(e,n,r)=>{"use strict";r.d(n,{A:()=>i});var t=r(18153);r(14232);let i=e=>{let{meta:n,isBlogPost:r}=e;return(0,t.FD)(t.FK,{children:[(0,t.Y)("h1",{className:"font-bold text-gray-800 mb-4 ".concat(r?"text-5xl mt-8 mb-8":"text-lg"),children:n.title}),(0,t.FD)("div",{className:"details",children:[(0,t.Y)("p",{className:"text-gray-500",children:n.description}),(0,t.Y)("p",{className:"text-gray-400 text-right -mt-1",children:(0,t.Y)("span",{className:"mr-4",children:n.date})})]})]})}},86089:(e,n,r)=>{"use strict";Object.defineProperty(n,"Ay",{enumerable:!0,get:function(){return t.default}});var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};t.get||t.set?Object.defineProperty(n,r,t):n[r]=e[r]}}return n.default=e,n}(r(56486))},91013:(e,n,r)=>{"use strict";r.d(n,{A:()=>h});var t=r(18153),i=r(73146),s=r.n(i),l=r(14232),c=r(86089),o=r(60158),d=r(85419),a=r(49034);function h(e){let{children:n,meta:r,staticProps:i}=e;return l.useEffect(()=>{s().highlightAll()},[]),(0,t.Y)(t.FK,{children:(0,t.FD)(a.A,{title:r.title,children:[(0,t.Y)(d.A,{meta:r,isBlogPost:!0}),(0,t.Y)(o.j,{staticProps:i,children:(0,t.Y)("article",{className:"markdown",children:n})}),(0,t.Y)(c.Ay,{repo:"swcho/blog-comments",type:"pathname",label:"utterances",theme:"github-light"})]})})}},95062:(e,n,r)=>{e.exports=r(79706)()}},e=>{e.O(0,[5695,636,6593,8792],()=>e(e.s=19858)),_N_E=e.O()}]);
//# sourceMappingURL=2025-06-07-r3f-editor-37bff5358faac97f.js.map