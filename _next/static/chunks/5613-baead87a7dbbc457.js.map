{"version":3,"file":"static/chunks/5613-baead87a7dbbc457.js","mappings":"6GAGA,MADA,SAAkC,YAAQ,4CCS1C,UAFA,wHCgBA,MArBA,cACA,mBACA,OAAsB,YAAgB,GACtC,OACA,WACA,KACG,MACH,MAAgB,QAAY,OAG5B,OAFI,qBAAyB,kBACzB,iBAAqB,aACD,eAAmB,QAAS,OAAQ,EAC5D,KACA,CAAK,IAAuB,eAAmB,IAC/C,kBACA,MACA,CAAK,IACL,CAAG,CACH,EAIA,0ECvBA,oBACA,MACA,uBAAgC,KAAoB,CACpD,eAMA,aALA,OACA,eACA,iBACA,KACO,EACP,EACA,qBAAiC,KAAa,OAC9C,8BACA,MACA,8BACW,CACX,OACA,wBACA,CACA,CAAS,CAET,eAAsB,KAAmB,sBACzC,gBACA,CACA,EAAG,KAAe,KAAe,iBACjC,2GCpBA,MAA4B,YAAgB,GAC5C,kBACA,mBACA,mBACA,OACA,aACA,WACA,aACA,SACA,KACC,MACD,MAAqB,OAAQ,GAC7B,aACG,MACH,IAAuB,UAAc,SAAW,IAAM,EACtD,MAAwB,SAAa,MACrC,SACA,KAQA,OAPI,UAAc,eAClB,uCACA,KAEA,SAEA,CAAK,EACL,MACG,MAYH,MAXE,QAAO,oBAA0B,QAAW,EAC9C,OACA,YACA,CAAG,0BACD,iBAAqB,sBACvB,IACA,OACA,CAAG,GACD,WAAe,KACjB,gBACG,KACmB,eAAmB,aAAc,OAAQ,EAC/D,SACA,MACA,OACA,OACA,UACA,UACA,WACA,cACA,CAAG,MACH,CAAC,sHC/CD,MAAoC,OAAc,EAClD,YACA,cACA,iBACA,eACA,WACA,iBACA,mBACA,cAAgC,KAAW,CAC3C,iBAAmC,KAAW,CAC9C,gBACA,gBACA,yBAA2C,KAAa,CACxD,uBAAyC,KAAa,CACrD;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AA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ACA,kBACA,yCACA,CAAG,CACH,YACA,qBACA,4CACA,CAAG,CACH,gBACA,aACA,+BACA,CAAG,CACH,cACA,aACA,4CACA,CACA,EAEA,aACA,iCACA,iCACA,8BACA,6BACA,yBACA,sBAGA,SAAe,CADf,4GCrKA,UAA+B,KAAW,CAC1C,EAA+B,OAAM,GACrC,gBACA,IACA,QACA,MACA,OACA,SACA,QACA,SACA,CAAI,EACJ,8CACA,iBAGA,OACA,UACA,QACA,SACA,KALA,SAMA,MACA,OARA,IASA,OACA,CAAK,CACL,aACA,CACA,CACA,cACA,OACA,SACA,QACA,SACC,EAED,IADA,EAlCA,EAmCA,MAwBA,MA3DA,GAoCA,WApCA,uBAqCA,gBAWA,kCAVA,+FACA,wBACA,YACA,UACA,QACA,aACA,CAAS,EACT,mCAKI,sBACJ,kBACA,mCAEA,iBACA,kBACA,0BACA,yBACA,wBACA,CACA,CACA,gBAEA,wBACA,gBACA,CACA,cACA,sBACA,2CACA,iBACA,CACA,YACA,aACA,aACA,QACA,QACA,WACA,SACA,OACA,QACC,EACD,MAAoB,OAAQ,GAC5B,MAAsC,UAAc,KACpD,IAuDA,MAtDE,OAAQ,KACV,kBACA,KACA,qEACA,GACA,CACA,cACA,IACA,WACA,cACA,CAAQ,eAER,GADA,YACA,kBACA,aAEA,kCACA,MACA,CACA,CACA,CAAG,IACD,iBAAqB,MACvB,gBACA,gBAEA,IACA,WACA,CAAQ,OACR,SACA,KACA,MACA,CACA,CAAG,QACD,WAAe,MACjB,aACA,gBAEA,2BAIA,OAHA,aACA,oBACK,EACL,KACA,MACA,IACA,WACA,CAAU,OACV,SACA,KACA,MACA,CACA,aACA,WACA,CAAO,CACP,CACA,CAAG,MACmB,eAAmB,CAAC,UAAc,QAA+B,eAAmB,UAC1G,sBACA,CAAG,EACH,CACA,MAAkC,YAAgB,GAClD,QACA,aACA,UACA,KACA,QACA,YACA,aACA,WACA,KACC,MACD,YACA,MAAe,QAAY,OAC3B,CACA,OACA,QACA,CAAI,CAAE,MAAQ,GACd,IAAyB,UAAc,SA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","sources":["webpack://_N_E/./node_modules/@react-three/drei/helpers/constants.js","webpack://_N_E/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://_N_E/./node_modules/@react-three/drei/core/shapes.js","webpack://_N_E/./node_modules/@react-three/drei/core/shaderMaterial.js","webpack://_N_E/./node_modules/@react-three/drei/core/Text.js","webpack://_N_E/./node_modules/@react-three/drei/core/Grid.js","webpack://_N_E/./node_modules/@react-three/drei/core/OrbitControls.js","webpack://_N_E/./node_modules/react-utterances/lib/ReactUtterances.js","webpack://_N_E/./node_modules/@react-three/drei/web/View.js","webpack://_N_E/./node_modules/@react-three/drei/core/PerspectiveCamera.js","webpack://_N_E/./node_modules/tunnel-rat/node_modules/zustand/esm/vanilla.mjs","webpack://_N_E/./node_modules/tunnel-rat/node_modules/zustand/esm/index.mjs","webpack://_N_E/./node_modules/tunnel-rat/dist/index.js","webpack://_N_E/./node_modules/@react-three/drei/core/Fbo.js","webpack://_N_E/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://_N_E/./node_modules/react-utterances/lib/index.js","webpack://_N_E/./node_modules/prop-types/index.js"],"sourcesContent":["import { REVISION } from 'three';\n\nconst getVersion = () => parseInt(REVISION.replace(/\\D+/g, ''));\nconst version = /* @__PURE__ */getVersion();\n\nexport { version };\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\n\nfunction create(type, effect) {\n  const El = type + 'Geometry';\n  return /*#__PURE__*/React.forwardRef(({\n    args,\n    children,\n    ...props\n  }, fref) => {\n    const ref = React.useRef(null);\n    React.useImperativeHandle(fref, () => ref.current);\n    React.useLayoutEffect(() => void (effect == null ? void 0 : effect(ref.current)));\n    return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n      ref: ref\n    }, props), /*#__PURE__*/React.createElement(El, {\n      attach: \"geometry\",\n      args: args\n    }), children);\n  });\n}\nconst Box = /* @__PURE__ */create('box');\nconst Circle = /* @__PURE__ */create('circle');\nconst Cone = /* @__PURE__ */create('cone');\nconst Cylinder = /* @__PURE__ */create('cylinder');\nconst Sphere = /* @__PURE__ */create('sphere');\nconst Plane = /* @__PURE__ */create('plane');\nconst Tube = /* @__PURE__ */create('tube');\nconst Torus = /* @__PURE__ */create('torus');\nconst TorusKnot = /* @__PURE__ */create('torusKnot');\nconst Tetrahedron = /* @__PURE__ */create('tetrahedron');\nconst Ring = /* @__PURE__ */create('ring');\nconst Polyhedron = /* @__PURE__ */create('polyhedron');\nconst Icosahedron = /* @__PURE__ */create('icosahedron');\nconst Octahedron = /* @__PURE__ */create('octahedron');\nconst Dodecahedron = /* @__PURE__ */create('dodecahedron');\nconst Extrude = /* @__PURE__ */create('extrude');\nconst Lathe = /* @__PURE__ */create('lathe');\nconst Capsule = /* @__PURE__ */create('capsule');\nconst Shape = /* @__PURE__ */create('shape', ({\n  geometry\n}) => {\n  // Calculate UVs (by https://discourse.threejs.org/u/prisoner849)\n  // https://discourse.threejs.org/t/custom-shape-in-image-not-working/49348/10\n  const pos = geometry.attributes.position;\n  const b3 = new THREE.Box3().setFromBufferAttribute(pos);\n  const b3size = new THREE.Vector3();\n  b3.getSize(b3size);\n  const uv = [];\n  let x = 0,\n    y = 0,\n    u = 0,\n    v = 0;\n  for (let i = 0; i < pos.count; i++) {\n    x = pos.getX(i);\n    y = pos.getY(i);\n    u = (x - b3.min.x) / b3size.x;\n    v = (y - b3.min.y) / b3size.y;\n    uv.push(u, v);\n  }\n  geometry.setAttribute('uv', new THREE.Float32BufferAttribute(uv, 2));\n});\n\nexport { Box, Capsule, Circle, Cone, Cylinder, Dodecahedron, Extrude, Icosahedron, Lathe, Octahedron, Plane, Polyhedron, Ring, Shape, Sphere, Tetrahedron, Torus, TorusKnot, Tube };\n","import * as THREE from 'three';\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  var _Class;\n  return _Class = class extends THREE.ShaderMaterial {\n    constructor(parameters) {\n      super({\n        vertexShader,\n        fragmentShader,\n        ...parameters\n      });\n      for (const key in uniforms) {\n        this.uniforms[key] = new THREE.Uniform(uniforms[key]);\n        Object.defineProperty(this, key, {\n          get() {\n            return this.uniforms[key].value;\n          },\n          set(value) {\n            this.uniforms[key].value = value;\n          }\n        });\n      }\n      this.uniforms = THREE.UniformsUtils.clone(this.uniforms);\n      onInit == null || onInit(this);\n    }\n  }, _Class.key = THREE.MathUtils.generateUUID(), _Class;\n}\n\nexport { shaderMaterial };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Text as Text$1, preloadFont } from 'troika-three-text';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\n\nconst Text = /* @__PURE__ */React.forwardRef(({\n  sdfGlyphSize = 64,\n  anchorX = 'center',\n  anchorY = 'middle',\n  font,\n  fontSize = 1,\n  children,\n  characters,\n  onSync,\n  ...props\n}, ref) => {\n  const invalidate = useThree(({\n    invalidate\n  }) => invalidate);\n  const [troikaMesh] = React.useState(() => new Text$1());\n  const [nodes, text] = React.useMemo(() => {\n    const n = [];\n    let t = '';\n    React.Children.forEach(children, child => {\n      if (typeof child === 'string' || typeof child === 'number') {\n        t += child;\n      } else {\n        n.push(child);\n      }\n    });\n    return [n, t];\n  }, [children]);\n  suspend(() => new Promise(res => preloadFont({\n    font,\n    characters\n  }, res)), ['troika-text', font, characters]);\n  React.useLayoutEffect(() => void troikaMesh.sync(() => {\n    invalidate();\n    if (onSync) onSync(troikaMesh);\n  }));\n  React.useEffect(() => {\n    return () => troikaMesh.dispose();\n  }, [troikaMesh]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: troikaMesh,\n    ref: ref,\n    font: font,\n    text: text,\n    anchorX: anchorX,\n    anchorY: anchorY,\n    fontSize: fontSize,\n    sdfGlyphSize: sdfGlyphSize\n  }, props), nodes);\n});\n\nexport { Text };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { version } from '../helpers/constants.js';\n\nconst GridMaterial = /* @__PURE__ */shaderMaterial({\n  cellSize: 0.5,\n  sectionSize: 1,\n  fadeDistance: 100,\n  fadeStrength: 1,\n  fadeFrom: 1,\n  cellThickness: 0.5,\n  sectionThickness: 1,\n  cellColor: /* @__PURE__ */new THREE.Color(),\n  sectionColor: /* @__PURE__ */new THREE.Color(),\n  infiniteGrid: false,\n  followCamera: false,\n  worldCamProjPosition: /* @__PURE__ */new THREE.Vector3(),\n  worldPlanePosition: /* @__PURE__ */new THREE.Vector3()\n}, /* glsl */`\n    varying vec3 localPosition;\n    varying vec4 worldPosition;\n\n    uniform vec3 worldCamProjPosition;\n    uniform vec3 worldPlanePosition;\n    uniform float fadeDistance;\n    uniform bool infiniteGrid;\n    uniform bool followCamera;\n\n    void main() {\n      localPosition = position.xzy;\n      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;\n      \n      worldPosition = modelMatrix * vec4(localPosition, 1.0);\n      if (followCamera) {\n        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);\n        localPosition = (inverse(modelMatrix) * worldPosition).xyz;\n      }\n\n      gl_Position = projectionMatrix * viewMatrix * worldPosition;\n    }\n  `, /* glsl */`\n    varying vec3 localPosition;\n    varying vec4 worldPosition;\n\n    uniform vec3 worldCamProjPosition;\n    uniform float cellSize;\n    uniform float sectionSize;\n    uniform vec3 cellColor;\n    uniform vec3 sectionColor;\n    uniform float fadeDistance;\n    uniform float fadeStrength;\n    uniform float fadeFrom;\n    uniform float cellThickness;\n    uniform float sectionThickness;\n\n    float getGrid(float size, float thickness) {\n      vec2 r = localPosition.xz / size;\n      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\n      float line = min(grid.x, grid.y) + 1.0 - thickness;\n      return 1.0 - min(line, 1.0);\n    }\n\n    void main() {\n      float g1 = getGrid(cellSize, cellThickness);\n      float g2 = getGrid(sectionSize, sectionThickness);\n\n      vec3 from = worldCamProjPosition*vec3(fadeFrom);\n      float dist = distance(from, worldPosition.xyz);\n      float d = 1.0 - min(dist / fadeDistance, 1.0);\n      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));\n\n      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));\n      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);\n      if (gl_FragColor.a <= 0.0) discard;\n\n      #include <tonemapping_fragment>\n      #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n    }\n  `);\nconst Grid = /* @__PURE__ */React.forwardRef(({\n  args,\n  cellColor = '#000000',\n  sectionColor = '#2080ff',\n  cellSize = 0.5,\n  sectionSize = 1,\n  followCamera = false,\n  infiniteGrid = false,\n  fadeDistance = 100,\n  fadeStrength = 1,\n  fadeFrom = 1,\n  cellThickness = 0.5,\n  sectionThickness = 1,\n  side = THREE.BackSide,\n  ...props\n}, fRef) => {\n  extend({\n    GridMaterial\n  });\n  const ref = React.useRef(null);\n  React.useImperativeHandle(fRef, () => ref.current, []);\n  const plane = new THREE.Plane();\n  const upVector = new THREE.Vector3(0, 1, 0);\n  const zeroVector = new THREE.Vector3(0, 0, 0);\n  useFrame(state => {\n    plane.setFromNormalAndCoplanarPoint(upVector, zeroVector).applyMatrix4(ref.current.matrixWorld);\n    const gridMaterial = ref.current.material;\n    const worldCamProjPosition = gridMaterial.uniforms.worldCamProjPosition;\n    const worldPlanePosition = gridMaterial.uniforms.worldPlanePosition;\n    plane.projectPoint(state.camera.position, worldCamProjPosition.value);\n    worldPlanePosition.value.set(0, 0, 0).applyMatrix4(ref.current.matrixWorld);\n  });\n  const uniforms1 = {\n    cellSize,\n    sectionSize,\n    cellColor,\n    sectionColor,\n    cellThickness,\n    sectionThickness\n  };\n  const uniforms2 = {\n    fadeDistance,\n    fadeStrength,\n    fadeFrom,\n    infiniteGrid,\n    followCamera\n  };\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    frustumCulled: false\n  }, props), /*#__PURE__*/React.createElement(\"gridMaterial\", _extends({\n    transparent: true,\n    \"extensions-derivatives\": true,\n    side: side\n  }, uniforms1, uniforms2)), /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    args: args\n  }));\n});\n\nexport { Grid };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /* @__PURE__ */React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  keyEvents = false,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const setEvents = useThree(state => state.setEvents);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    if (keyEvents) {\n      controls.connect(keyEvents === true ? explDomElement : keyEvents);\n    }\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [keyEvents, explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n    const onStartCb = e => {\n      if (onStart) onStart(e);\n    };\n    const onEndCb = e => {\n      if (onEnd) onEnd(e);\n    };\n    controls.addEventListener('change', callback);\n    controls.addEventListener('start', onStartCb);\n    controls.addEventListener('end', onEndCb);\n    return () => {\n      controls.removeEventListener('start', onStartCb);\n      controls.removeEventListener('end', onEndCb);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate, setEvents]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.identifierTypes = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar validTypeList = ['pathname', 'url', 'title', 'og:title', 'issue-number', 'issue-term'];\n\nvar getAttrName = function getAttrName(type) {\n  if (validTypeList.indexOf(type) < 0) {\n    console.warn('Wrong type: ' + type);\n    return;\n  }\n\n  return type === 'issue-number' ? 'issue-number' : 'issue-term';\n};\n\nvar getAttrValue = function getAttrValue(type, specificTerm, issueNumber) {\n  if (validTypeList.indexOf(type) < 0) {\n    console.warn('Wrong type: ' + type);\n    return;\n  }\n\n  if (type === 'pathname') {\n    return 'pathname';\n  } else if (type === 'url') {\n    return 'url';\n  } else if (type === 'title') {\n    return 'title';\n  } else if (type === 'og:title') {\n    return 'og:title';\n  } else if (type === 'issue-term') {\n    return specificTerm;\n  } else if (type === 'issue-number') {\n    return issueNumber;\n  }\n};\n\nvar ReactUtterences =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReactUtterences, _Component);\n\n  function ReactUtterences(props) {\n    var _this;\n\n    _classCallCheck(this, ReactUtterences);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactUtterences).call(this, props));\n    _this.myRef = _react.default.createRef();\n    _this.state = {\n      pending: true\n    };\n    return _this;\n  }\n\n  _createClass(ReactUtterences, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          repo = _this$props.repo,\n          type = _this$props.type,\n          specificTerm = _this$props.specificTerm,\n          issueNumber = _this$props.issueNumber;\n      var attrName = getAttrName(type);\n      var value = getAttrValue(type, specificTerm, issueNumber);\n\n      if (type === 'issue-term' && !value) {\n        console.warn(\"When type is '\".concat(type, \"', 'specificTerm' prop must be provided\"));\n        return;\n      } else if (type === 'issue-number' && (isNaN(value) || value < 1)) {\n        console.warn(\"When type is '\".concat(type, \"', valid 'issueNumber' prop must be provided\"));\n        return;\n      }\n\n      var scriptEl = document.createElement('script');\n      scriptEl.src = 'https://utteranc.es/client.js';\n      scriptEl.async = true;\n      scriptEl.setAttribute('repo', repo);\n      scriptEl.setAttribute('crossorigin', 'anonymous');\n      scriptEl.setAttribute(attrName, value);\n\n      scriptEl.onload = function () {\n        return _this2.setState({\n          pending: false\n        });\n      };\n\n      this.myRef.current.appendChild(scriptEl);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(\"div\", {\n        className: \"react-utterences\",\n        ref: this.myRef\n      }, this.props.debug && _react.default.createElement(\"pre\", {\n        style: {\n          background: '#cccccc',\n          padding: 10\n        }\n      }, \"\\nthis.props: \".concat(JSON.stringify(this.props, null, 2), \"\\nlocation.pathname: \\\"\").concat(window.location.pathname, \"\\\"\\nlocation.href: \\\"\").concat(window.location.href, \"\\\"\\n          \").trim()), this.props.debug && _react.default.createElement(\"div\", null, \"\\uD83D\\uDC47\\uD83D\\uDC47If the settings are valid, the comment widget appear below\\uD83D\\uDC47\\uD83D\\uDC47\"), this.state.pending && _react.default.createElement(\"div\", null, \"Loading script...\"));\n    }\n  }]);\n\n  return ReactUtterences;\n}(_react.Component);\n\nvar identifierTypes = {\n  'pathname': {\n    attrValue: '',\n    summary: 'Issue title contains page pathname'\n  },\n  'url': {\n    attrValue: 'url',\n    summary: 'Issue title contains page URL'\n  },\n  'title': {\n    attrValue: 'title',\n    summary: 'Issue title contains page title'\n  },\n  'og:title': {\n    attrValue: 'og:title',\n    summary: 'Issue title contains page og:title'\n  },\n  'issue-number': {\n    attrValue: -1,\n    summary: 'Specific issue number'\n  },\n  'issue-term': {\n    attrValue: '',\n    summary: 'Issue title contains specific term'\n  }\n};\nexports.identifierTypes = identifierTypes;\nReactUtterences.propTypes = {\n  type: _propTypes.default.string.isRequired,\n  repo: _propTypes.default.string.isRequired,\n  specificTerm: _propTypes.default.string,\n  issueNumber: _propTypes.default.number,\n  hashKey: _propTypes.default.string,\n  debug: _propTypes.default.bool\n};\nvar _default = ReactUtterences;\nexports.default = _default;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { context, useThree, createPortal, useFrame } from '@react-three/fiber';\nimport tunnel from 'tunnel-rat';\n\nconst isOrthographicCamera = def => def && def.isOrthographicCamera;\nconst col = /* @__PURE__ */new THREE.Color();\nconst tracked = /* @__PURE__ */tunnel();\nfunction computeContainerPosition(canvasSize, trackRect) {\n  const {\n    right,\n    top,\n    left: trackLeft,\n    bottom: trackBottom,\n    width,\n    height\n  } = trackRect;\n  const isOffscreen = trackRect.bottom < 0 || top > canvasSize.height || right < 0 || trackRect.left > canvasSize.width;\n  const canvasBottom = canvasSize.top + canvasSize.height;\n  const bottom = canvasBottom - trackBottom;\n  const left = trackLeft - canvasSize.left;\n  return {\n    position: {\n      width,\n      height,\n      left,\n      top,\n      bottom,\n      right\n    },\n    isOffscreen\n  };\n}\nfunction prepareSkissor(state, {\n  left,\n  bottom,\n  width,\n  height\n}) {\n  let autoClear;\n  const aspect = width / height;\n  if (isOrthographicCamera(state.camera)) {\n    if (!state.camera.manual) {\n      if (state.camera.left !== width / -2 || state.camera.right !== width / 2 || state.camera.top !== height / 2 || state.camera.bottom !== height / -2) {\n        Object.assign(state.camera, {\n          left: width / -2,\n          right: width / 2,\n          top: height / 2,\n          bottom: height / -2\n        });\n        state.camera.updateProjectionMatrix();\n      }\n    } else {\n      state.camera.updateProjectionMatrix();\n    }\n  } else if (state.camera.aspect !== aspect) {\n    state.camera.aspect = aspect;\n    state.camera.updateProjectionMatrix();\n  }\n  autoClear = state.gl.autoClear;\n  state.gl.autoClear = false;\n  state.gl.setViewport(left, bottom, width, height);\n  state.gl.setScissor(left, bottom, width, height);\n  state.gl.setScissorTest(true);\n  return autoClear;\n}\nfunction finishSkissor(state, autoClear) {\n  // Restore the default state\n  state.gl.setScissorTest(false);\n  state.gl.autoClear = autoClear;\n}\nfunction clear(state) {\n  state.gl.getClearColor(col);\n  state.gl.setClearColor(col, state.gl.getClearAlpha());\n  state.gl.clear(true, true);\n}\nfunction Container({\n  visible = true,\n  canvasSize,\n  scene,\n  index,\n  children,\n  frames,\n  rect,\n  track\n}) {\n  const rootState = useThree();\n  const [isOffscreen, setOffscreen] = React.useState(false);\n  let frameCount = 0;\n  useFrame(state => {\n    if (frames === Infinity || frameCount <= frames) {\n      var _track$current;\n      if (track) rect.current = (_track$current = track.current) == null ? void 0 : _track$current.getBoundingClientRect();\n      frameCount++;\n    }\n    if (rect.current) {\n      const {\n        position,\n        isOffscreen: _isOffscreen\n      } = computeContainerPosition(canvasSize, rect.current);\n      if (isOffscreen !== _isOffscreen) setOffscreen(_isOffscreen);\n      if (visible && !isOffscreen && rect.current) {\n        const autoClear = prepareSkissor(state, position);\n        // When children are present render the portalled scene, otherwise the default scene\n        state.gl.render(children ? state.scene : scene, state.camera);\n        finishSkissor(state, autoClear);\n      }\n    }\n  }, index);\n  React.useLayoutEffect(() => {\n    const curRect = rect.current;\n    if (curRect && (!visible || !isOffscreen)) {\n      // If the view is not visible clear it once, but stop rendering afterwards!\n      const {\n        position\n      } = computeContainerPosition(canvasSize, curRect);\n      const autoClear = prepareSkissor(rootState, position);\n      clear(rootState);\n      finishSkissor(rootState, autoClear);\n    }\n  }, [visible, isOffscreen]);\n  React.useEffect(() => {\n    if (!track) return;\n    const curRect = rect.current;\n    // Connect the event layer to the tracking element\n    const old = rootState.get().events.connected;\n    rootState.setEvents({\n      connected: track.current\n    });\n    return () => {\n      if (curRect) {\n        const {\n          position\n        } = computeContainerPosition(canvasSize, curRect);\n        const autoClear = prepareSkissor(rootState, position);\n        clear(rootState);\n        finishSkissor(rootState, autoClear);\n      }\n      rootState.setEvents({\n        connected: old\n      });\n    };\n  }, [track]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  }));\n}\nconst CanvasView = /* @__PURE__ */React.forwardRef(({\n  track,\n  visible = true,\n  index = 1,\n  id,\n  style,\n  className,\n  frames = Infinity,\n  children,\n  ...props\n}, fref) => {\n  var _rect$current, _rect$current2, _rect$current3, _rect$current4;\n  const rect = React.useRef(null);\n  const {\n    size,\n    scene\n  } = useThree();\n  const [virtualScene] = React.useState(() => new THREE.Scene());\n  const [ready, toggle] = React.useReducer(() => true, false);\n  const compute = React.useCallback((event, state) => {\n    if (rect.current && track && track.current && event.target === track.current) {\n      const {\n        width,\n        height,\n        left,\n        top\n      } = rect.current;\n      const x = event.clientX - left;\n      const y = event.clientY - top;\n      state.pointer.set(x / width * 2 - 1, -(y / height) * 2 + 1);\n      state.raycaster.setFromCamera(state.pointer, state.camera);\n    }\n  }, [rect, track]);\n  React.useEffect(() => {\n    var _track$current2;\n    // We need the tracking elements bounds beforehand in order to inject it into the portal\n    if (track) rect.current = (_track$current2 = track.current) == null ? void 0 : _track$current2.getBoundingClientRect();\n    // And now we can proceed\n    toggle();\n  }, [track]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: fref\n  }, props), ready && createPortal(/*#__PURE__*/React.createElement(Container, {\n    visible: visible,\n    canvasSize: size,\n    frames: frames,\n    scene: scene,\n    track: track,\n    rect: rect,\n    index: index\n  }, children), virtualScene, {\n    events: {\n      compute,\n      priority: index\n    },\n    size: {\n      width: (_rect$current = rect.current) == null ? void 0 : _rect$current.width,\n      height: (_rect$current2 = rect.current) == null ? void 0 : _rect$current2.height,\n      // @ts-ignore\n      top: (_rect$current3 = rect.current) == null ? void 0 : _rect$current3.top,\n      // @ts-ignore\n      left: (_rect$current4 = rect.current) == null ? void 0 : _rect$current4.left\n    }\n  }));\n});\nconst HtmlView = /* @__PURE__ */React.forwardRef(({\n  as: El = 'div',\n  id,\n  visible,\n  className,\n  style,\n  index = 1,\n  track,\n  frames = Infinity,\n  children,\n  ...props\n}, fref) => {\n  const uuid = React.useId();\n  const ref = React.useRef(null);\n  React.useImperativeHandle(fref, () => ref.current);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(El, _extends({\n    ref: ref,\n    id: id,\n    className: className,\n    style: style\n  }, props)), /*#__PURE__*/React.createElement(tracked.In, null, /*#__PURE__*/React.createElement(CanvasView, {\n    visible: visible,\n    key: uuid,\n    track: ref,\n    frames: frames,\n    index: index\n  }, children)));\n});\nconst View = /* @__PURE__ */(() => {\n  const _View = /*#__PURE__*/React.forwardRef((props, fref) => {\n    // If we're inside a canvas we should be able to access the context store\n    const store = React.useContext(context);\n    // If that's not the case we render a tunnel\n    if (!store) return /*#__PURE__*/React.createElement(HtmlView, _extends({\n      ref: fref\n    }, props));\n    // Otherwise a plain canvas-view\n    else return /*#__PURE__*/React.createElement(CanvasView, _extends({\n      ref: fref\n    }, props));\n  });\n  _View.Port = () => /*#__PURE__*/React.createElement(tracked.Out, null);\n  return _View;\n})();\n\nexport { View };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\n\nconst isFunction = node => typeof node === 'function';\nconst PerspectiveCamera = /* @__PURE__ */React.forwardRef(({\n  envMap,\n  resolution = 256,\n  frames = Infinity,\n  makeDefault,\n  children,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => cameraRef.current, []);\n  const groupRef = React.useRef(null);\n  const fbo = useFBO(resolution);\n  React.useLayoutEffect(() => {\n    if (!props.manual) {\n      cameraRef.current.aspect = size.width / size.height;\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    cameraRef.current.updateProjectionMatrix();\n  });\n  let count = 0;\n  let oldEnvMap = null;\n  const functional = isFunction(children);\n  useFrame(state => {\n    if (functional && (frames === Infinity || count < frames)) {\n      groupRef.current.visible = false;\n      state.gl.setRenderTarget(fbo);\n      oldEnvMap = state.scene.background;\n      if (envMap) state.scene.background = envMap;\n      state.gl.render(state.scene, cameraRef.current);\n      state.scene.background = oldEnvMap;\n      state.gl.setRenderTarget(null);\n      groupRef.current.visible = true;\n      count++;\n    }\n  });\n  React.useLayoutEffect(() => {\n    if (makeDefault) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    }\n    // The camera should not be part of the dependency list because this components camera is a stable reference\n    // that must exchange the default, and clean up after itself on unmount.\n  }, [cameraRef, makeDefault, set]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"perspectiveCamera\", _extends({\n    ref: cameraRef\n  }, props), !functional && children), /*#__PURE__*/React.createElement(\"group\", {\n    ref: groupRef\n  }, functional && children(fbo.texture)));\n});\n\nexport { PerspectiveCamera };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","import React from 'react';\nimport { create } from 'zustand';\n\nvar _window$document, _window$navigator;\n/**\n * An SSR-friendly useLayoutEffect.\n *\n * React currently throws a warning when using useLayoutEffect on the server.\n * To get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect elsewhere.\n *\n * @see https://github.com/facebook/react/issues/14927\n */\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' && ((_window$document = window.document) != null && _window$document.createElement || ((_window$navigator = window.navigator) == null ? void 0 : _window$navigator.product) === 'ReactNative') ? React.useLayoutEffect : React.useEffect;\n\nfunction tunnel() {\n  const useStore = create(set => ({\n    current: new Array(),\n    version: 0,\n    set\n  }));\n  return {\n    In: ({\n      children\n    }) => {\n      const set = useStore(state => state.set);\n      const version = useStore(state => state.version);\n      /* When this component mounts, we increase the store's version number.\n      This will cause all existing rats to re-render (just like if the Out component\n      were mapping items to a list.) The re-rendering will cause the final \n      order of rendered components to match what the user is expecting. */\n\n      useIsomorphicLayoutEffect(() => {\n        set(state => ({\n          version: state.version + 1\n        }));\n      }, []);\n      /* Any time the children _or_ the store's version number change, insert\n      the specified React children into the list of rats. */\n\n      useIsomorphicLayoutEffect(() => {\n        set(({\n          current\n        }) => ({\n          current: [...current, children]\n        }));\n        return () => set(({\n          current\n        }) => ({\n          current: current.filter(c => c !== children)\n        }));\n      }, [children, version]);\n      return null;\n    },\n    Out: () => {\n      const current = useStore(state => state.current);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, current);\n    }\n  };\n}\n\nexport { tunnel as default };\n","import * as React from 'react';\nimport { forwardRef, useImperativeHandle } from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\n\n// ðŸ‘‡ uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO(/** Width in pixels, or settings (will render fullscreen by default) */\nwidth, /** Height in pixels */\nheight, /**Settings */\nsettings) {\n  const size = useThree(state => state.size);\n  const viewport = useThree(state => state.viewport);\n  const _width = typeof width === 'number' ? width : size.width * viewport.dpr;\n  const _height = typeof height === 'number' ? height : size.height * viewport.dpr;\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n  const {\n    samples = 0,\n    depth,\n    ...targetSettings\n  } = _settings;\n  const depthBuffer = depth !== null && depth !== void 0 ? depth : _settings.depthBuffer; // backwards compatibility for deprecated `depth` prop\n\n  const target = React.useMemo(() => {\n    const target = new THREE.WebGLRenderTarget(_width, _height, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      type: THREE.HalfFloatType,\n      ...targetSettings\n    });\n    if (depthBuffer) {\n      target.depthTexture = new THREE.DepthTexture(_width, _height, THREE.FloatType);\n    }\n    target.samples = samples;\n    return target;\n  }, []);\n  React.useLayoutEffect(() => {\n    target.setSize(_width, _height);\n    if (samples) target.samples = samples;\n  }, [samples, target, _width, _height]);\n  React.useEffect(() => {\n    return () => target.dispose();\n  }, []);\n  return target;\n}\n\n//\n// Fbo component\n//\n\nconst Fbo = /* @__PURE__ */forwardRef(({\n  children,\n  width,\n  height,\n  ...settings\n}, fref) => {\n  const target = useFBO(width, height, settings);\n  useImperativeHandle(fref, () => target, [target]); // expose target through ref\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(target));\n});\n\nexport { Fbo, useFBO };\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _ReactUtterances.default;\n  }\n});\nObject.defineProperty(exports, \"identifierTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _ReactUtterances.identifierTypes;\n  }\n});\n\nvar _ReactUtterances = _interopRequireWildcard(require(\"./ReactUtterances\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n"],"names":[],"sourceRoot":"","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}