(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{48973:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N,meta:()=>y});var r=n(37876),i=n(91668);let o={src:"/_next/static/media/MouseOnlyXState.98fc3809.png",height:1568,width:3280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAJ1BMVEUjJikxMzYeIScMDA06PUFXUk1qhKs+Pj0ZGx1AWX9XVlQ4Tm9nZ2Y5aXBfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJ0lEQVR4nAXBiQEAIAgDsWsBwWf/eU3IFGCIiKp+jaS18gjjuz3zAQdsAIH6gY1zAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4},l={src:"/_next/static/media/ByTouchEvent.d4725e5e.png",height:1568,width:3280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAJ1BMVEUjJik8PkEbHSE1NjgsMDQPEBFXU007U3dmfaEICAhXVlRnZmZsibRIlgGgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKElEQVR4nB3ISQ4AMAgDsUmA0u3/761UH40CwFCrxtARGTmv9v9u2w8HcwB06VlGaQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4},s={src:"/_next/static/media/ByPointerEvent.7f81f535.png",height:1568,width:3280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAJFBMVEUkJio4OTseIScrLjINDQ1XVE9qhas+QEQZGx1oZ2dAWX84Tm/QE2D5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJUlEQVR4nAXBhwEAIAzDMCedwP//IiEFYMjMKp0hFN1Twvhd734GoQB6PoW+dgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4};var a=n(91013),c=n(18153),d=n(24859),h=n(62227),g=n(14232);let m=(0,d.mj)({types:{},actions:{}}).createMachine({id:"Mouse events only",initial:"not_dragging",states:{not_dragging:{on:{mousedown:{target:"dragging",actions:[e=>{let{context:t,event:{el:n}}=e;t.el=n}]}}},dragging:{on:{mousemove:{actions:[e=>{let{context:{el:t},event:{event:n}}=e;if(t){let{x:e,y:r}=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.currentTarget,r=n.ownerSVGElement,i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(null==(t=r.getScreenCTM())?void 0:t.inverse())}(n);t.setAttribute("transform","translate(".concat(e,", ").concat(r,")"))}}]},mouseup:{target:"not_dragging",actions:[e=>{let{context:t}=e;t.el=void 0}]}}}}}),u=g.memo(function(){let[e,t]=(0,h.zl)(m),n=g.useRef(null);return g.useEffect(()=>{let e=n.current;function r(n){t({type:"mousedown",event:n,el:e})}function i(e){t({type:"mouseup",event:e})}function o(e){t({type:"mousemove",event:e})}return e.addEventListener("mousedown",r),e.addEventListener("mouseup",i),e.addEventListener("mousemove",o),()=>{e.removeEventListener("mousedown",r),e.removeEventListener("mouseup",i),e.removeEventListener("mousemove",o)}},[]),(0,c.FD)("div",{className:"container rounded border border-current relative",style:{height:"300px"},children:[(0,c.Y)("div",{className:"absolute",style:{left:"50%",transform:"translateX(-50%)"},children:(0,c.Y)("div",{className:"backdrop-brightness-90 p-1 rounded-md",children:e.value})}),(0,c.Y)("svg",{viewBox:"0 0 300 100",children:(0,c.FD)("g",{ref:n,className:"cursor-grab",transform:"translate(30, 30)",children:[(0,c.Y)("circle",{cx:0,cy:0,stroke:"black",r:"30"}),(0,c.FD)("g",{fontSize:"14",textAnchor:"middle",fill:"white",children:[(0,c.Y)("text",{dy:"0.0em",children:"Drag"}),(0,c.Y)("text",{dy:"1.0em",children:"me"})]})]})})]})}),x=(0,d.mj)({types:{},actions:{}}).createMachine({id:"Mouse events only",initial:"not_dragging",states:{not_dragging:{on:{mousedown:{target:"dragging",actions:[e=>{let{context:t,event:{el:n}}=e;t.el=n}]}}},dragging:{on:{mousemove:{actions:[e=>{let{context:{el:t},event:{event:n}}=e;if(t){let{x:e,y:r}=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.currentTarget,r=n.ownerSVGElement,i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(null==(t=r.getScreenCTM())?void 0:t.inverse())}(n,t);t.setAttribute("transform","translate(".concat(e,", ").concat(r,")"))}}]},mouseup:{target:"not_dragging",actions:[e=>{let{context:t}=e;t.el=void 0}]}}}}}),v=g.memo(function(){let[e,t]=(0,h.zl)(x),n=g.useRef(null);return g.useEffect(()=>{let e=n.current;function r(n){t({type:"mousedown",event:n,el:e})}function i(e){t({type:"mouseup",event:e})}function o(e){t({type:"mousemove",event:e})}return e.addEventListener("mousedown",r),document.addEventListener("mouseup",i),document.addEventListener("mousemove",o),()=>{e.removeEventListener("mousedown",r),document.removeEventListener("mouseup",i),document.removeEventListener("mousemove",o)}},[]),(0,c.FD)("div",{className:"container rounded border border-current relative",style:{height:"300px"},children:[(0,c.Y)("div",{className:"absolute",style:{left:"50%",transform:"translateX(-50%)"},children:(0,c.Y)("div",{className:"backdrop-brightness-90 p-1 rounded-md",children:e.value})}),(0,c.Y)("svg",{viewBox:"0 0 300 100",children:(0,c.FD)("g",{ref:n,className:"cursor-grab",transform:"translate(30, 30)",children:[(0,c.Y)("circle",{cx:0,cy:0,stroke:"black",r:"30"}),(0,c.FD)("g",{fontSize:"14",textAnchor:"middle",fill:"white",children:[(0,c.Y)("text",{dy:"0.0em",children:"Drag"}),(0,c.Y)("text",{dy:"1.0em",children:"me"})]})]})})]})}),p=(0,d.mj)({types:{},actions:{}}).createMachine({id:"Touch event",initial:"not_dragging",states:{not_dragging:{on:{touchstart:{target:"dragging",actions:[e=>{let{context:t,event:{el:n}}=e;t.el=n}]}}},dragging:{on:{touchmove:{actions:[e=>{let{context:{el:t},event:{event:n}}=e;if(t){let{x:e,y:r}=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.currentTarget,r=n.ownerSVGElement,i=r.createSVGPoint(),o=e.changedTouches[0];return i.x=o.clientX,i.y=o.clientY,i=i.matrixTransform(null==(t=r.getScreenCTM())?void 0:t.inverse())}(n,t);t.setAttribute("transform","translate(".concat(e,", ").concat(r,")"))}}]},touchend:{target:"not_dragging",actions:[e=>{let{context:t}=e;t.el=void 0}]}}}}}),f=g.memo(function(){let[e,t]=(0,h.zl)(p),n=g.useRef(null);return g.useEffect(()=>{let e=n.current;function r(n){t({type:"touchstart",event:n,el:e})}function i(e){t({type:"touchmove",event:e})}function o(e){t({type:"touchend",event:e})}return e.addEventListener("touchstart",r),e.addEventListener("touchmove",i),e.addEventListener("touchend",o),e.addEventListener("touchcancel",o),()=>{e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",i),e.removeEventListener("touchend",o),e.removeEventListener("touchcancel",o)}},[]),(0,c.FD)("div",{className:"container rounded border border-current relative",style:{height:"300px"},children:[(0,c.Y)("div",{className:"absolute",style:{left:"50%",transform:"translateX(-50%)"},children:(0,c.Y)("div",{className:"backdrop-brightness-90 p-1 rounded-md",children:e.value})}),(0,c.Y)("svg",{viewBox:"0 0 300 100",children:(0,c.FD)("g",{ref:n,className:"cursor-grab",transform:"translate(30, 30)",children:[(0,c.Y)("circle",{cx:0,cy:0,stroke:"black",r:"30"}),(0,c.FD)("g",{fontSize:"14",textAnchor:"middle",fill:"white",children:[(0,c.Y)("text",{dy:"0.0em",children:"Drag"}),(0,c.Y)("text",{dy:"1.0em",children:"me"})]})]})})]})}),A=(0,d.mj)({types:{},actions:{}}).createMachine({id:"Pointer events",initial:"not_dragging",states:{not_dragging:{on:{pointerdown:{target:"dragging",actions:[e=>{let{context:t,event:{el:n}}=e;t.el=n}]}}},dragging:{on:{pointermove:{actions:[e=>{let{context:{el:t},event:{event:n}}=e;if(t){let{x:e,y:r}=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.currentTarget,r=n.ownerSVGElement,i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(null==(t=r.getScreenCTM())?void 0:t.inverse())}(n,t);t.setAttribute("transform","translate(".concat(e,", ").concat(r,")"))}}]},pointerup:{target:"not_dragging",actions:[e=>{let{context:t}=e;t.el=void 0}]}}}}}),b=g.memo(function(){let[e,t]=(0,h.zl)(A),n=g.useRef(null);return g.useEffect(()=>{let e=n.current;function r(n){t({type:"pointerdown",event:n,el:e})}function i(e){t({type:"pointermove",event:e})}function o(e){t({type:"pointerup",event:e})}return e.addEventListener("pointerdown",r),e.addEventListener("pointermove",i),e.addEventListener("pointerup",o),e.addEventListener("pointercancel",o),()=>{e.removeEventListener("pointerdown",r),e.removeEventListener("pointermove",i),e.removeEventListener("pointerup",o),e.removeEventListener("pointercancel",o)}},[]),(0,c.FD)("div",{className:"container rounded border border-current relative mb-10",children:[(0,c.Y)("div",{className:"absolute",style:{left:"50%",transform:"translateX(-50%)"},children:(0,c.Y)("div",{className:"backdrop-brightness-90 p-1 rounded-md",children:e.value})}),(0,c.Y)("svg",{viewBox:"0 0 300 100",children:(0,c.FD)("g",{ref:n,className:"cursor-grab",transform:"translate(30, 30)",children:[(0,c.Y)("circle",{cx:0,cy:0,stroke:"black",r:"30"}),(0,c.FD)("g",{fontSize:"14",textAnchor:"middle",fill:"white",children:[(0,c.Y)("text",{dy:"0.0em",children:"Drag"}),(0,c.Y)("text",{dy:"1.0em",children:"me"})]})]})})]})});function j(e,t){var n;let{x:r,y:i}=e,o=t.ownerSVGElement,l=o.createSVGPoint();return l.x=r,l.y=i,l=l.matrixTransform(null==(n=o.getScreenCTM())?void 0:n.inverse())}let w=(0,d.mj)({types:{},actions:{}}).createMachine({id:"Pointer events",initial:"not_dragging",context:{x:30,y:30},states:{not_dragging:{on:{pointerdown:{target:"dragging",actions:[e=>{let{context:t,event:{el:n,event:r}}=e;if(0===r.button){let e=n.ownerSVGElement,{x:i,y:o}=j(r,n),{x:l,y:s}=t;console.log({eventX:i,eventY:o}),t.initial={elSvg:e,el:n,dx:i-l,dy:o-s},n.setPointerCapture(r.pointerId)}}]}}},dragging:{on:{pointermove:{actions:[e=>{let{context:t,event:{event:n}}=e,{initial:r}=t;if(r){var i,o,l,s,a,c;let{elSvg:e,el:d,dx:h,dy:g}=r,m=e.getBoundingClientRect(),{x:u,y:x}=j({x:(i=m.left,o=n.clientX,l=m.right,o<i?i:o>l?l:o),y:(s=m.top,a=n.clientY,c=m.bottom,a<s?s:a>c?c:a)},d),v=u-h,p=x-g;t.x=v,t.y=p,console.log("mousedown",{parentRect:m,event:n,x:v,y:p,dx:h,dy:g}),d.setAttribute("transform","translate(".concat(v,", ").concat(p,")"))}}]},pointerup:{target:"not_dragging",actions:[e=>{let{context:t}=e;t.initial=void 0}]}}}}}),E=g.memo(function(){let[e,t]=(0,h.zl)(w),n=g.useRef(null);return g.useEffect(()=>{let e=n.current;function r(n){t({type:"pointerdown",event:n,el:e})}function i(e){t({type:"pointermove",event:e})}function o(e){t({type:"pointerup",event:e})}function l(e){e.preventDefault()}return e.addEventListener("pointerdown",r),e.addEventListener("pointermove",i),e.addEventListener("pointerup",o),e.addEventListener("pointercancel",o),e.addEventListener("touchstart",l),()=>{e.removeEventListener("pointerdown",r),e.removeEventListener("pointermove",i),e.removeEventListener("pointerup",o),e.removeEventListener("pointercancel",o),e.removeEventListener("touchstart",l)}},[]),(0,c.FD)("div",{className:"container rounded border border-current relative mb-10",children:[(0,c.Y)("div",{className:"absolute",style:{left:"50%",transform:"translateX(-50%)"},children:(0,c.Y)("div",{className:"backdrop-brightness-90 p-1 rounded-md",children:e.value})}),(0,c.Y)("svg",{viewBox:"0 0 300 100",children:(0,c.FD)("g",{ref:n,className:"cursor-grab",transform:"translate(30, 30)",children:[(0,c.Y)("circle",{cx:0,cy:0,stroke:"black",r:"30"}),(0,c.FD)("g",{fontSize:"14",textAnchor:"middle",fill:"white",children:[(0,c.Y)("text",{dy:"0.0em",children:"Drag"}),(0,c.Y)("text",{dy:"1.0em",children:"me"})]})]})})]})}),y={title:"Draggable object 리뷰",description:"drag 처리에 대해 많은 고민이 묻어있는 포스팅을 발견하여 리뷰해 봅니다.",date:"2024-02-12",readTime:5},Y=e=>{let{children:t}=e;return(0,r.jsx)(a.A,{meta:y,children:t})};function k(e){let t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{children:"소개"}),"\n",(0,r.jsx)(t.p,{children:"Interactive한 UX를 구현하다보면 drag 처리가 필요한 경우가 있습니다.\nMouse와 Pointer의 up/down/move 이벤트를 받아 처리하면 어느 정도 원하는 구현이 나옵니다.\n하지만 어딘지 모르게 어색한 혹은 예기치 못한 오동작이 발생하기도 하는데요.\n마침 drag 처리에 대해 많은 고민이 묻어있는 포스팅을 발견하여 리뷰해 봅니다."}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable",children:"Draggable objects"})}),"\n"]}),"\n",(0,r.jsx)(t.h1,{children:"Mouse 이벤트 사용하기"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#mouse-events",children:"\uD83D\uDDB1️ Mouse events only"})}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"MouseOnlyXState",src:o})}),"\n",(0,r.jsx)(u,{}),"\n",(0,r.jsx)(t.p,{children:"마우스 이벤트만으로 dragging을 구현할 때 다음의 문제가 있습니다."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"마우스를 빠르게 움직이면 이벤트 처리를 하지 못합니다."}),"\n",(0,r.jsxs)(t.li,{children:["포인터가 원 밖으로 나간 상태에서 마우스 up을 하면 ",(0,r.jsx)(t.code,{children:"dragging"})," 상태에 머무르는 문제가 있습니다."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["이를 보완하기 위해 아래 예시와 같이, element가 아닌 ",(0,r.jsx)(t.code,{children:"document"})," 엘리먼트에 ",(0,r.jsx)(t.code,{children:"mousemove"}),", ",(0,r.jsx)(t.code,{children:"mouseup"})," 이벤트를 등록하여 처리할 수 있습니다."]}),"\n",(0,r.jsx)(v,{}),"\n",(0,r.jsx)(t.h1,{children:"Touch 이벤트 사용하기"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#touch-events",children:"\uD83D\uDC46 Touch events"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"mousedown"}),", ",(0,r.jsx)(t.code,{children:"mouseup"}),", ",(0,r.jsx)(t.code,{children:"mousemove"})," 대신 ",(0,r.jsx)(t.code,{children:"touchstart"}),", ",(0,r.jsx)(t.code,{children:"touchend"}),", ",(0,r.jsx)(t.code,{children:"touchmove"})," 이벤트를 사용합니다.\n",(0,r.jsx)(t.code,{children:"touchmove"}),", ",(0,r.jsx)(t.code,{children:"touchend"})," 는 ",(0,r.jsx)(t.code,{children:"mousemove"}),", ",(0,r.jsx)(t.code,{children:"mouseend"})," 와 다르게 영역 밖에서도 이벤트를 전달합니다.\n따라서 ",(0,r.jsx)(t.code,{children:"document"}),"에 등록하지 않아도 동일한 동작을 확인할 수 있습니다."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"ByTouchEvent",src:l})}),"\n",(0,r.jsx)(f,{}),"\n",(0,r.jsx)(t.h1,{children:"Pointer 이벤트 사용하기"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#pointer-events",children:"\uD83D\uDDB1️\uD83D\uDC46 Pointer events"})}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Pointer 이벤트는 mouse, touch 이벤트 모두를 처리합니다."}),"\n",(0,r.jsxs)(t.p,{children:["Pointer 이벤트의 ",(0,r.jsx)(t.code,{children:"pointerId"}),"를 엘리먼트의 ",(0,r.jsx)(t.code,{children:"setPointerCapture"})," 함수로 넘겨주면 ",(0,r.jsx)(t.code,{children:"document"}),"에 이벤트를 등록하는 것과 동일한 기능을 사용할 수 있습니다."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"ByPointerEvent",src:s})}),"\n",(0,r.jsx)(b,{}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#fix-capture",children:"Fix: capture the mouse"})}),"\n",(0,r.jsx)(t.p,{children:"다음과 같은 동작에도 drag 동작이 멈추지 않고 지속하여야 합니다."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"drag 상태에서 빠르게 흔들기"}),"\n",(0,r.jsx)(t.li,{children:"drag 영역 밖에서 다시 들어오기"}),"\n",(0,r.jsx)(t.li,{children:"drag 영역 밖에서 release 했을 때"}),"\n",(0,r.jsx)(t.li,{children:"drag 영역 밖에서 release 하고 다시 들어왔을 때"}),"\n",(0,r.jsx)(t.li,{children:"drag 중 alt+tab으로 윈도우 포커스 변경할 때"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["이를 위해 drag element의 ",(0,r.jsx)(t.code,{children:"setPointerCapture(event.pointerId)"}),"를 호출하여 drag 영역 밖에서도 이벤트 전달이 가능하도록 합니다."]}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#fix-scroll",children:"Fix: scrolling with touch"})}),"\n",(0,r.jsxs)(t.p,{children:["모바일 환경에서는 한 손가락 drag로 스크롤을 합니다.\n엘리먼트를 drag로 이동할 경우 스크롤과 drag 동작이 동시에 이루어 집니다.\n이를 막기 위해 drag 영역에 ",(0,r.jsx)(t.code,{children:"touch-action: none"})," 스타일을 적용합니다.\n이 경우 모든 drag 영역에서 스크롤이 불가능 합니다."]}),"\n",(0,r.jsxs)(t.p,{children:["drag를 적용하는 엘리먼트의 ",(0,r.jsx)(t.code,{children:"touchstart"})," 이벤트를 ",(0,r.jsx)(t.code,{children:"preventDefault()"})," 해 주면 엘리먼트만 drag 동작을 하면서 스크롤이 되지 않으며 동시에 drag 영역에서 스크롤이 가능해 집니다."]}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#feature-offset",children:"Feature: handle drag offset"})}),"\n",(0,r.jsx)(t.p,{children:"이벤트 위치를 기준으로 엘리먼트를 잡을경우 drag 시작 시, drag element의 중심이 순간적으로 mouse pointer로 이동합니다."}),"\n",(0,r.jsx)(t.p,{children:"이 동작을 보완하기 위해, drag element의 중심과 event 위치와의 차이를 저장하고 그 차이만큼 move 동작시에 보완해 줍니다."}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#fix-contextmenu",children:"Fix: context menu"})}),"\n",(0,r.jsxs)(t.p,{children:["Context 메뉴는 운영체제마다 호출 방식이 다릅니다.\n",(0,r.jsx)(t.code,{children:"pointerdown"})," 이벤트에 따른 ",(0,r.jsx)(t.code,{children:"pointerup"})," 이벤트를 항상 전달해 주지 않습니다."]}),"\n",(0,r.jsx)(t.p,{children:"이를 보완하기 위해 left button에서만 동작하도록 수정합니다."}),"\n",(0,r.jsx)(t.h1,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#variant-text",children:"\uD83D\uDDB1️ Variant: draggable text/images"})}),"\n",(0,r.jsx)(t.p,{children:"drag element 안에 text, image 등이 있는 경우에 확인해야 할 사항입니다."}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#fix-user-select",children:"Fix: text selection"})}),"\n",(0,r.jsxs)(t.p,{children:["drag element를 이동 시 때떄로 텍스트가 선택 됩니다.\n",(0,r.jsx)(t.code,{children:"user-select: none"}),"을 drag element에 설정하면 select all 동작에서 조차 선택을 할 수 없습니다."]}),"\n",(0,r.jsxs)(t.p,{children:["이를 위해 dragging 중에만 ",(0,r.jsx)(t.code,{children:"user-select: none"})," 설정을 합니다."]}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://www.redblobgames.com/making-of/draggable/#fix-systemdrag",children:"Fix: text and image drag"})}),"\n",(0,r.jsx)(t.p,{children:"drag 영역 밖에서 부터 drag element 내의 text 까지 text selection을 한 뒤, text 선택 영역에서 drag를 하면 텍스트 전체를 copy & paste 할 수 있습니다."}),"\n",(0,r.jsxs)(t.p,{children:["drag element 내의 text selection 영역에서 drag 동작을 우선시하려면, 해당 엘리먼트의 ",(0,r.jsx)(t.code,{children:"dragstart"})," 이벤트를 ",(0,r.jsx)(t.code,{children:"preventDefault()"}),"해 줍니다."]}),"\n",(0,r.jsx)(t.p,{children:"다음은 위에서 설명한 권장사항을 적용한 예시입니다."}),"\n",(0,r.jsx)(E,{}),"\n",(0,r.jsx)(t.h1,{children:"마치며"}),"\n",(0,r.jsx)(t.p,{children:"저자는 오랬동안 자신이 경험해 온 내용을 위 블로그에 정리 했습니다.\n간단한 drag 기능 구현을 위해 고민할 경우 마우스 이벤트 처리에 머물러 있기마련 입니다.\n반면 touch, pointer, drag 이벤트 등을 다루고 이들의 edge 케이스를 살펴 보면서 수년에 걸친 경험과 인사이트를 얻을 수 있었습니다."}),"\n",(0,r.jsx)(t.p,{children:"블로그 원본에서는 더욱 다양하고 흥미로운 tip과 trick을 제공하니 관심있으신 분들은 본문의 설명과 함께 예시링크도 함께 확인해 보시면 좋겠습니다."})]})}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.jsx)(Y,{...e,children:(0,r.jsx)(k,{...e})})}},49034:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(18153),i=n(77328),o=n.n(i),l=n(14232);let s=l.memo(()=>(0,r.Y)(r.FK,{}));var a=n(71745),c=n(48230),d=n.n(c);let h=[{link:"/",text:"Home"}],g=l.memo(()=>{let e=(0,a.useRouter)(),[t,n]=l.useState(!1);return(0,r.FD)("nav",{className:"w-full",children:[(0,r.Y)("div",{id:"progress",className:"top-0 z-20 h-1",style:{background:"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)"}}),(0,r.FD)("div",{className:"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl",children:[(0,r.Y)("div",{className:"pl-4",children:(0,r.Y)(d(),{className:"text-xl font-extrabold text-gray-900 no-underline hover:no-underline",href:"/",children:"lifetime trails"})}),(0,r.Y)("div",{className:"block pr-4 lg:hidden",children:(0,r.Y)("button",{id:"nav-toggle",type:"button",className:"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none",onMouseDown:e=>e.preventDefault(),onClick:()=>n(!t),onBlur:()=>n(!1),children:(0,r.FD)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.Y)("title",{children:"Menu"}),(0,r.Y)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,r.Y)("div",{id:"nav-content",className:"bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ".concat(t?"block":"hidden"),children:(0,r.Y)("ul",{className:"items-center justify-end flex-1 list-reset lg:flex",children:h.map(t=>{let{link:n,text:i}=t;return(0,r.Y)("li",{className:"mr-3",children:(0,r.Y)(d(),{className:e.pathname===n?"inline-block py-2 px-4 text-gray-900 font-bold no-underline":"inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4",href:n,children:i})},n)})})})]})]})}),m=l.memo(e=>{let{children:t,title:n="This is the default title"}=e;return(0,r.FD)("div",{className:"leading-normal tracking-normal bg-gray-100 min-h-screen",children:[(0,r.FD)(o(),{children:[(0,r.Y)("title",{children:n}),(0,r.Y)("meta",{charSet:"utf-8"}),(0,r.Y)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.Y)(g,{}),(0,r.Y)("div",{className:"container w-full px-4 pb-10 mx-auto md:max-w-3xl",children:t}),(0,r.Y)(s,{})]})})},53010:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/2024-02-12-draggable-objects",function(){return n(48973)}])},60158:(e,t,n)=>{"use strict";n.d(t,{J:()=>s,j:()=>l});var r=n(18153),i=n(14232);let o=i.createContext({});function l(e){let{staticProps:t,children:n}=e;return(0,r.Y)(o.Provider,{value:t,children:n})}function s(){return i.useContext(o)}},85419:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18153);n(14232);let i=e=>{let{meta:t,isBlogPost:n}=e;return(0,r.FD)(r.FK,{children:[(0,r.Y)("h1",{className:"font-bold text-gray-800 mb-4 ".concat(n?"text-5xl mt-8 mb-8":"text-lg"),children:t.title}),(0,r.FD)("div",{className:"details",children:[(0,r.Y)("p",{className:"text-gray-500",children:t.description}),(0,r.Y)("p",{className:"text-gray-400 text-right -mt-1",children:(0,r.Y)("span",{className:"mr-4",children:t.date})})]})]})}},91013:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(18153),i=n(73146),o=n.n(i),l=n(14232),s=n(86089),a=n(60158),c=n(85419),d=n(49034);function h(e){let{children:t,meta:n,staticProps:i}=e;return l.useEffect(()=>{o().highlightAll()},[]),(0,r.Y)(r.FK,{children:(0,r.FD)(d.A,{title:n.title,children:[(0,r.Y)(c.A,{meta:n,isBlogPost:!0}),(0,r.Y)(a.j,{staticProps:i,children:(0,r.Y)("article",{className:"markdown",children:t})}),(0,r.Y)(s.Ay,{repo:"swcho/blog-comments",type:"pathname",label:"utterances",theme:"github-light"})]})})}}},e=>{e.O(0,[5695,3149,636,6593,8792],()=>e(e.s=53010)),_N_E=e.O()}]);
//# sourceMappingURL=2024-02-12-draggable-objects-b38196157f239b2b.js.map