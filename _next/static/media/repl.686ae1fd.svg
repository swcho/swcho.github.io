<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="585px" preserveAspectRatio="none" style="width:521px;height:585px;background:#FFFFFF;" version="1.1" viewBox="0 0 521 585" width="521px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="573.16" style="stroke:#181818;stroke-width:0.5;" width="210" x="166" y="6"/><text fill="#000000" font-family="D2Coding" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63" x="239.5" y="18.09">puppeteer</text><rect fill="#DDDDDD" height="573.16" style="stroke:#181818;stroke-width:0.5;" width="137" x="378" y="6"/><text fill="#000000" font-family="D2Coding" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="49" x="422" y="18.09">browser</text><rect fill="#FFFFFF" height="37.08" style="stroke:#181818;stroke-width:1.0;" width="10" x="401.5" y="352.36"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="128" x2="128" y1="56.32" y2="544.92"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="208" x2="208" y1="56.32" y2="544.92"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="288" x2="288" y1="126.02" y2="544.92"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="351" x2="351" y1="167.26" y2="544.92"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="406" x2="406" y1="56.32" y2="544.92"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="476" x2="476" y1="489.22" y2="544.92"/><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="97" y="25.08"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="49" x="104" y="45.1">repl.js</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="97" y="543.92"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="49" x="104" y="563.94">repl.js</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="170" y="25.08"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="63" x="177" y="45.1">puppeteer</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="170" y="543.92"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="63" x="177" y="563.94">puppeteer</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="257" y="543.92"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="49" x="264" y="563.94">Browser</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42" x="330" y="543.92"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="28" x="337" y="563.94">Page</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="382" y="25.08"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="35" x="389" y="45.1">rrweb</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="382" y="543.92"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="35" x="389" y="563.94">rrweb</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="441" y="543.92"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="56" x="448" y="563.94">Replayer</text><rect fill="#FFFFFF" height="37.08" style="stroke:#181818;stroke-width:1.0;" width="10" x="401.5" y="352.36"/><polygon fill="#181818" points="196.5,83.4,206.5,87.4,196.5,91.4,200.5,87.4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="128.5" x2="202.5" y1="87.4" y2="87.4"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="42" x="135.5" y="82.41">launch</text><polygon fill="#181818" points="245,112.48,255,116.48,245,120.48,249,116.48" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="128.5" x2="251" y1="116.48" y2="116.48"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="49" x="135.5" y="111.49">newPage</text><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="257" y="95.4"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="49" x="264" y="115.42">Browser</text><polygon fill="#181818" points="318,138.64,328,142.64,318,146.64,322,142.64" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="128.5" x2="324" y1="142.64" y2="142.64"/><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42" x="330" y="136.64"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="28" x="337" y="156.66">Page</text><polygon fill="#181818" points="339,194.96,349,198.96,339,202.96,343,198.96" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="128.5" x2="345" y1="198.96" y2="198.96"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="182" x="135.5" y="193.97">exposeFunction('_replLog')</text><polygon fill="#181818" points="339,224.04,349,228.04,339,232.04,343,228.04" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="128.5" x2="345" y1="228.04" y2="228.04"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="140" x="135.5" y="223.05">on('framenavigated')</text><polygon fill="#181818" points="339,253.12,349,257.12,339,261.12,343,257.12" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="128.5" x2="345" y1="257.12" y2="257.12"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="28" x="135.5" y="252.13">goto</text><polygon fill="#181818" points="139.5,282.2,129.5,286.2,139.5,290.2,135.5,286.2" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.5" x2="350" y1="286.2" y2="286.2"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="105" x="145.5" y="281.21">injectRecording</text><polygon fill="#181818" points="394.5,311.28,404.5,315.28,394.5,319.28,398.5,315.28" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="128.5" x2="400.5" y1="315.28" y2="315.28"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="42" x="135.5" y="310.29">record</text><line style="stroke:#181818;stroke-width:1.0;" x1="406.5" x2="453.5" y1="339.36" y2="339.36"/><line style="stroke:#181818;stroke-width:1.0;" x1="453.5" x2="453.5" y1="339.36" y2="352.36"/><line style="stroke:#181818;stroke-width:1.0;" x1="412.5" x2="453.5" y1="352.36" y2="352.36"/><polygon fill="#181818" points="422.5,348.36,412.5,352.36,422.5,356.36,418.5,352.36" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="28" x="418.5" y="334.37">emit</text><polygon fill="#181818" points="139.5,385.44,129.5,389.44,139.5,393.44,135.5,389.44" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="133.5" x2="405.5" y1="389.44" y2="389.44"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="56" x="145.5" y="384.45">_replLog</text><path d="M18,370.36 L18,395.36 L123,395.36 L123,380.36 L113,370.36 L18,370.36 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M113,370.36 L113,380.36 L123,380.36 L113,370.36 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="84" x="24" y="387.45">store events</text><polygon fill="#181818" points="339,417.52,349,421.52,339,425.52,343,421.52" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="128.5" x2="345" y1="421.52" y2="421.52"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="168" x="135.5" y="416.53">addStyleTag('rrweb.css')</text><polygon fill="#181818" points="339,446.6,349,450.6,339,454.6,343,450.6" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="128.5" x2="345" y1="450.6" y2="450.6"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="98" x="135.5" y="445.61">evaluate(code)</text><polygon fill="#181818" points="429,460.6,439,464.6,429,468.6,433,464.6" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="128.5" x2="435" y1="464.6" y2="464.6"/><rect fill="#E2E2F0" height="30.24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="441" y="458.6"/><text fill="#000000" font-family="D2Coding" font-size="14" lengthAdjust="spacing" textLength="56" x="448" y="478.62">Replayer</text><polygon fill="#181818" points="464,519.92,474,523.92,464,527.92,468,523.92" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="128.5" x2="470" y1="523.92" y2="523.92"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="28" x="135.5" y="518.93">play</text><path d="M5,504.84 L5,529.84 L124,529.84 L124,514.84 L114,504.84 L5,504.84 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M114,504.84 L114,514.84 L124,514.84 L114,504.84 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="D2Coding" font-size="13" lengthAdjust="spacing" textLength="98" x="11" y="521.93">deliver events</text><!--MD5=[282acf02459ddb3918d475131c1452a2]
@startuml "repl"

skinparam defaultFontName D2Coding

participant "repl.js" as repl
box puppeteer
participant puppeteer
participant Browser
participant Page
end box

box browser
participant rrweb
participant Replayer
end box

repl -> puppeteer: launch
repl -> Browser**: newPage
repl -> Page** 
repl -> Page: exposeFunction('_replLog')
repl -> Page: on('framenavigated')
repl -> Page: goto
Page -> repl: injectRecording
repl - -> rrweb: record
rrweb -> rrweb: emit
activate rrweb
rrweb - -> repl: _replLog
note left
store events
end note
deactivate rrweb

repl -> Page: addStyleTag('rrweb.css')
repl -> Page: evaluate(code)
repl - -> Replayer**
repl - -> Replayer: play
note left
deliver events
end note

@enduml

PlantUML version 1.2022.7(Tue Aug 23 02:01:30 KST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ko
Country: KR
--></g></svg>