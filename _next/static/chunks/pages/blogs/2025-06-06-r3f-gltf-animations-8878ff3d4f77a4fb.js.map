{"version":3,"file":"static/chunks/pages/blogs/2025-06-06-r3f-gltf-animations-8878ff3d4f77a4fb.js","mappings":"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","sources":["webpack://_N_E/./components/Area.tsx","webpack://_N_E/./pages/blogs/2025-06-06-r3f-gltf-animations/src/stacy.glb","webpack://_N_E/./pages/blogs/2025-06-06-r3f-gltf-animations/src/stacy.texture.glb","webpack://_N_E/./node_modules/three-stdlib/utils/SkeletonUtils.js","webpack://_N_E/./pages/blogs/2025-06-06-r3f-gltf-animations/src/App01.tsx","webpack://_N_E/./node_modules/@react-three/drei/core/useAnimations.js","webpack://_N_E/./pages/blogs/2025-06-06-r3f-gltf-animations/src/App02.tsx","webpack://_N_E/./pages/blogs/2025-06-06-r3f-gltf-animations/index.page.mdx","webpack://_N_E/./node_modules/@react-three/drei/core/Text.js","webpack://_N_E/./components/Footer.tsx","webpack://_N_E/./components/Header.tsx","webpack://_N_E/./components/Layout.tsx","webpack://_N_E/./node_modules/@react-three/drei/core/OrbitControls.js","webpack://_N_E/?1223","webpack://_N_E/./components/BlogPostContext.tsx","webpack://_N_E/./node_modules/@react-three/drei/core/Texture.js","webpack://_N_E/./components/HeadPost.tsx","webpack://_N_E/./components/BlogPost.tsx"],"sourcesContent":["import * as React from 'react';\n\nexport type Props = Omit<React.ComponentPropsWithRef<'div'>, 'children'> & {\n  children: (el: HTMLDivElement) => React.ReactNode;\n};\n\nconst Area = React.forwardRef<HTMLDivElement, Props>((props) => {\n  const { children, ...rest } = props;\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [el, setEl] = React.useState<HTMLDivElement>();\n  React.useEffect(() => {\n    setEl(ref.current!);\n  }, []);\n  // console.log('Area', { el });\n  return (\n    <div\n      ref={ref}\n      css={{ border: '1px solid', borderRadius: '4px', width: '100%', height: '300px', marginBottom: '1rem' }}\n      {...rest}\n    >\n      {el && children(el)}\n    </div>\n  );\n});\n\nexport default React.memo(Area);\n","export default \"/_next/static/chunks/stacy.3f5b94be71e592ad24beddb122028a92.glb\";","export default \"/_next/static/chunks/stacy.texture.84da32e0b941a997c0846909034f9169.glb\";","import { Vector3, Quaternion, Matrix4, AnimationMixer, VectorKeyframeTrack, QuaternionKeyframeTrack, AnimationClip, SkeletonHelper } from \"three\";\nfunction retarget(target, source, options = {}) {\n  const pos = new Vector3(), quat = new Quaternion(), scale = new Vector3(), bindBoneMatrix = new Matrix4(), relativeMatrix = new Matrix4(), globalMatrix = new Matrix4();\n  options.preserveMatrix = options.preserveMatrix !== void 0 ? options.preserveMatrix : true;\n  options.preservePosition = options.preservePosition !== void 0 ? options.preservePosition : true;\n  options.preserveHipPosition = options.preserveHipPosition !== void 0 ? options.preserveHipPosition : false;\n  options.useTargetMatrix = options.useTargetMatrix !== void 0 ? options.useTargetMatrix : false;\n  options.hip = options.hip !== void 0 ? options.hip : \"hip\";\n  options.names = options.names || {};\n  const sourceBones = source.isObject3D ? source.skeleton.bones : getBones(source), bones = target.isObject3D ? target.skeleton.bones : getBones(target);\n  let bindBones, bone, name, boneTo, bonesPosition;\n  if (target.isObject3D) {\n    target.skeleton.pose();\n  } else {\n    options.useTargetMatrix = true;\n    options.preserveMatrix = false;\n  }\n  if (options.preservePosition) {\n    bonesPosition = [];\n    for (let i = 0; i < bones.length; i++) {\n      bonesPosition.push(bones[i].position.clone());\n    }\n  }\n  if (options.preserveMatrix) {\n    target.updateMatrixWorld();\n    target.matrixWorld.identity();\n    for (let i = 0; i < target.children.length; ++i) {\n      target.children[i].updateMatrixWorld(true);\n    }\n  }\n  if (options.offsets) {\n    bindBones = [];\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i];\n      name = options.names[bone.name] || bone.name;\n      if (options.offsets[name]) {\n        bone.matrix.multiply(options.offsets[name]);\n        bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n        bone.updateMatrixWorld();\n      }\n      bindBones.push(bone.matrixWorld.clone());\n    }\n  }\n  for (let i = 0; i < bones.length; ++i) {\n    bone = bones[i];\n    name = options.names[bone.name] || bone.name;\n    boneTo = getBoneByName(name, sourceBones);\n    globalMatrix.copy(bone.matrixWorld);\n    if (boneTo) {\n      boneTo.updateMatrixWorld();\n      if (options.useTargetMatrix) {\n        relativeMatrix.copy(boneTo.matrixWorld);\n      } else {\n        relativeMatrix.copy(target.matrixWorld).invert();\n        relativeMatrix.multiply(boneTo.matrixWorld);\n      }\n      scale.setFromMatrixScale(relativeMatrix);\n      relativeMatrix.scale(scale.set(1 / scale.x, 1 / scale.y, 1 / scale.z));\n      globalMatrix.makeRotationFromQuaternion(quat.setFromRotationMatrix(relativeMatrix));\n      if (target.isObject3D) {\n        const boneIndex = bones.indexOf(bone), wBindMatrix = bindBones ? bindBones[boneIndex] : bindBoneMatrix.copy(target.skeleton.boneInverses[boneIndex]).invert();\n        globalMatrix.multiply(wBindMatrix);\n      }\n      globalMatrix.copyPosition(relativeMatrix);\n    }\n    if (bone.parent && bone.parent.isBone) {\n      bone.matrix.copy(bone.parent.matrixWorld).invert();\n      bone.matrix.multiply(globalMatrix);\n    } else {\n      bone.matrix.copy(globalMatrix);\n    }\n    if (options.preserveHipPosition && name === options.hip) {\n      bone.matrix.setPosition(pos.set(0, bone.position.y, 0));\n    }\n    bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n    bone.updateMatrixWorld();\n  }\n  if (options.preservePosition) {\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i];\n      name = options.names[bone.name] || bone.name;\n      if (name !== options.hip) {\n        bone.position.copy(bonesPosition[i]);\n      }\n    }\n  }\n  if (options.preserveMatrix) {\n    target.updateMatrixWorld(true);\n  }\n}\nfunction retargetClip(target, source, clip, options = {}) {\n  options.useFirstFramePosition = options.useFirstFramePosition !== void 0 ? options.useFirstFramePosition : false;\n  options.fps = options.fps !== void 0 ? options.fps : 30;\n  options.names = options.names || [];\n  if (!source.isObject3D) {\n    source = getHelperFromSkeleton(source);\n  }\n  const numFrames = Math.round(clip.duration * (options.fps / 1e3) * 1e3), delta = 1 / options.fps, convertedTracks = [], mixer = new AnimationMixer(source), bones = getBones(target.skeleton), boneDatas = [];\n  let positionOffset, bone, boneTo, boneData, name;\n  mixer.clipAction(clip).play();\n  mixer.update(0);\n  source.updateMatrixWorld();\n  for (let i = 0; i < numFrames; ++i) {\n    const time = i * delta;\n    retarget(target, source, options);\n    for (let j = 0; j < bones.length; ++j) {\n      name = options.names[bones[j].name] || bones[j].name;\n      boneTo = getBoneByName(name, source.skeleton);\n      if (boneTo) {\n        bone = bones[j];\n        boneData = boneDatas[j] = boneDatas[j] || { bone };\n        if (options.hip === name) {\n          if (!boneData.pos) {\n            boneData.pos = {\n              times: new Float32Array(numFrames),\n              values: new Float32Array(numFrames * 3)\n            };\n          }\n          if (options.useFirstFramePosition) {\n            if (i === 0) {\n              positionOffset = bone.position.clone();\n            }\n            bone.position.sub(positionOffset);\n          }\n          boneData.pos.times[i] = time;\n          bone.position.toArray(boneData.pos.values, i * 3);\n        }\n        if (!boneData.quat) {\n          boneData.quat = {\n            times: new Float32Array(numFrames),\n            values: new Float32Array(numFrames * 4)\n          };\n        }\n        boneData.quat.times[i] = time;\n        bone.quaternion.toArray(boneData.quat.values, i * 4);\n      }\n    }\n    mixer.update(delta);\n    source.updateMatrixWorld();\n  }\n  for (let i = 0; i < boneDatas.length; ++i) {\n    boneData = boneDatas[i];\n    if (boneData) {\n      if (boneData.pos) {\n        convertedTracks.push(\n          new VectorKeyframeTrack(\n            \".bones[\" + boneData.bone.name + \"].position\",\n            boneData.pos.times,\n            boneData.pos.values\n          )\n        );\n      }\n      convertedTracks.push(\n        new QuaternionKeyframeTrack(\n          \".bones[\" + boneData.bone.name + \"].quaternion\",\n          boneData.quat.times,\n          boneData.quat.values\n        )\n      );\n    }\n  }\n  mixer.uncacheAction(clip);\n  return new AnimationClip(clip.name, -1, convertedTracks);\n}\nfunction clone(source) {\n  const sourceLookup = /* @__PURE__ */ new Map();\n  const cloneLookup = /* @__PURE__ */ new Map();\n  const clone2 = source.clone();\n  parallelTraverse(source, clone2, function(sourceNode, clonedNode) {\n    sourceLookup.set(clonedNode, sourceNode);\n    cloneLookup.set(sourceNode, clonedNode);\n  });\n  clone2.traverse(function(node) {\n    if (!node.isSkinnedMesh)\n      return;\n    const clonedMesh = node;\n    const sourceMesh = sourceLookup.get(node);\n    const sourceBones = sourceMesh.skeleton.bones;\n    clonedMesh.skeleton = sourceMesh.skeleton.clone();\n    clonedMesh.bindMatrix.copy(sourceMesh.bindMatrix);\n    clonedMesh.skeleton.bones = sourceBones.map(function(bone) {\n      return cloneLookup.get(bone);\n    });\n    clonedMesh.bind(clonedMesh.skeleton, clonedMesh.bindMatrix);\n  });\n  return clone2;\n}\nfunction getBoneByName(name, skeleton) {\n  for (let i = 0, bones = getBones(skeleton); i < bones.length; i++) {\n    if (name === bones[i].name)\n      return bones[i];\n  }\n}\nfunction getBones(skeleton) {\n  return Array.isArray(skeleton) ? skeleton : skeleton.bones;\n}\nfunction getHelperFromSkeleton(skeleton) {\n  const source = new SkeletonHelper(skeleton.bones[0]);\n  source.skeleton = skeleton;\n  return source;\n}\nfunction parallelTraverse(a, b, callback) {\n  callback(a, b);\n  for (let i = 0; i < a.children.length; i++) {\n    parallelTraverse(a.children[i], b.children[i], callback);\n  }\n}\nconst SkeletonUtils = { retarget, retargetClip, clone };\nexport {\n  SkeletonUtils\n};\n//# sourceMappingURL=SkeletonUtils.js.map\n","import * as React from 'react';\nimport Area from '@/components/Area';\nimport { Canvas, GroupProps, useGraph } from '@react-three/fiber';\nimport { OrbitControls, useGLTF, useTexture } from '@react-three/drei';\nimport glb from './stacy.glb';\nimport jpg from './stacy.texture.glb';\nimport { SkeletonUtils } from 'three-stdlib';\nimport { SkinnedMesh, Vector4 } from 'three';\n\nfunction Model({ ...props }: { pose: number } & GroupProps) {\n  const { scene } = useGLTF(glb);\n  const clone = React.useMemo(() => SkeletonUtils.clone(scene), [scene]);\n  const { nodes } = useGraph(clone);\n  const stacy = nodes.stacy as SkinnedMesh;\n  const texture = useTexture(jpg);\n  texture.flipY = false;\n  return (\n    <group {...props}>\n      {/* <primitive object={nodes.mixamorigHips} /> */}\n      <skinnedMesh\n        castShadow\n        receiveShadow\n        geometry={stacy.geometry}\n        skeleton={stacy.skeleton}\n        rotation={[Math.PI / 2, 0, 0]}\n        scale={[0.01, 0.01, 0.01]}\n      >\n        <primitive object={nodes.mixamorigHips} />\n        <meshStandardMaterial map={texture} />\n      </skinnedMesh>\n    </group>\n  );\n}\n\nexport type Props = {};\n\nfunction App01(props: Props) {\n  const {} = props;\n\n  return (\n    <Area css={{ height: '400px' }}>\n      {() => (\n        <>\n          <Canvas shadows camera={{ position: [1, 1.5, 2.5], fov: 50, viewport: new Vector4(0, 600, 0, 0) }}>\n            {/* <Canvas shadows> */}\n            <ambientLight intensity={0.5} />\n            <directionalLight\n              position={[-5, 5, 5]}\n              castShadow\n              shadow-mapSize-width={1024}\n              shadow-mapSize-height={1024}\n            />\n            {/* <Bounds fit clip observe> */}\n            {/* <PivotControls>\n              <mesh>\n                <boxGeometry args={[1, 1, 1]} />\n              </mesh>\n            </PivotControls> */}\n            <group position={[0, -1, 0]}>\n              <React.Suspense fallback={null}>\n                <Model pose={4} position={[0, 0, 0]} />\n              </React.Suspense>\n            </group>\n            {/* </Bounds> */}\n            <mesh rotation={[-0.5 * Math.PI, 0, 0]} position={[0, -1, 0]} receiveShadow>\n              <planeGeometry args={[10, 10, 1, 1]} />\n              <shadowMaterial transparent opacity={0.2} />\n            </mesh>\n            <gridHelper />\n            <axesHelper />\n            {/* <perspectiveCamera position={[1, 1.5, 2.5]} fov={50} /> */}\n            <OrbitControls makeDefault />\n          </Canvas>\n        </>\n      )}\n    </Area>\n  );\n}\n\nexport default React.memo(App01);\n","import * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nfunction useAnimations(clips, root) {\n  const ref = React.useRef(null);\n  const [actualRef] = React.useState(() => root ? root instanceof Object3D ? {\n    current: root\n  } : root : ref);\n  const [mixer] = React.useState(() => new AnimationMixer(undefined));\n  React.useLayoutEffect(() => {\n    if (root) actualRef.current = root instanceof Object3D ? root : root.current;\n    mixer._root = actualRef.current;\n  });\n  const lazyActions = React.useRef({});\n  const api = React.useMemo(() => {\n    const actions = {};\n    clips.forEach(clip => Object.defineProperty(actions, clip.name, {\n      enumerable: true,\n      get() {\n        if (actualRef.current) {\n          return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n        }\n      },\n      configurable: true\n    }));\n    return {\n      ref: actualRef,\n      clips,\n      actions,\n      names: clips.map(c => c.name),\n      mixer\n    };\n  }, [clips]);\n  useFrame((state, delta) => mixer.update(delta));\n  React.useEffect(() => {\n    const currentRoot = actualRef.current;\n    return () => {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      mixer.stopAllAction();\n      Object.values(api.actions).forEach(action => {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  return api;\n}\n\nexport { useAnimations };\n","import * as React from 'react';\nimport Area from '@/components/Area';\nimport { Canvas, GroupProps, useGraph } from '@react-three/fiber';\nimport { OrbitControls, useAnimations, useGLTF, useTexture, Text } from '@react-three/drei';\nimport glb from './stacy.glb';\nimport jpg from './stacy.texture.glb';\nimport { SkeletonUtils } from 'three-stdlib';\nimport { SkinnedMesh, Vector4 } from 'three';\n\nfunction Model({ initialPose, ...props }: { initialPose: number } & GroupProps) {\n  const { scene, animations } = useGLTF(glb);\n  const clone = React.useMemo(() => SkeletonUtils.clone(scene), [scene]);\n  const { nodes } = useGraph(clone);\n  const stacy = nodes.stacy as SkinnedMesh;\n  const texture = useTexture(jpg);\n  texture.flipY = false;\n\n  // animation index\n  const [index, setIndex] = React.useState(initialPose);\n\n  // Extract animation actions\n  const { ref, names, actions } = useAnimations(animations);\n  const name = names[index];\n\n  // Change animation when the index changes\n  React.useEffect(() => {\n    const action = actions[name];\n    // Reset and fade in animation after an index has been changed\n    action?.reset().fadeIn(0.5).play();\n    // In the clean-up phase, fade it out\n    return () => {\n      action?.fadeOut(0.5);\n    };\n  }, [actions, name]);\n\n  // console.log('Model', { ref, names, actions });\n  return (\n    <group {...props}>\n      <group\n        rotation={[Math.PI / 2, 0, 0]}\n        scale={[0.01, 0.01, 0.01]}\n        onClick={() => setIndex((index + 1) % names.length)}\n      >\n        <primitive object={nodes.mixamorigHips} />\n        <skinnedMesh\n          ref={(r) => (ref.current = r)}\n          castShadow\n          receiveShadow\n          geometry={stacy.geometry}\n          skeleton={stacy.skeleton}\n        >\n          <meshStandardMaterial map={texture} />\n        </skinnedMesh>\n      </group>\n      <Text position={[0, 2, -1]} color={'black'} anchorX=\"center\" anchorY=\"middle\">\n        {name}\n      </Text>\n    </group>\n  );\n}\n\nexport type Props = {};\n\nfunction App02(props: Props) {\n  const {} = props;\n\n  return (\n    <Area css={{ height: '400px' }}>\n      {() => (\n        <>\n          <Canvas shadows camera={{ position: [1, 1.5, 2.5], fov: 50, viewport: new Vector4(0, 600, 0, 0) }}>\n            {/* <Canvas shadows> */}\n            <ambientLight intensity={0.5} />\n            <directionalLight\n              position={[-5, 5, 5]}\n              castShadow\n              shadow-mapSize-width={1024}\n              shadow-mapSize-height={1024}\n            />\n            {/* <Bounds fit clip observe> */}\n            {/* <PivotControls>\n              <mesh>\n                <boxGeometry args={[1, 1, 1]} />\n              </mesh>\n            </PivotControls> */}\n            <group position={[0, -1, 0]}>\n              <React.Suspense fallback={null}>\n                <Model initialPose={8} position={[0, 0, 0]} />\n              </React.Suspense>\n            </group>\n            {/* </Bounds> */}\n            <mesh rotation={[-0.5 * Math.PI, 0, 0]} position={[0, -1, 0]} receiveShadow>\n              <planeGeometry args={[10, 10, 1, 1]} />\n              <shadowMaterial transparent opacity={0.2} />\n            </mesh>\n            <gridHelper />\n            <axesHelper />\n            {/* <perspectiveCamera position={[1, 1.5, 2.5]} fov={50} /> */}\n            <OrbitControls makeDefault />\n          </Canvas>\n        </>\n      )}\n    </Area>\n  );\n}\n\nexport default React.memo(App02);\n",null,"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Text as Text$1, preloadFont } from 'troika-three-text';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\n\nconst Text = /* @__PURE__ */React.forwardRef(({\n  sdfGlyphSize = 64,\n  anchorX = 'center',\n  anchorY = 'middle',\n  font,\n  fontSize = 1,\n  children,\n  characters,\n  onSync,\n  ...props\n}, ref) => {\n  const invalidate = useThree(({\n    invalidate\n  }) => invalidate);\n  const [troikaMesh] = React.useState(() => new Text$1());\n  const [nodes, text] = React.useMemo(() => {\n    const n = [];\n    let t = '';\n    React.Children.forEach(children, child => {\n      if (typeof child === 'string' || typeof child === 'number') {\n        t += child;\n      } else {\n        n.push(child);\n      }\n    });\n    return [n, t];\n  }, [children]);\n  suspend(() => new Promise(res => preloadFont({\n    font,\n    characters\n  }, res)), ['troika-text', font, characters]);\n  React.useLayoutEffect(() => void troikaMesh.sync(() => {\n    invalidate();\n    if (onSync) onSync(troikaMesh);\n  }));\n  React.useEffect(() => {\n    return () => troikaMesh.dispose();\n  }, [troikaMesh]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: troikaMesh,\n    ref: ref,\n    font: font,\n    text: text,\n    anchorX: anchorX,\n    anchorY: anchorY,\n    fontSize: fontSize,\n    sdfGlyphSize: sdfGlyphSize\n  }, props), nodes);\n});\n\nexport { Text };\n","import * as React from 'react';\n\n// import Anchor from './Anchor';\n\nconst Footer = React.memo(() => (\n  <>\n    {/* <footer className=\"bg-white border-t border-gray-400 shadow\">\n        <div className=\"container flex max-w-4xl py-8 mx-auto\">\n          <div className=\"flex flex-wrap w-full mx-auto\">\n            <div className=\"flex w-full md:w-1/2\">\n              <div className=\"px-8\">\n                <h3 className=\"font-bold text-gray-900\">About</h3>\n                <p className=\"py-4 text-sm text-gray-600\">My blog</p>\n              </div>\n            </div>\n\n            <div className=\"flex w-full md:w-1/2\">\n              <div className=\"px-8\">\n                <h3 className=\"font-bold text-gray-900\">Social</h3>\n                <ul className=\"items-center pt-3 text-sm list-reset\">\n                  <li>\n                    <Anchor>Add social link</Anchor>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer> */}\n  </>\n));\n\nexport default Footer;\n","import { useRouter } from 'next/dist/client/router';\nimport Link from 'next/link';\n\nimport * as React from 'react';\n\ntype MenuItem = {\n  link: string;\n  text: string;\n};\n\nconst MENU_ITEMS: MenuItem[] = [\n  {\n    link: '/',\n    text: 'Home',\n  },\n  // {\n  //   link: '/about',\n  //   text: 'About',\n  // },\n];\n\nconst Header = React.memo(() => {\n  const router = useRouter();\n  const [openMenu, setOpenMenu] = React.useState(false);\n  // console.log(`Header openMenu=${openMenu}`);\n  return (\n    <nav className=\"w-full\">\n      <div\n        id=\"progress\"\n        className=\"top-0 z-20 h-1\"\n        style={{\n          background: 'linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)',\n        }}\n      />\n\n      <div className=\"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl\">\n        <div className=\"pl-4\">\n          <Link\n            legacyBehavior\n            className=\"text-xl font-extrabold text-gray-900 no-underline hover:no-underline\"\n            href=\"/\"\n          >\n            lifetime trails\n          </Link>\n        </div>\n\n        <div className=\"block pr-4 lg:hidden\">\n          <button\n            id=\"nav-toggle\"\n            type=\"button\"\n            className=\"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none\"\n            onMouseDown={(e) => e.preventDefault()}\n            onClick={() => setOpenMenu(!openMenu)}\n            onBlur={() => setOpenMenu(false)}\n          >\n            <svg className=\"w-3 h-3 fill-current\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n              <title>Menu</title>\n              <path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\" />\n            </svg>\n          </button>\n        </div>\n\n        <div\n          id=\"nav-content\"\n          className={`bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ${\n            openMenu ? 'block' : 'hidden'\n          }`}\n        >\n          <ul className=\"items-center justify-end flex-1 list-reset lg:flex\">\n            {MENU_ITEMS.map(({ link, text }) => (\n              <li key={link} className=\"mr-3\">\n                <Link\n                  legacyBehavior\n                  className={\n                    router.pathname === link\n                      ? 'inline-block py-2 px-4 text-gray-900 font-bold no-underline'\n                      : 'inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4'\n                  }\n                  href={link}\n                >\n                  {text}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n});\n\nexport default Header;\n","import Head from 'next/head';\n\nimport React, { PropsWithChildren } from 'react';\n\nimport Footer from './Footer';\nimport Header from './Header';\n\n// import typography from '../utils/typography';\n\ntype Props = PropsWithChildren<{\n  title?: string;\n}>;\n\nconst Layout = React.memo(({ children, title = 'This is the default title' }: Props) => (\n  <div className=\"leading-normal tracking-normal bg-gray-100 min-h-screen\">\n    <Head>\n      <title>{title}</title>\n      <meta charSet=\"utf-8\" />\n      <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n      {/* typography */}\n      {/* <TypographyStyle typography={typography} /> */}\n    </Head>\n    <Header />\n    <div className=\"container w-full px-4 pb-10 mx-auto md:max-w-3xl\">{children}</div>\n    <Footer />\n  </div>\n));\n\nexport default Layout;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /* @__PURE__ */React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  keyEvents = false,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const setEvents = useThree(state => state.setEvents);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    if (keyEvents) {\n      controls.connect(keyEvents === true ? explDomElement : keyEvents);\n    }\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [keyEvents, explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n    const onStartCb = e => {\n      if (onStart) onStart(e);\n    };\n    const onEndCb = e => {\n      if (onEnd) onEnd(e);\n    };\n    controls.addEventListener('change', callback);\n    controls.addEventListener('start', onStartCb);\n    controls.addEventListener('end', onEndCb);\n    return () => {\n      controls.removeEventListener('start', onStartCb);\n      controls.removeEventListener('end', onEndCb);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate, setEvents]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/blogs/2025-06-06-r3f-gltf-animations\",\n      function () {\n        return require(\"private-next-pages/blogs/2025-06-06-r3f-gltf-animations/index.page.mdx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/blogs/2025-06-06-r3f-gltf-animations\"])\n      });\n    }\n  ","import React from 'react';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst Context = React.createContext<any>({});\n\nexport type Props = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  staticProps: any;\n  children?: React.ReactNode;\n};\n\nexport function BlogContextProvider({ staticProps, children }: Props) {\n  return <Context.Provider value={staticProps}>{children}</Context.Provider>;\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function useBlogPostContext() {\n  return React.useContext(Context);\n}\n","import * as React from 'react';\nimport { useLayoutEffect, useEffect, useMemo } from 'react';\nimport { TextureLoader, Texture as Texture$1 } from 'three';\nimport { useThree, useLoader } from '@react-three/fiber';\n\nconst IsObject = url => url === Object(url) && !Array.isArray(url) && typeof url !== 'function';\nfunction useTexture(input, onLoad) {\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(TextureLoader, IsObject(input) ? Object.values(input) : input);\n  useLayoutEffect(() => {\n    onLoad == null || onLoad(textures);\n  }, [onLoad]);\n\n  // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n  // NOTE: only available for WebGLRenderer\n  useEffect(() => {\n    if ('initTexture' in gl) {\n      let textureArray = [];\n      if (Array.isArray(textures)) {\n        textureArray = textures;\n      } else if (textures instanceof Texture$1) {\n        textureArray = [textures];\n      } else if (IsObject(textures)) {\n        textureArray = Object.values(textures);\n      }\n      textureArray.forEach(texture => {\n        if (texture instanceof Texture$1) {\n          gl.initTexture(texture);\n        }\n      });\n    }\n  }, [gl, textures]);\n  const mappedTextures = useMemo(() => {\n    if (IsObject(input)) {\n      const keyed = {};\n      let i = 0;\n      for (const key in input) keyed[key] = textures[i++];\n      return keyed;\n    } else {\n      return textures;\n    }\n  }, [input, textures]);\n  return mappedTextures;\n}\nuseTexture.preload = url => useLoader.preload(TextureLoader, url);\nuseTexture.clear = input => useLoader.clear(TextureLoader, input);\n\n//\n\nconst Texture = ({\n  children,\n  input,\n  onLoad\n}) => {\n  const ret = useTexture(input, onLoad);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(ret));\n};\n\nexport { IsObject, Texture, useTexture };\n","import * as React from 'react';\n\nexport type Props = {\n  meta: MetaData;\n  isBlogPost?: boolean;\n};\n\nconst HeadPost = ({ meta, isBlogPost }: Props) => (\n  <>\n    <h1 className={`font-bold text-gray-800 mb-4 ${isBlogPost ? 'text-5xl mt-8 mb-8' : 'text-lg'}`}>{meta.title}</h1>\n    <div className=\"details\">\n      <p className=\"text-gray-500\">{meta.description}</p>\n      <p className=\"text-gray-400 text-right -mt-1\">\n        <span className=\"mr-4\">{meta.date}</span>\n      </p>\n    </div>\n  </>\n);\n\nexport default HeadPost;\n","import hljs from 'highlight.js';\n\nimport * as React from 'react';\nimport ReactUtterances from 'react-utterances';\n\nimport { BlogContextProvider } from './BlogPostContext';\nimport HeadPost from './HeadPost';\nimport Layout from './Layout';\n\nconst prd = process.env.NODE_ENV === 'production';\n\nexport type Props = React.PropsWithChildren<{\n  meta: MetaData;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/require-default-props\n  staticProps?: any;\n}>;\n\nexport default function BlogPost({ children, meta, staticProps }: Props) {\n  React.useEffect(() => {\n    // console.log('initHighlighting');\n    hljs.highlightAll();\n  }, []);\n  // console.log('BlogPost', { staticProps });\n  return (\n    <>\n      <Layout title={meta.title}>\n        <HeadPost meta={meta} isBlogPost />\n        <BlogContextProvider staticProps={staticProps}>\n          <article className=\"markdown\">{children}</article>\n        </BlogContextProvider>\n        {prd && <ReactUtterances repo=\"swcho/blog-comments\" type=\"pathname\" label=\"utterances\" theme=\"github-light\" />}\n      </Layout>\n    </>\n  );\n}\n"],"names":["Area","React","props","children","rest","ref","el","setEl","current","div","css","border","borderRadius","width","height","marginBottom","Model","scene","useGLTF","glb","clone","SkeletonUtils","nodes","useGraph","stacy","texture","useTexture","jpg","flipY","group","skinnedMesh","castShadow","receiveShadow","geometry","skeleton","rotation","Math","PI","scale","primitive","object","mixamorigHips","meshStandardMaterial","map","App01","Canvas","shadows","camera","position","fov","viewport","Vector4","ambientLight","intensity","directionalLight","shadow-mapSize-width","shadow-mapSize-height","fallback","pose","mesh","planeGeometry","args","shadowMaterial","transparent","opacity","gridHelper","axesHelper","OrbitControls","makeDefault","initialPose","animations","index","setIndex","names","actions","useAnimations","name","action","reset","play","fadeOut","onClick","length","r","Text","color","anchorX","anchorY","App02","meta","title","description","date","readTime","BlogPost","Footer","MENU_ITEMS","link","text","Header","router","useRouter","openMenu","setOpenMenu","nav","className","id","style","background","Link","legacyBehavior","href","button","type","onMouseDown","e","preventDefault","onBlur","svg","viewBox","xmlns","path","d","ul","li","pathname","Layout","Head","charSet","content","Context","BlogContextProvider","staticProps","Provider","value","useBlogPostContext","isBlogPost","HeadPost","h1","p","span","hljs","article","ReactUtterances","repo","label","theme"],"sourceRoot":"","ignoreList":[3,5,8,12,15]}