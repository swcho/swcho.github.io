(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{1568:(e,n,r)=>{"use strict";r.d(n,{A:()=>s});var t=r(18153),l=r(14232),i=r(6170);let a=l.forwardRef((e,n)=>{let{children:r,...a}=e,[s,o]=l.useState(null),d=l.useCallback(e=>{o(e),"function"==typeof n?n(e):n&&"current"in n&&(n.current=e)},[n]),[c,h]=l.useState(0);return(0,t.FD)("div",{ref:d,css:{position:"relative",border:"1px solid",borderRadius:"4px",width:"100%",height:"300px",marginBottom:"1rem"},...a,children:[(0,t.Y)("button",{onClick:()=>h(e=>e+1),css:{position:"absolute",right:0,zIndex:1},children:(0,t.Y)(i.A,{})}),s&&(0,t.Y)(l.Fragment,{children:r(s)},c)]})}),s=l.memo(a)},36453:(e,n,r)=>{"use strict";r.d(n,{Nk:()=>g,ZP:()=>h,o8:()=>d});var t=r(18153),l=r(88360),i=r(14232),a=r(73146),s=r.n(a);let o=i.createContext(null);function d(e){let{children:n}=e,r=function(){let[e,n]=i.useState(null),[r,t]=i.useState(null);return{vertexShader:e,fragmentShader:r,setVertexShader:n,setFragmentShader:t}}();return(0,t.Y)(o.Provider,{value:r,children:n})}function c(){let e=i.useContext(o);if(null==e)throw Error("useTslDebugContext must be used within a TslDebugProvider");return e}function h(e){let{meshName:n}=e,{scene:r,camera:a,gl:s}=(0,l.C)(),{setVertexShader:o,setFragmentShader:d}=c();return i.useEffect(()=>{let e=r.getObjectByName(n);if(null==e)return void console.warn("TslDebug: mesh not found",n);s.debug.getShaderAsync(r,a,e).then(e=>{o(e.vertexShader),d(e.fragmentShader)})},[]),console.log("TslDebug"),(0,t.Y)(t.FK,{})}let m="300px";function g(e){let{showVertexShader:n,showFragmentShader:r}=e,{vertexShader:l,fragmentShader:a}=c();i.useEffect(()=>{s().highlightAll()},[l,a]);let o=i.useMemo(()=>{let e=[];return n&&e.push("1fr"),r&&e.push("1fr"),e.join(" ")},[n,r]);return(0,t.FD)("div",{style:{display:"grid",gridTemplateColumns:o},children:[n&&(0,t.FD)("div",{children:[(0,t.Y)("h6",{style:{margin:0},children:"Vertex Shader WGSL 생성 코드"}),(0,t.Y)("pre",{style:{whiteSpace:"pre-wrap",overflow:"auto",height:m},children:(0,t.Y)("code",{className:"hljs language-glsl",children:l})})]}),r&&(0,t.FD)("div",{children:[(0,t.Y)("h6",{style:{margin:0},children:"Fragment Shader WGSL생성 코드"}),(0,t.Y)("pre",{style:{whiteSpace:"pre-wrap",overflow:"auto",height:m},children:(0,t.Y)("code",{className:"hljs language-glsl",children:a})})]})]})}},49034:(e,n,r)=>{"use strict";r.d(n,{A:()=>g});var t=r(18153),l=r(77328),i=r.n(l),a=r(14232);let s=a.memo(()=>(0,t.Y)(t.FK,{}));var o=r(71745),d=r(48230),c=r.n(d);let h=[{link:"/",text:"Home"}],m=a.memo(()=>{let e=(0,o.useRouter)(),[n,r]=a.useState(!1);return(0,t.FD)("nav",{className:"w-full",children:[(0,t.Y)("div",{id:"progress",className:"top-0 z-20 h-1",style:{background:"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)"}}),(0,t.FD)("div",{className:"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl",children:[(0,t.Y)("div",{className:"pl-4",children:(0,t.Y)(c(),{className:"text-xl font-extrabold text-gray-900 no-underline hover:no-underline",href:"/",children:"lifetime trails"})}),(0,t.Y)("div",{className:"block pr-4 lg:hidden",children:(0,t.Y)("button",{id:"nav-toggle",type:"button",className:"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none",onMouseDown:e=>e.preventDefault(),onClick:()=>r(!n),onBlur:()=>r(!1),children:(0,t.FD)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.Y)("title",{children:"Menu"}),(0,t.Y)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,t.Y)("div",{id:"nav-content",className:"bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ".concat(n?"block":"hidden"),children:(0,t.Y)("ul",{className:"items-center justify-end flex-1 list-reset lg:flex",children:h.map(n=>{let{link:r,text:l}=n;return(0,t.Y)("li",{className:"mr-3",children:(0,t.Y)(c(),{className:e.pathname===r?"inline-block py-2 px-4 text-gray-900 font-bold no-underline":"inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4",href:r,children:l})},r)})})})]})]})}),g=a.memo(e=>{let{children:n,title:r="This is the default title"}=e;return(0,t.FD)("div",{className:"leading-normal tracking-normal bg-gray-100 min-h-screen",children:[(0,t.FD)(i(),{children:[(0,t.Y)("title",{children:r}),(0,t.Y)("meta",{charSet:"utf-8"}),(0,t.Y)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,t.Y)(m,{}),(0,t.Y)("div",{className:"container w-full px-4 pb-10 mx-auto md:max-w-3xl",children:n}),(0,t.Y)(s,{})]})})},53338:(e,n,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/2025-11-15-tsl-start",function(){return r(71590)}])},60158:(e,n,r)=>{"use strict";r.d(n,{J:()=>s,j:()=>a});var t=r(18153),l=r(14232);let i=l.createContext({});function a(e){let{staticProps:n,children:r}=e;return(0,t.Y)(i.Provider,{value:n,children:r})}function s(){return l.useContext(i)}},71590:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>D,meta:()=>y});var t=r(37876),l=r(91668),i=r(91013),a=r(18153),s=r(1568),o=r(49082),d=r(13462),c=r(24672),h=r(88360),m=r(45302),g=r(14232),u=r(66744),p=r(30539),x=r(36453);(0,h.e)(u);let b=g.memo(function(){let e=g.useMemo(()=>p.yWT("crimson"),[]);return(0,a.FD)(x.o8,{children:[(0,a.Y)(s.A,{children:()=>(0,a.FD)(m.Hl,{camera:{position:[0,0,1.8]},gl:async e=>{let n=new u.WebGPURenderer(e);return n.capabilities={getMaxAnisotropy:()=>0},await n.init(),n},children:[(0,a.Y)("ambientLight",{}),(0,a.Y)("pointLight",{position:[10,10,10]}),(0,a.Y)("group",{children:(0,a.FD)("mesh",{name:"node-mesh",children:[(0,a.Y)("boxGeometry",{args:[1,1,1]}),(0,a.Y)("nodeMaterial",{fragmentNode:e}),(0,a.Y)(x.ZP,{meshName:"node-mesh"})]})}),(0,a.Y)(o.N,{enableZoom:!1}),(0,a.Y)("gridHelper",{args:[10,10]}),(0,a.Y)(d.z,{alignment:"bottom-right",margin:[80,80],children:(0,a.Y)(c.t,{axisColors:["red","green","blue"],labelColor:"black"})})]})}),(0,a.Y)(x.Nk,{showVertexShader:!0,showFragmentShader:!0})]})});var f=r(66691);let Y={src:"/_next/static/media/grid.262f62fd.png"};function j(){let e=g.useMemo(()=>p.wHr(new f.Tap().load(Y.src)),[]);return(0,a.FD)(m.Hl,{camera:{position:[0,0,1.8]},gl:async e=>{let n=new u.WebGPURenderer(e);return n.capabilities={getMaxAnisotropy:()=>0},await n.init(),n},children:[(0,a.Y)("ambientLight",{}),(0,a.Y)("pointLight",{position:[10,10,10]}),(0,a.Y)("group",{children:(0,a.FD)("mesh",{name:"node-mesh",children:[(0,a.Y)("boxGeometry",{args:[1,1,1]}),(0,a.Y)("nodeMaterial",{fragmentNode:e}),(0,a.Y)(x.ZP,{meshName:"node-mesh"})]})}),(0,a.Y)(o.N,{enableZoom:!1}),(0,a.Y)("gridHelper",{args:[10,10]}),(0,a.Y)(d.z,{alignment:"bottom-right",margin:[80,80],children:(0,a.Y)(c.t,{axisColors:["red","green","blue"],labelColor:"black"})})]})}(0,h.e)(u);let w=g.memo(function(e){let{}=e;return(0,a.FD)(x.o8,{children:[(0,a.Y)(s.A,{children:()=>(0,a.Y)(j,{})}),(0,a.Y)(x.Nk,{showVertexShader:!0,showFragmentShader:!0})]})});function v(){return(0,a.FD)(m.Hl,{camera:{position:[0,0,1.8]},gl:async e=>{let n=new u.WebGPURenderer(e);return n.capabilities={getMaxAnisotropy:()=>0},await n.init(),n},children:[(0,a.Y)("ambientLight",{}),(0,a.Y)("pointLight",{position:[10,10,10]}),(0,a.Y)("group",{children:(0,a.FD)("mesh",{name:"node-mesh",children:[(0,a.Y)("boxGeometry",{args:[1,1,1]}),(0,a.Y)("nodeMaterial",{fragmentNode:p.pot}),(0,a.Y)(x.ZP,{meshName:"node-mesh"})]})}),(0,a.Y)(o.N,{enableZoom:!1}),(0,a.Y)("gridHelper",{args:[10,10]}),(0,a.Y)(d.z,{alignment:"bottom-right",margin:[80,80],children:(0,a.Y)(c.t,{axisColors:["red","green","blue"],labelColor:"black"})})]})}(0,h.e)(u);let N=g.memo(function(e){let{}=e;return(0,a.FD)(x.o8,{children:[(0,a.Y)(s.A,{children:()=>(0,a.Y)(v,{})}),(0,a.Y)(x.Nk,{showVertexShader:!0,showFragmentShader:!0})]})}),y={title:"TSL: Node와 색상, 텍스쳐, 위치 정보 사용하기",description:"Three.js Shading Language(TSL)을 사용하여 셰이더 프로그래밍을 쉽게 하는 방법을 알아봅니다. 색상, 텍스처, 위치 정보를 활용하는 간단한 예제를 살펴봅니다.",date:"2025-11-15",readTime:5},S=e=>{let{children:n}=e;return(0,t.jsx)(i.A,{meta:y,children:n})};function T(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{children:"소개"}),"\n",(0,t.jsx)(n.p,{children:"지난 포스팅에 이어 TSL에 대한 기초적인 내용을 다룹니다."}),"\n",(0,t.jsx)(n.p,{children:"TSL(Three.js Shading Language)은 Three.js에서 셰이더 프로그래밍을 보다 쉽게 할 수 있도록 도와주는 라이브러리입니다."}),"\n",(0,t.jsxs)(n.p,{children:["이번 포스팅에서는 SBCODE 사이트에서 제공하는 ",(0,t.jsx)(n.a,{href:"https://sbcode.net/tsl/",children:"Three.js Shading Language Tutorials"}),"의 내용을 살펴보겠습니다."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://sbcode.net/tsl/getting-started/",children:"Getting Started - Three.js Shading Language Tutorials"})}),"\n"]}),"\n",(0,t.jsx)(n.h1,{children:"기본 설정"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"function App01() {\n  const fragmentNode = React.useMemo(() => TSL.color('crimson'), []); // 2. 간단한 색상 노드 생성\n  return (\n    <TslDebugProvider>\n      <Area>\n        {() => (\n          <Canvas\n            camera={{ position: [0, 0, 1.8] }}\n            gl={async (props) => {\n              // 1. WebGPU 렌더러 설정\n              const renderer = new THREE.WebGPURenderer(props as any);\n              renderer['capabilities'] = {\n                getMaxAnisotropy() {\n                  return 0;\n                },\n              };\n              await renderer.init();\n              return renderer;\n            }}\n          >\n            <ambientLight />\n            <pointLight position={[10, 10, 10]} />\n            <group>\n              <mesh name=\"node-mesh\">\n                <boxGeometry args={[1, 1, 1]} />\n                <nodeMaterial fragmentNode={fragmentNode} /> {/* 3. 노드 머티리얼에 프래그먼트 노드 연결 */}\n                <TslDebug meshName={'node-mesh'} />\n              </mesh>\n            </group>\n            <OrbitControls />\n            <gridHelper args={[10, 10]} />\n            <GizmoHelper alignment=\"bottom-right\" margin={[80, 80]}>\n              <GizmoViewport axisColors={['red', 'green', 'blue']} labelColor=\"black\" />\n            </GizmoHelper>\n          </Canvas>\n        )}\n      </Area>\n      <TslDebugViewer showFragmentShader />\n    </TslDebugProvider>\n  );\n}\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["WebGPU 렌더러 설정: ",(0,t.jsx)(n.code,{children:"gl"})," prop을 사용하여 Three.js의 WebGPU 렌더러를 설정합니다."]}),"\n",(0,t.jsxs)(n.li,{children:["간단한 색상 노드 생성: ",(0,t.jsx)(n.code,{children:"TSL.color('crimson')"}),"를 사용하여 빨간색을 반환하는 프래그먼트 노드를 생성합니다."]}),"\n",(0,t.jsxs)(n.li,{children:["노드 머티리얼에 프래그먼트 노드 연결: 생성한 프래그먼트 노드를 ",(0,t.jsx)(n.code,{children:"nodeMaterial"})," 컴포넌트의 ",(0,t.jsx)(n.code,{children:"fragmentNode"})," prop에 연결하여 메시에 적용합니다."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"TSL은 변수와 함수를 노드라는 개념을 사용하여 조합합니다."}),"\n",(0,t.jsx)(n.p,{children:"기존 fragment shader 코드 대신 색상 노드를 정의하여 material에 적용합니다."}),"\n",(0,t.jsx)(n.p,{children:"아래는 위 코드의 실행 결과입니다. 하단에는 TSL가 생성한 WGSL 코드를 표시하였습니다."}),"\n",(0,t.jsx)(b,{}),"\n",(0,t.jsx)(n.h1,{children:"텍스쳐 사용"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const fragmentNode = React.useMemo(() => TSL.texture(new THREE.TextureLoader().load(srcGrid.src)), []);\n"})}),"\n",(0,t.jsx)(n.p,{children:"텍스처를 적용해 보겠습니다."}),"\n",(0,t.jsx)(w,{}),"\n",(0,t.jsxs)(n.p,{children:["생성한 shader 코드를 살펴 보면, ",(0,t.jsx)(n.code,{children:"uv"})," 좌표가 ",(0,t.jsx)(n.code,{children:"nodeVarying3"})," varying 변수로 전달되는 것을 볼 수 있습니다."]}),"\n",(0,t.jsx)(n.p,{children:"결국 정육면체의 각 면에 텍스처가 올바르게 매핑되도록 하기 위해 TSL이 자동으로 varying 변수를 생성하고 전달하는 것을 알 수 있습니다."}),"\n",(0,t.jsx)(n.h1,{children:"Position 정보를 색상으로 사용"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"<nodeMaterial fragmentNode={TSL.positionLocal} />\n"})}),"\n",(0,t.jsxs)(n.p,{children:["이번에는 TSL에서 제공하는 ",(0,t.jsx)(n.code,{children:"positionLocal"})," 노드를 사용하여 정육면체의 로컬 좌표를 색상으로 매핑해 보았습니다."]}),"\n",(0,t.jsx)(N,{}),"\n",(0,t.jsxs)(n.p,{children:["vertex shader에서 ",(0,t.jsx)(n.code,{children:"position"})," 값을 ",(0,t.jsx)(n.code,{children:"positionLocal"})," varying 변수로 전달하면 보간과정을 통해 각 픽셀에 대한 색상을 결정하는 fragment shader로 전달합니다."]}),"\n",(0,t.jsx)(n.p,{children:"fragment shader에서는 이 값을 색상으로 사용하여 정육면체의 각 면이 좌표에 따라 색상이 변하는 것을 확인할 수 있습니다."}),"\n",(0,t.jsx)(n.h1,{children:"마치며"}),"\n",(0,t.jsx)(n.p,{children:"이번 포스팅에서는 TSL의 간단한 예제를 살펴보았습니다."}),"\n",(0,t.jsx)(n.p,{children:"node라는 개념을 사용하여 fragment shader를 구성해보고 색상, 텍스처, 위치 정보를 활용하는 방법을 알아보았습니다."})]})}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.jsx)(S,{...e,children:(0,t.jsx)(T,{...e})})}},85419:(e,n,r)=>{"use strict";r.d(n,{A:()=>l});var t=r(18153);r(14232);let l=e=>{let{meta:n,isBlogPost:r}=e;return(0,t.FD)(t.FK,{children:[(0,t.Y)("h1",{className:"font-bold text-gray-800 mb-4 ".concat(r?"text-5xl mt-8 mb-8":"text-lg"),children:n.title}),(0,t.FD)("div",{className:"details",children:[(0,t.Y)("p",{className:"text-gray-500",children:n.description}),(0,t.Y)("p",{className:"text-gray-400 text-right -mt-1",children:(0,t.Y)("span",{className:"mr-4",children:n.date})})]})]})}},91013:(e,n,r)=>{"use strict";r.d(n,{A:()=>h});var t=r(18153),l=r(73146),i=r.n(l),a=r(14232),s=r(86089),o=r(60158),d=r(85419),c=r(49034);function h(e){let{children:n,meta:r,staticProps:l}=e;return a.useEffect(()=>{i().highlightAll()},[]),(0,t.Y)(t.FK,{children:(0,t.FD)(c.A,{title:r.title,children:[(0,t.Y)(d.A,{meta:r,isBlogPost:!0}),(0,t.Y)(o.j,{staticProps:l,children:(0,t.Y)("article",{className:"markdown",children:n})}),(0,t.Y)(s.Ay,{repo:"swcho/blog-comments",type:"pathname",label:"utterances",theme:"github-light"})]})})}}},e=>{e.O(0,[5334,7391,683,7544,5695,5302,2077,3629,5698,636,6593,8792],()=>e(e.s=53338)),_N_E=e.O()}]);
//# sourceMappingURL=2025-11-15-tsl-start-0739a10e8e3960fa.js.map