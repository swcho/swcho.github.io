{"version":3,"file":"static/chunks/pages/blogs/2025-07-26-r3f-scroll-offset-to-canvas-7319d3432e1f7eb5.js","mappings":"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","sources":["webpack://_N_E/./components/Area.tsx","webpack://_N_E/./pages/blogs/2025-07-26-r3f-scroll-offset-to-canvas/src/App01.tsx","webpack://_N_E/./pages/blogs/2025-07-26-r3f-scroll-offset-to-canvas/src/App02.tsx","webpack://_N_E/./pages/blogs/2025-07-26-r3f-scroll-offset-to-canvas/index.page.mdx","webpack://_N_E/?4f13","webpack://_N_E/./components/Footer.tsx","webpack://_N_E/./components/Header.tsx","webpack://_N_E/./components/Layout.tsx","webpack://_N_E/./components/BlogPostContext.tsx","webpack://_N_E/./components/HeadPost.tsx","webpack://_N_E/./components/BlogPost.tsx"],"sourcesContent":["import * as React from 'react';\n\nexport type Props = Omit<React.ComponentPropsWithRef<'div'>, 'children'> & {\n  children: (el: HTMLDivElement) => React.ReactNode;\n};\n\nconst Area = React.forwardRef<HTMLDivElement, Props>((props) => {\n  const { children, ...rest } = props;\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [el, setEl] = React.useState<HTMLDivElement>();\n  React.useEffect(() => {\n    setEl(ref.current!);\n  }, []);\n  // console.log('Area', { el });\n  return (\n    <div\n      ref={ref}\n      css={{ border: '1px solid', borderRadius: '4px', width: '100%', height: '300px', marginBottom: '1rem' }}\n      {...rest}\n    >\n      {el && children(el)}\n    </div>\n  );\n});\n\nexport default React.memo(Area);\n","import Area from '@/components/Area';\nimport { GizmoHelper, GizmoViewport, Html, OrbitControls, Text } from '@react-three/drei';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { range } from 'd3-array';\nimport * as React from 'react';\nimport * as THREE from 'three';\n\nfunction Box(props: React.ComponentProps<'mesh'> & { text: React.ReactNode; color: string }) {\n  const { text, color, ...rest } = props;\n  const [hovered, setHovered] = React.useState(false);\n  return (\n    <mesh onPointerOver={() => setHovered(true)} onPointerOut={() => setHovered(false)} {...rest}>\n      <boxGeometry args={[2, 2, 2]} />\n      <meshStandardMaterial color={hovered ? 'hotpink' : color} />\n      <Html position={[0, 0, 1]} center css={{ pointerEvents: 'none' }}>\n        {text}\n      </Html>\n    </mesh>\n  );\n}\n\nfunction Scene() {\n  const viewport = useThree((state) => state.viewport);\n  return (\n    <>\n      <Box text={<span>This is HTML</span>} color=\"aquamarine\" />\n      <Box text={<h1>H1 caption</h1>} color=\"lightblue\" position={[0, -viewport.height, 0]} />\n    </>\n  );\n}\n\nfunction ScrollContainer({\n  refScrollOffset,\n  children,\n}: React.PropsWithChildren<{ refScrollOffset: React.MutableRefObject<number> }>) {\n  const viewport = useThree((state) => state.viewport);\n  const refGroup = React.useRef<THREE.Group>(null);\n  useFrame(() => {\n    const group = refGroup.current;\n    if (group) {\n      group.position.y = viewport.height * refScrollOffset.current;\n    }\n  });\n  return <group ref={refGroup}>{children}</group>;\n}\n\nfunction ScrollTextDebug({\n  refScrollOffset,\n  ...rest\n}: Omit<React.ComponentProps<typeof Text>, 'children'> & { refScrollOffset: React.MutableRefObject<number> }) {\n  const refText = React.useRef<any>(null);\n  useFrame(() => {\n    const text = refText.current;\n    if (text) {\n      text.text = refScrollOffset.current.toFixed(2);\n    }\n  });\n  return (\n    <Text ref={refText} {...rest}>\n      -\n    </Text>\n  );\n}\n\nexport type Props = {};\n\nfunction App01(props: Props) {\n  const {} = props;\n  const refScroll = React.useRef<HTMLDivElement>(null);\n  const refScrollOffset = React.useRef(0);\n  return (\n    <Area css={{ position: 'relative', overflow: 'hidden' }}>\n      {(elParent) => (\n        <>\n          <Canvas eventSource={elParent} eventPrefix=\"client\" camera={{ position: [5, -5, 5] }}>\n            <ambientLight />\n            <pointLight position={[10, 0, 10]} />\n            <ScrollContainer refScrollOffset={refScrollOffset}>{/* <Scene /> */}</ScrollContainer>\n            <ScrollTextDebug refScrollOffset={refScrollOffset} position={[4, 0, 0]} scale={2} color={'blue'} />\n            <gridHelper args={[10, 10]} rotation={[Math.PI / 2, 0, 0]} />\n            <OrbitControls enableZoom={false} />\n            <axesHelper args={[5]} />\n            <GizmoHelper alignment=\"bottom-left\" margin={[80, 80]}>\n              <GizmoViewport></GizmoViewport>\n            </GizmoHelper>\n          </Canvas>\n          <div\n            ref={refScroll}\n            css={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', overflowY: 'scroll' }}\n            onScroll={(e) => {\n              const target = e.target as HTMLDivElement;\n              refScrollOffset.current = target.scrollTop / (target.scrollHeight - target.clientHeight);\n            }}\n          >\n            <div\n              css={{\n                // height: elParent.clientHeight * 2,\n                pointerEvents: 'none',\n                textAlign: 'right',\n                padding: '1rem',\n                color: 'red',\n              }}\n            >\n              {Array.from({ length: 10 }, (_, i) => (\n                <p>{i}</p>\n              ))}\n            </div>\n          </div>\n        </>\n      )}\n    </Area>\n  );\n}\n\nexport default React.memo(App01);\n","import Area from '@/components/Area';\nimport { GizmoHelper, GizmoViewport, Html, Text } from '@react-three/drei';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport * as React from 'react';\nimport * as THREE from 'three';\n\nfunction Box(props: React.ComponentProps<'mesh'> & { text: React.ReactNode; color: string }) {\n  const { text, color, ...rest } = props;\n  const [hovered, setHovered] = React.useState(false);\n  return (\n    <mesh onPointerOver={() => setHovered(true)} onPointerOut={() => setHovered(false)} {...rest}>\n      <boxGeometry args={[2, 2, 2]} />\n      <meshStandardMaterial color={hovered ? 'hotpink' : color} />\n      <Html position={[0, 0, 1]} center css={{ pointerEvents: 'none' }}>\n        {text}\n      </Html>\n    </mesh>\n  );\n}\n\nfunction Scene() {\n  const viewport = useThree((state) => state.viewport);\n  return (\n    <>\n      <Box text={<span>This is HTML</span>} color=\"aquamarine\" />\n      <Box text={<h1>H1 caption</h1>} color=\"lightblue\" position={[0, -viewport.height, 0]} />\n    </>\n  );\n}\n\nfunction ScrollContainer({\n  refScrollOffset,\n  children,\n}: React.PropsWithChildren<{ refScrollOffset: React.MutableRefObject<number> }>) {\n  const viewport = useThree((state) => state.viewport);\n  const refGroup = React.useRef<THREE.Group>(null);\n  useFrame(() => {\n    const group = refGroup.current;\n    if (group) {\n      group.position.y = viewport.height * refScrollOffset.current;\n    }\n  });\n  return <group ref={refGroup}>{children}</group>;\n}\n\nfunction ScrollTextDebug({\n  refScrollOffset,\n  ...rest\n}: Omit<React.ComponentProps<typeof Text>, 'children'> & { refScrollOffset: React.MutableRefObject<number> }) {\n  const refText = React.useRef<any>(null);\n  useFrame(() => {\n    const text = refText.current;\n    if (text) {\n      text.text = refScrollOffset.current.toFixed(2);\n    }\n  });\n  return (\n    <Text ref={refText} {...rest}>\n      -\n    </Text>\n  );\n}\n\nexport type Props = {};\n\nfunction App01(props: Props) {\n  const {} = props;\n  const refScroll = React.useRef<HTMLDivElement>(null);\n  const refScrollOffset = React.useRef(0);\n  return (\n    <Area css={{ position: 'relative', overflow: 'hidden' }}>\n      {(elParent) => (\n        <>\n          <Canvas eventSource={elParent} eventPrefix=\"client\">\n            <ambientLight />\n            <pointLight position={[10, 0, 10]} />\n            <ScrollContainer refScrollOffset={refScrollOffset}>\n              <Scene />\n            </ScrollContainer>\n            <ScrollTextDebug refScrollOffset={refScrollOffset} position={[4, 0, 0]} scale={2} />\n            <gridHelper args={[10, 10]} rotation={[Math.PI / 2, 0, 0]} />\n            {/* <OrbitControls /> */}\n            <axesHelper args={[5]} />\n            <GizmoHelper alignment=\"bottom-left\" margin={[80, 80]}>\n              <GizmoViewport></GizmoViewport>\n            </GizmoHelper>\n          </Canvas>\n          <div\n            ref={refScroll}\n            css={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', overflowY: 'scroll' }}\n            onScroll={(e) => {\n              const target = e.target as HTMLDivElement;\n              refScrollOffset.current = target.scrollTop / (target.scrollHeight - target.clientHeight);\n            }}\n          >\n            <div css={{ height: elParent.clientHeight * 2, pointerEvents: 'none' }}></div>\n          </div>\n        </>\n      )}\n    </Area>\n  );\n}\n\nexport default React.memo(App01);\n",null,"\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/blogs/2025-07-26-r3f-scroll-offset-to-canvas\",\n      function () {\n        return require(\"private-next-pages/blogs/2025-07-26-r3f-scroll-offset-to-canvas/index.page.mdx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/blogs/2025-07-26-r3f-scroll-offset-to-canvas\"])\n      });\n    }\n  ","import * as React from 'react';\n\n// import Anchor from './Anchor';\n\nconst Footer = React.memo(() => (\n  <>\n    {/* <footer className=\"bg-white border-t border-gray-400 shadow\">\n        <div className=\"container flex max-w-4xl py-8 mx-auto\">\n          <div className=\"flex flex-wrap w-full mx-auto\">\n            <div className=\"flex w-full md:w-1/2\">\n              <div className=\"px-8\">\n                <h3 className=\"font-bold text-gray-900\">About</h3>\n                <p className=\"py-4 text-sm text-gray-600\">My blog</p>\n              </div>\n            </div>\n\n            <div className=\"flex w-full md:w-1/2\">\n              <div className=\"px-8\">\n                <h3 className=\"font-bold text-gray-900\">Social</h3>\n                <ul className=\"items-center pt-3 text-sm list-reset\">\n                  <li>\n                    <Anchor>Add social link</Anchor>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer> */}\n  </>\n));\n\nexport default Footer;\n","import { useRouter } from 'next/dist/client/router';\nimport Link from 'next/link';\n\nimport * as React from 'react';\n\ntype MenuItem = {\n  link: string;\n  text: string;\n};\n\nconst MENU_ITEMS: MenuItem[] = [\n  {\n    link: '/',\n    text: 'Home',\n  },\n  // {\n  //   link: '/about',\n  //   text: 'About',\n  // },\n];\n\nconst Header = React.memo(() => {\n  const router = useRouter();\n  const [openMenu, setOpenMenu] = React.useState(false);\n  // console.log(`Header openMenu=${openMenu}`);\n  return (\n    <nav className=\"w-full\">\n      <div\n        id=\"progress\"\n        className=\"top-0 z-20 h-1\"\n        style={{\n          background: 'linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)',\n        }}\n      />\n\n      <div className=\"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl\">\n        <div className=\"pl-4\">\n          <Link\n            legacyBehavior\n            className=\"text-xl font-extrabold text-gray-900 no-underline hover:no-underline\"\n            href=\"/\"\n          >\n            lifetime trails\n          </Link>\n        </div>\n\n        <div className=\"block pr-4 lg:hidden\">\n          <button\n            id=\"nav-toggle\"\n            type=\"button\"\n            className=\"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none\"\n            onMouseDown={(e) => e.preventDefault()}\n            onClick={() => setOpenMenu(!openMenu)}\n            onBlur={() => setOpenMenu(false)}\n          >\n            <svg className=\"w-3 h-3 fill-current\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n              <title>Menu</title>\n              <path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\" />\n            </svg>\n          </button>\n        </div>\n\n        <div\n          id=\"nav-content\"\n          className={`bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ${\n            openMenu ? 'block' : 'hidden'\n          }`}\n        >\n          <ul className=\"items-center justify-end flex-1 list-reset lg:flex\">\n            {MENU_ITEMS.map(({ link, text }) => (\n              <li key={link} className=\"mr-3\">\n                <Link\n                  legacyBehavior\n                  className={\n                    router.pathname === link\n                      ? 'inline-block py-2 px-4 text-gray-900 font-bold no-underline'\n                      : 'inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4'\n                  }\n                  href={link}\n                >\n                  {text}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n});\n\nexport default Header;\n","import Head from 'next/head';\n\nimport React, { PropsWithChildren } from 'react';\n\nimport Footer from './Footer';\nimport Header from './Header';\n\n// import typography from '../utils/typography';\n\ntype Props = PropsWithChildren<{\n  title?: string;\n}>;\n\nconst Layout = React.memo(({ children, title = 'This is the default title' }: Props) => (\n  <div className=\"leading-normal tracking-normal bg-gray-100 min-h-screen\">\n    <Head>\n      <title>{title}</title>\n      <meta charSet=\"utf-8\" />\n      <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n      {/* typography */}\n      {/* <TypographyStyle typography={typography} /> */}\n    </Head>\n    <Header />\n    <div className=\"container w-full px-4 pb-10 mx-auto md:max-w-3xl\">{children}</div>\n    <Footer />\n  </div>\n));\n\nexport default Layout;\n","import React from 'react';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst Context = React.createContext<any>({});\n\nexport type Props = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  staticProps: any;\n  children?: React.ReactNode;\n};\n\nexport function BlogContextProvider({ staticProps, children }: Props) {\n  return <Context.Provider value={staticProps}>{children}</Context.Provider>;\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function useBlogPostContext() {\n  return React.useContext(Context);\n}\n","import * as React from 'react';\n\nexport type Props = {\n  meta: MetaData;\n  isBlogPost?: boolean;\n};\n\nconst HeadPost = ({ meta, isBlogPost }: Props) => (\n  <>\n    <h1 className={`font-bold text-gray-800 mb-4 ${isBlogPost ? 'text-5xl mt-8 mb-8' : 'text-lg'}`}>{meta.title}</h1>\n    <div className=\"details\">\n      <p className=\"text-gray-500\">{meta.description}</p>\n      <p className=\"text-gray-400 text-right -mt-1\">\n        <span className=\"mr-4\">{meta.date}</span>\n      </p>\n    </div>\n  </>\n);\n\nexport default HeadPost;\n","import hljs from 'highlight.js';\n\nimport * as React from 'react';\nimport ReactUtterances from 'react-utterances';\n\nimport { BlogContextProvider } from './BlogPostContext';\nimport HeadPost from './HeadPost';\nimport Layout from './Layout';\n\nconst prd = process.env.NODE_ENV === 'production';\n\nexport type Props = React.PropsWithChildren<{\n  meta: MetaData;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/require-default-props\n  staticProps?: any;\n}>;\n\nexport default function BlogPost({ children, meta, staticProps }: Props) {\n  React.useEffect(() => {\n    // console.log('initHighlighting');\n    hljs.highlightAll();\n  }, []);\n  // console.log('BlogPost', { staticProps });\n  return (\n    <>\n      <Layout title={meta.title}>\n        <HeadPost meta={meta} isBlogPost />\n        <BlogContextProvider staticProps={staticProps}>\n          <article className=\"markdown\">{children}</article>\n        </BlogContextProvider>\n        {prd && <ReactUtterances repo=\"swcho/blog-comments\" type=\"pathname\" label=\"utterances\" theme=\"github-light\" />}\n      </Layout>\n    </>\n  );\n}\n"],"names":["Area","React","props","children","rest","ref","el","setEl","current","div","css","border","borderRadius","width","height","marginBottom","ScrollContainer","refScrollOffset","viewport","useThree","state","refGroup","useFrame","group","position","y","ScrollTextDebug","refText","text","toFixed","Text","App01","refScroll","overflow","Canvas","eventSource","elParent","eventPrefix","camera","ambientLight","pointLight","scale","color","gridHelper","args","rotation","Math","PI","OrbitControls","enableZoom","axesHelper","GizmoHelper","alignment","margin","GizmoViewport","top","left","overflowY","onScroll","target","e","scrollTop","scrollHeight","clientHeight","pointerEvents","textAlign","padding","Array","from","length","_","i","p","Box","hovered","setHovered","mesh","onPointerOver","onPointerOut","boxGeometry","meshStandardMaterial","Html","center","Scene","span","h1","meta","title","description","date","readTime","BlogPost","Footer","MENU_ITEMS","link","Header","router","useRouter","openMenu","setOpenMenu","nav","className","id","style","background","Link","legacyBehavior","href","button","type","onMouseDown","preventDefault","onClick","onBlur","svg","viewBox","xmlns","path","d","ul","map","li","pathname","Layout","Head","charSet","name","content","Context","BlogContextProvider","staticProps","Provider","value","useBlogPostContext","isBlogPost","HeadPost","hljs","article","ReactUtterances","repo","label","theme"],"sourceRoot":"","ignoreList":[]}