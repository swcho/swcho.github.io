<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="840px" preserveAspectRatio="none" style="width:1524px;height:840px;background:#FFFFFF;" version="1.1" viewBox="0 0 1524 840" width="1524px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="828.543" style="stroke:#181818;stroke-width:0.5;" width="213.5" x="268" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94" x="327.75" y="18.5684">@remotion/cli</text><rect fill="#DDDDDD" height="828.543" style="stroke:#181818;stroke-width:0.5;" width="913.5" x="530" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139" x="917.25" y="18.5684">@remotion/renderer</text><rect fill="#FFFFFF" height="624.2559" style="stroke:#181818;stroke-width:1.0;" width="10" x="301.5" y="112.7988"/><rect fill="#FFFFFF" height="594.9453" style="stroke:#181818;stroke-width:1.0;" width="10" x="434.5" y="142.1094"/><rect fill="#FFFFFF" height="536.3242" style="stroke:#181818;stroke-width:1.0;" width="10" x="593.5" y="171.4199"/><rect fill="#FFFFFF" height="389.7715" style="stroke:#181818;stroke-width:1.0;" width="10" x="728" y="200.7305"/><rect fill="#FFFFFF" height="360.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="864" y="230.041"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1091" y="343.1504"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1091" y="413.9492"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225.5" y="472.5703"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225.5" y="560.502"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225.5" y="619.8125"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1479" y="649.123"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="81.4883" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="306" x2="306" y1="81.4883" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="439.5" x2="439.5" y1="81.4883" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="598" x2="598" y1="81.4883" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="733" x2="733" y1="81.4883" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="869" x2="869" y1="81.4883" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1095.5" x2="1095.5" y1="311.0957" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1230.5" x2="1230.5" y1="81.4883" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1372.5" x2="1372.5" y1="81.4883" y2="755.0547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1483.5" x2="1483.5" y1="381.8945" y2="755.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="78.5352">User</text><ellipse cx="23.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,21.5 L23.5,48.5 M10.5,29.5 L36.5,29.5 M23.5,48.5 L10.5,63.5 M23.5,48.5 L36.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="767.5898">User</text><ellipse cx="23.5" cy="779.043" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,787.043 L23.5,814.043 M10.5,795.043 L36.5,795.043 M23.5,814.043 L10.5,829.043 M23.5,814.043 L36.5,829.043 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="272" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="279" y="70.5352">index.ts</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="272" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="279" y="774.5898">index.ts</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="401.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="408.5" y="70.5352">render.ts</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="401.5" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="408.5" y="774.5898">render.ts</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="534" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="541" y="70.5352">open-browser.ts</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="534" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="541" y="774.5898">open-browser.ts</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="673" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="680" y="70.5352">PuppeteerNode</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="673" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="680" y="774.5898">PuppeteerNode</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="803" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="810" y="70.5352">ChromeLauncher</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="803" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="810" y="774.5898">ChromeLauncher</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="1036.5" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1043.5" y="774.5898">BrowserRunner</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1165.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1172.5" y="70.5352">HeadlessBrowser</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1165.5" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1172.5" y="774.5898">HeadlessBrowser</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1305.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1312.5" y="70.5352">prepare-server.ts</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1305.5" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1312.5" y="774.5898">prepare-server.ts</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="1449.5" y="754.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1456.5" y="774.5898">Chrome</text><rect fill="#FFFFFF" height="624.2559" style="stroke:#181818;stroke-width:1.0;" width="10" x="301.5" y="112.7988"/><rect fill="#FFFFFF" height="594.9453" style="stroke:#181818;stroke-width:1.0;" width="10" x="434.5" y="142.1094"/><rect fill="#FFFFFF" height="536.3242" style="stroke:#181818;stroke-width:1.0;" width="10" x="593.5" y="171.4199"/><rect fill="#FFFFFF" height="389.7715" style="stroke:#181818;stroke-width:1.0;" width="10" x="728" y="200.7305"/><rect fill="#FFFFFF" height="360.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="864" y="230.041"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1091" y="343.1504"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1091" y="413.9492"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225.5" y="472.5703"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225.5" y="560.502"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1225.5" y="619.8125"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1479" y="649.123"/><polygon fill="#181818" points="289.5,108.7988,299.5,112.7988,289.5,116.7988,293.5,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="23.5" x2="295.5" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="30.5" y="108.0566">remotion render react-svg --log verbose</text><polygon fill="#181818" points="422.5,138.1094,432.5,142.1094,422.5,146.1094,426.5,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="311.5" x2="428.5" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="318.5" y="137.3672">renderVideoFlow</text><polygon fill="#181818" points="581.5,167.4199,591.5,171.4199,581.5,175.4199,585.5,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="444.5" x2="587.5" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="451.5" y="166.6777">internalOpenBrowser</text><polygon fill="#181818" points="716,196.7305,726,200.7305,716,204.7305,720,200.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="603.5" x2="722" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="610.5" y="195.9883">launch</text><polygon fill="#181818" points="852,226.041,862,230.041,852,234.041,856,230.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="738" x2="858" y1="230.041" y2="230.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="745" y="225.2988">launch</text><line style="stroke:#181818;stroke-width:1.0;" x1="874" x2="916" y1="259.3516" y2="259.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="916" x2="916" y1="259.3516" y2="272.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="875" x2="916" y1="272.3516" y2="272.3516"/><polygon fill="#181818" points="885,268.3516,875,272.3516,885,276.3516,881,272.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="881" y="254.6094">`--remote-debugging-port=0`</text><polygon fill="#181818" points="1024.5,282.3516,1034.5,286.3516,1024.5,290.3516,1028.5,286.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="874" x2="1030.5" y1="286.3516" y2="286.3516"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="1036.5" y="280.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1043.5" y="300.8867">BrowserRunner</text><polygon fill="#181818" points="1079,339.1504,1089,343.1504,1079,347.1504,1083,343.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="874" x2="1085" y1="343.1504" y2="343.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="881" y="338.4082">start</text><polygon fill="#181818" points="1437.5,353.1504,1447.5,357.1504,1437.5,361.1504,1441.5,357.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1096" x2="1443.5" y1="357.1504" y2="357.1504"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="1449.5" y="351.1504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1456.5" y="371.6855">Chrome</text><polygon fill="#181818" points="1079,409.9492,1089,413.9492,1079,417.9492,1083,413.9492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="874" x2="1085" y1="413.9492" y2="413.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="881" y="409.207">setupConnection</text><polygon fill="#181818" points="1472,439.2598,1482,443.2598,1472,447.2598,1476,443.2598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1096" x2="1478" y1="443.2598" y2="443.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1103" y="438.5176">CDP ws connection establishment</text><polygon fill="#181818" points="1213.5,468.5703,1223.5,472.5703,1213.5,476.5703,1217.5,472.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="874" x2="1219.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="881" y="467.8281">_create</text><polygon fill="#181818" points="1472,497.8809,1482,501.8809,1472,505.8809,1476,501.8809" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1230.5" x2="1478" y1="501.8809" y2="501.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1237.5" y="497.1387">Target.setDiscoverTargets</text><polygon fill="#181818" points="1241.5,527.1914,1231.5,531.1914,1241.5,535.1914,1237.5,531.1914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1235.5" x2="1483" y1="531.1914" y2="531.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1247.5" y="526.4492">Target.targetCreated</text><polygon fill="#181818" points="1213.5,556.502,1223.5,560.502,1213.5,564.502,1217.5,560.502" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="874" x2="1219.5" y1="560.502" y2="560.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="881" y="555.7598">waitForTarget</text><polygon fill="#181818" points="1213.5,615.8125,1223.5,619.8125,1213.5,623.8125,1217.5,619.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="603.5" x2="1219.5" y1="619.8125" y2="619.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="610.5" y="615.0703">pages</text><polygon fill="#181818" points="1467,645.123,1477,649.123,1467,653.123,1471,649.123" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1235.5" x2="1473" y1="649.123" y2="649.123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1242.5" y="644.3809">Target.attachToTarget</text><polygon fill="#181818" points="1246.5,674.4336,1236.5,678.4336,1246.5,682.4336,1242.5,678.4336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1240.5" x2="1483" y1="678.4336" y2="678.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="1252.5" y="673.6914">sessionId</text><polygon fill="#181818" points="1241.5,703.7441,1231.5,707.7441,1241.5,711.7441,1237.5,707.7441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1235.5" x2="1483" y1="707.7441" y2="707.7441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1247.5" y="703.002">Target.attachedToTarget</text><polygon fill="#181818" points="1360.5,733.0547,1370.5,737.0547,1360.5,741.0547,1364.5,737.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="439.5" x2="1366.5" y1="737.0547" y2="737.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="446.5" y="732.3125">prepareServer</text><!--MD5=[e0b48fa90db328f771ec32f0b0035ade]
@startuml render

actor User

box "@remotion/cli"
  participant "index.ts" as cli_index
  participant "render.ts" as cli_render
end box

box "@remotion/renderer"
  participant "open-browser.ts" as renderer_open_browser
  participant PuppeteerNode
  participant ChromeLauncher
  participant BrowserRunner
  participant HeadlessBrowser
  
  participant "prepare-server.ts" as prepare_server
end box

participant Chrome

User -> cli_index: remotion render react-svg - -log verbose
activate cli_index
  cli_index -> cli_render: renderVideoFlow
    activate cli_render
      cli_render -> renderer_open_browser: internalOpenBrowser
      activate renderer_open_browser
        renderer_open_browser -> PuppeteerNode: launch
        activate PuppeteerNode
          PuppeteerNode -> ChromeLauncher: launch
          activate ChromeLauncher
            ChromeLauncher -> ChromeLauncher: `- -remote-debugging-port=0`
            ChromeLauncher -> BrowserRunner**
            ChromeLauncher -> BrowserRunner: start
            activate BrowserRunner
              BrowserRunner - -> Chrome**
            deactivate BrowserRunner
            ChromeLauncher -> BrowserRunner: setupConnection
            activate BrowserRunner
              BrowserRunner - -> Chrome: CDP ws connection establishment
            deactivate BrowserRunner
            ChromeLauncher -> HeadlessBrowser: _create
            activate HeadlessBrowser
              HeadlessBrowser -> Chrome: Target.setDiscoverTargets
            deactivate HeadlessBrowser

            Chrome - -> HeadlessBrowser: Target.targetCreated

            ChromeLauncher -> HeadlessBrowser: waitForTarget
            activate HeadlessBrowser
            
            deactivate HeadlessBrowser
          deactivate ChromeLauncher
        deactivate PuppeteerNode
        renderer_open_browser -> HeadlessBrowser: pages
        activate HeadlessBrowser
          HeadlessBrowser -> Chrome: Target.attachToTarget
          activate Chrome
          return sessionId
          
          Chrome - -> HeadlessBrowser: Target.attachedToTarget

        deactivate HeadlessBrowser
      deactivate renderer_open_browser
      
      ' 여기서 부터 나눌 수 있다
      cli_render -> prepare_server: prepareServer
      
    deactivate cli_render
deactivate cli_index

@enduml

@startuml render

actor User

box "@remotion/cli"
  participant "index.ts" as cli_index
  participant "render.ts" as cli_render
end box

box "@remotion/renderer"
  participant "open-browser.ts" as renderer_open_browser
  participant PuppeteerNode
  participant ChromeLauncher
  participant BrowserRunner
  participant HeadlessBrowser
  
  participant "prepare-server.ts" as prepare_server
end box

participant Chrome

User -> cli_index: remotion render react-svg - -log verbose
activate cli_index
  cli_index -> cli_render: renderVideoFlow
    activate cli_render
      cli_render -> renderer_open_browser: internalOpenBrowser
      activate renderer_open_browser
        renderer_open_browser -> PuppeteerNode: launch
        activate PuppeteerNode
          PuppeteerNode -> ChromeLauncher: launch
          activate ChromeLauncher
            ChromeLauncher -> ChromeLauncher: `- -remote-debugging-port=0`
            ChromeLauncher -> BrowserRunner**
            ChromeLauncher -> BrowserRunner: start
            activate BrowserRunner
              BrowserRunner - -> Chrome**
            deactivate BrowserRunner
            ChromeLauncher -> BrowserRunner: setupConnection
            activate BrowserRunner
              BrowserRunner - -> Chrome: CDP ws connection establishment
            deactivate BrowserRunner
            ChromeLauncher -> HeadlessBrowser: _create
            activate HeadlessBrowser
              HeadlessBrowser -> Chrome: Target.setDiscoverTargets
            deactivate HeadlessBrowser

            Chrome - -> HeadlessBrowser: Target.targetCreated

            ChromeLauncher -> HeadlessBrowser: waitForTarget
            activate HeadlessBrowser
            
            deactivate HeadlessBrowser
          deactivate ChromeLauncher
        deactivate PuppeteerNode
        renderer_open_browser -> HeadlessBrowser: pages
        activate HeadlessBrowser
          HeadlessBrowser -> Chrome: Target.attachToTarget
          activate Chrome
          return sessionId
          
          Chrome - -> HeadlessBrowser: Target.attachedToTarget

        deactivate HeadlessBrowser
      deactivate renderer_open_browser
      
      cli_render -> prepare_server: prepareServer
      
    deactivate cli_render
deactivate cli_index

@enduml

PlantUML version 1.2022.7(Tue Aug 23 02:01:30 KST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ko
Country: KR
--></g></svg>