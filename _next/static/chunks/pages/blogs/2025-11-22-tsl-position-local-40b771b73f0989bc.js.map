{"version":3,"file":"static/chunks/pages/blogs/2025-11-22-tsl-position-local-40b771b73f0989bc.js","mappings":"gFACA,4CACA,uCACA,WACA,OAAe,EAAQ,KAAuE,CAC9F,EACA,SAFsB,6LC0EtB,MAAeA,EAAAA,IAAU,CAnDzB,MAmDgCC,EAAC,CAnDxBA,CAAkB,EACzB,GAAM,EAAE,CAAGC,EAELC,EAAOH,EAAAA,OAAa,CACxB,IACEI,CAAAA,EAAAA,EAAAA,EAAAA,CAAEA,CAAC,KACD,IAAMC,EAAIC,EAAAA,GAAaA,CAACC,GAAG,CAAC,GAc5B,OAZAF,EAAEG,MAAM,CAACC,CAAAA,EAAAA,EAAAA,GAAAA,CAAQA,CAACJ,EAAEK,EAAE,CAAEC,EAAAA,GAAIA,CAAEC,CAAAA,EAAAA,EAAAA,GAAAA,CAAIA,KAElCC,CAAAA,EAAAA,EAAAA,EAAAA,CAAEA,CAACC,CAAAA,EAAAA,EAAAA,GAAAA,CAAGA,CAACT,EAAEU,CAAC,EAAEC,WAAW,CAAC,KAAO,KAE7BX,EAAEY,CAAC,CAAG,CACR,GAEAJ,CAAAA,EAAAA,EAAAA,EAAAA,CAAEA,CAACC,CAAAA,EAAAA,EAAAA,GAAAA,CAAGA,CAACT,EAAEa,CAAC,EAAEF,WAAW,CAAC,KAAO,KAE7BX,EAAEY,CAAC,CAAG,CACR,GAEOZ,CACT,GACF,EAAE,EAGJ,MACE,QAACc,EAAAA,CAAYA,CAAAA,UACTC,GACA,SAACC,EAAAA,CAAYA,CAAAA,WACX,QAACC,EAAAA,CAAiBA,CAAAA,CAChBC,WAAW,IACXC,IAAK,GACLC,OAAQL,EAAGM,WAAW,CAAGN,EAAGO,YAAY,CACxCC,KAAM,GACNC,IAAK,GACLC,SAAU,CAAC,EAAG,EAAG,EAAE,GAGrB,SAACC,OAAAA,CAAKC,KAAK,sBACT,QAACC,gBAAAA,CAAcC,KAAM,CAAC,EAAG,EAAE,GAC3B,QAACC,eAAAA,CAAaC,aAAcjC,MAC5B,QAACkC,EAAAA,EAAQA,CAAAA,CAACC,SAAU,iBAEtB,QAACC,aAAAA,CAAAA,GACD,QAACC,EAAAA,CAAaA,CAAAA,CAAAA,OAKxB,GCzEaC,EAAAA,CACXC,MAAO,qBACPC,YAAc,kFACdC,KAAM,aACNC,SAAU,KAGG,QAAGC,UAAAA,CAAAA,CAAAA,QAAAA,CAAAA,EAAAA,EAAAA,GAAAA,CAAAA,CAAgBC,EAAAA,CAAAA,CAAAA,CAASN,KAAMA,WAAOK,0LAEtD,4JAEC,4HAEH,kBAAe,sHAEf,kkBA0BA,aAAU,6DAA+B,SAAM,sGAE/C,MAAG,gCAAE,MAAG,oDAAsB,MAAG,iFAEjC,SAAM,mCAAK,iBAAc,iEAEzB,6CAAe,MAAG,kCAAI,MAAG,0CAAY,MAAG,6FAItC,oyBA0BF,mEAEE,uCAEF,6CAAe,kBAAe,4EAE9B,mCAAK,QAAK,gCAAE,aAAU,gCAAE,OAAI,gCAAE,QAAK,gCAAE,gBAAa","sources":["webpack://_N_E/?8918","webpack://_N_E/./pages/blogs/2025-11-22-tsl-position-local/src/App01.tsx","webpack://_N_E/./pages/blogs/2025-11-22-tsl-position-local/index.page.mdx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/blogs/2025-11-22-tsl-position-local\",\n      function () {\n        return require(\"private-next-pages/blogs/2025-11-22-tsl-position-local/index.page.mdx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/blogs/2025-11-22-tsl-position-local\"])\n      });\n    }\n  ","import { TslDebug } from '@/components/TslDebug';\nimport TslDebugArea from '@/components/TslDebugArea';\nimport WebGpuCanvas from '@/components/WebGpuCanvas';\nimport { OrbitControls, PerspectiveCamera } from '@react-three/drei';\nimport { useThree } from '@react-three/fiber';\nimport * as React from 'react';\nimport { abs, Fn, If, positionLocal, rotateUV, time, vec2 } from 'three/tsl';\nimport * as THREE from 'three/webgpu';\n\ndeclare namespace UpdateSize {\n  export type Props = {\n    width: number;\n    height: number;\n  };\n}\n\nfunction UpdateSize({ width, height }: UpdateSize.Props) {\n  useThree((selector) => {\n    const camera = selector.camera as THREE.PerspectiveCamera;\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n  });\n  return null;\n}\n\nexport type Props = {};\n\nfunction App01(props: Props) {\n  const {} = props;\n\n  const main = React.useMemo(\n    () =>\n      Fn(() => {\n        const p = positionLocal.mul(2);\n\n        p.assign(rotateUV(p.xy, time, vec2()));\n\n        If(abs(p.x).greaterThan(0.95), () => {\n          // @ts-ignore\n          p.z = 1.0;\n        });\n\n        If(abs(p.y).greaterThan(0.95), () => {\n          // @ts-ignore\n          p.z = 1.0;\n        });\n\n        return p;\n      }),\n    []\n  );\n\n  return (\n    <TslDebugArea>\n      {(el) => (\n        <WebGpuCanvas>\n          <PerspectiveCamera\n            makeDefault\n            fov={53}\n            aspect={el.clientWidth / el.clientHeight}\n            near={0.1}\n            far={10}\n            position={[0, 0, 1]}\n          />\n          {/* <UpdateSize width={el.clientWidth} height={el.clientHeight} /> */}\n          <mesh name=\"node-mesh\">\n            <planeGeometry args={[2, 1]} />\n            <nodeMaterial fragmentNode={main()} />\n            <TslDebug meshName={'node-mesh'} />\n          </mesh>\n          <axesHelper />\n          <OrbitControls />\n        </WebGpuCanvas>\n      )}\n    </TslDebugArea>\n  );\n}\n\nexport default React.memo(App01);\n"],"names":["React","App01","props","main","Fn","p","positionLocal","mul","assign","rotateUV","xy","time","vec2","If","abs","x","greaterThan","z","y","TslDebugArea","el","WebGpuCanvas","PerspectiveCamera","makeDefault","fov","aspect","clientWidth","clientHeight","near","far","position","mesh","name","planeGeometry","args","nodeMaterial","fragmentNode","TslDebug","meshName","axesHelper","OrbitControls","meta","title","description","date","readTime","children","BlogPost"],"sourceRoot":"","ignoreList":[]}