(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2383],{1568:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(18153),i=n(14232),l=n(6170);let o=i.forwardRef((e,t)=>{let{children:n,...o}=e,[a,s]=i.useState(null),c=i.useCallback(e=>{s(e),"function"==typeof t?t(e):t&&"current"in t&&(t.current=e)},[t]),[h,d]=i.useState(0);return(0,r.FD)("div",{ref:c,css:{position:"relative",border:"1px solid",borderRadius:"4px",width:"100%",height:"300px",marginBottom:"1rem"},...o,children:[(0,r.Y)("button",{onClick:()=>d(e=>e+1),css:{position:"absolute",right:0,zIndex:1},children:(0,r.Y)(l.A,{})}),a&&(0,r.Y)(i.Fragment,{children:n(a)},h)]})}),a=i.memo(o)},49034:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(18153),i=n(77328),l=n.n(i),o=n(14232);let a=o.memo(()=>(0,r.Y)(r.FK,{}));var s=n(71745),c=n(48230),h=n.n(c);let d=[{link:"/",text:"Home"}],u=o.memo(()=>{let e=(0,s.useRouter)(),[t,n]=o.useState(!1);return(0,r.FD)("nav",{className:"w-full",children:[(0,r.Y)("div",{id:"progress",className:"top-0 z-20 h-1",style:{background:"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)"}}),(0,r.FD)("div",{className:"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl",children:[(0,r.Y)("div",{className:"pl-4",children:(0,r.Y)(h(),{className:"text-xl font-extrabold text-gray-900 no-underline hover:no-underline",href:"/",children:"lifetime trails"})}),(0,r.Y)("div",{className:"block pr-4 lg:hidden",children:(0,r.Y)("button",{id:"nav-toggle",type:"button",className:"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none",onMouseDown:e=>e.preventDefault(),onClick:()=>n(!t),onBlur:()=>n(!1),children:(0,r.FD)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.Y)("title",{children:"Menu"}),(0,r.Y)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,r.Y)("div",{id:"nav-content",className:"bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ".concat(t?"block":"hidden"),children:(0,r.Y)("ul",{className:"items-center justify-end flex-1 list-reset lg:flex",children:d.map(t=>{let{link:n,text:i}=t;return(0,r.Y)("li",{className:"mr-3",children:(0,r.Y)(h(),{className:e.pathname===n?"inline-block py-2 px-4 text-gray-900 font-bold no-underline":"inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4",href:n,children:i})},n)})})})]})]})}),m=o.memo(e=>{let{children:t,title:n="This is the default title"}=e;return(0,r.FD)("div",{className:"leading-normal tracking-normal bg-gray-100 min-h-screen",children:[(0,r.FD)(l(),{children:[(0,r.Y)("title",{children:n}),(0,r.Y)("meta",{charSet:"utf-8"}),(0,r.Y)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.Y)(u,{}),(0,r.Y)("div",{className:"container w-full px-4 pb-10 mx-auto md:max-w-3xl",children:t}),(0,r.Y)(a,{})]})})},60158:(e,t,n)=>{"use strict";n.d(t,{J:()=>a,j:()=>o});var r=n(18153),i=n(14232);let l=i.createContext({});function o(e){let{staticProps:t,children:n}=e;return(0,r.Y)(l.Provider,{value:t,children:n})}function a(){return i.useContext(l)}},74714:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/2025-09-28-3d-kitchen-designer",function(){return n(81192)}])},81192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k,meta:()=>M});var r=n(37876),i=n(91668),l=n(91013),o=n(18153),a=n(1568),s=n(45302),c=n(14232),h=n(66691);function d(){let[e,t]=c.useState([]),n=c.useMemo(()=>{let t=[];for(let n=1;n<e.length;n++){let[r,i]=e.slice(n-1,n+1);t.push(new Float32Array([r.x,r.y,r.z,i.x,i.y,i.z]))}return t},[e]),r=c.useRef(null),i=c.useMemo(()=>new h.LoY,[]);return(0,o.FD)(o.FK,{children:[(0,o.FD)("mesh",{onPointerDown:e=>{let[n]=e.intersections;if(n){let e=n.point;t(t=>[...t,e])}},onPointerMove:t=>{if(r.current=t.point,e.length){let n=e[e.length-1];i.setFromPoints([n,t.point])}},children:[(0,o.Y)("planeGeometry",{args:[100,100]}),(0,o.Y)("meshBasicMaterial",{color:0xcccccc,side:h.$EB})]}),n.map((e,t)=>(0,o.FD)("line",{children:[(0,o.Y)("bufferGeometry",{children:(0,o.Y)("bufferAttribute",{attach:"attributes-position",array:e,count:2,itemSize:3})}),(0,o.Y)("lineBasicMaterial",{color:"red"})]},t)),(0,o.FD)("line",{children:[(0,o.Y)("bufferGeometry",{attach:"geometry",...i}),(0,o.Y)("lineBasicMaterial",{color:"blue"})]})]})}let u=c.memo(function(e){let{}=e;return(0,o.Y)(a.A,{css:{position:"relative"},children:e=>(0,o.FD)(s.Hl,{eventSource:e,camera:{position:[0,5,10],fov:75},children:[(0,o.Y)("ambientLight",{intensity:.5}),(0,o.Y)(d,{})]})})});var m=n(49082),p=n(13462),g=n(24672);function f(e){let{length:t,height:n=96,thickness:r=4,...i}=e;return(0,o.FD)("group",{...i,children:[(0,o.FD)("line",{children:[(0,o.Y)("bufferGeometry",{children:(0,o.Y)("bufferAttribute",{attach:"attributes-position",array:new Float32Array([0,0,0,t,0,0]),count:2,itemSize:3})}),(0,o.Y)("lineBasicMaterial",{color:0xff0000})]}),(0,o.FD)("mesh",{position:[t/2,0,0],children:[(0,o.Y)("boxGeometry",{args:[t,r,n]}),(0,o.Y)("meshStandardMaterial",{color:0xaaaaaa,side:h.$EB})]})]})}function b(){let[e,t]=c.useState([]),n=c.useMemo(()=>{let t=[];for(let n=1;n<e.length;n++){let[r,i]=e.slice(n-1,n+1);t.push({start:r,end:i})}return t},[e]),r=c.useRef(null),i=c.useMemo(()=>new h.LoY,[]);return(0,o.FD)(o.FK,{children:[(0,o.FD)("mesh",{onPointerDown:e=>{let[n]=e.intersections;if(n){let e=n.point;t(t=>[...t,e])}},onPointerMove:t=>{if(r.current=t.point,e.length){let n=e[e.length-1];i.setFromPoints([n,t.point])}},children:[(0,o.Y)("planeGeometry",{args:[100,100]}),(0,o.Y)("meshBasicMaterial",{color:0xcccccc,side:h.$EB})]}),n.map((e,t)=>{let{start:n,end:r}=e,i=r.clone().sub(n),l=i.length(),a=Math.atan2(i.y,i.x);return(0,o.Y)(f,{length:l,position:n,rotation:[0,0,a]},t)}),(0,o.FD)("line",{children:[(0,o.Y)("bufferGeometry",{attach:"geometry",...i}),(0,o.Y)("lineBasicMaterial",{color:"blue"})]})]})}let x=c.memo(function(e){let{}=e;return(0,o.Y)(a.A,{css:{position:"relative"},children:e=>(0,o.FD)(s.Hl,{eventSource:e,camera:{position:[0,5,10],fov:75},children:[(0,o.Y)("ambientLight",{intensity:.5}),(0,o.Y)(b,{}),(0,o.Y)(m.N,{}),(0,o.Y)(p.z,{alignment:"bottom-right",margin:[80,80],children:(0,o.Y)(g.t,{axisColors:["red","green","blue"],labelColor:"black"})})]})})});var Y=n(87620);function v(e){let{length:t,height:n=96,depth:r=24,color:i=0xff0000,...l}=e;return(0,o.FD)("group",{...l,children:[(0,o.FD)("line",{children:[(0,o.Y)("bufferGeometry",{children:(0,o.Y)("bufferAttribute",{attach:"attributes-position",array:new Float32Array([0,0,0,t,0,0]),count:2,itemSize:3})}),(0,o.Y)("lineBasicMaterial",{color:255})]}),(0,o.FD)("mesh",{position:[t/2,n/2,r/2],children:[(0,o.Y)("boxGeometry",{args:[t,n,r]}),(0,o.Y)("meshStandardMaterial",{color:i,wireframe:!0})]})]})}function y(e){let{length:t,height:n=10,thickness:r=2,...i}=e;return(0,o.FD)("group",{...i,children:[(0,o.FD)("line",{children:[(0,o.Y)("bufferGeometry",{children:(0,o.Y)("bufferAttribute",{attach:"attributes-position",array:new Float32Array([0,0,0,t,0,0]),count:2,itemSize:3})}),(0,o.Y)("lineBasicMaterial",{color:0xff0000})]}),(0,o.FD)("mesh",{position:[t/2,0,0],children:[(0,o.Y)("boxGeometry",{args:[t,r,n]}),(0,o.Y)("meshStandardMaterial",{color:0xaaaaaa,side:h.$EB,transparent:!0,opacity:.5})]})]})}function F(e){let[t]=e.intersections;return t?t.point:void 0}function w(e){let{state:t,wallPoints:n,setWallPoints:r,cabinetPoints:i,setCabinetPoints:l}=e,a=c.useMemo(()=>{let e=[];for(let t=1;t<n.length;t++){let[r,i]=n.slice(t-1,t+1);e.push({start:r,end:i})}return e},[n]),s=c.useMemo(()=>{let e=[];for(let t=1;t<i.length;t++){let[n,r]=i.slice(t-1,t+1);e.push({start:n,end:r})}return e},[i]),d=c.useRef(null),u=c.useMemo(()=>new h.LoY,[]),m=c.useMemo(()=>new h.LoY,[]),p=c.useCallback(e=>{for(let t of n)if(4>e.distanceTo(t))return console.log("snapped!",e,t),t;return e},[n]),g=c.useCallback(e=>{if("wall"===t){let t=F(e);t&&r(e=>[...e,t])}if("cabinet"===t){let t=F(e);if(t){let e=p(t);l(t=>[...t,e])}}},[t]),f=c.useCallback(e=>{if(d.current=e.point,"wall"===t&&n.length){let t=n[n.length-1];u.setFromPoints([t,e.point])}if("cabinet"===t&&i.length){let t=i[i.length-1];m.setFromPoints([t,e.point])}},[t,n,u]);return(0,o.FD)(o.FK,{children:[(0,o.FD)("mesh",{position:[0,0,.001],onPointerDown:g,onPointerMove:f,children:[(0,o.Y)("planeGeometry",{args:[100,100]}),(0,o.Y)("meshBasicMaterial",{color:0xcccccc,side:h.$EB})]}),(0,o.Y)("gridHelper",{args:[100,100],rotation:[-Math.PI/2,0,0]}),a.map((e,t)=>{let{start:n,end:r}=e,i=r.clone().sub(n),l=i.length(),a=Math.atan2(i.y,i.x);return(0,o.Y)(y,{length:l,position:n,rotation:[0,0,a]},t)}),s.map((e,t)=>{let{start:n,end:r}=e,i=r.clone().sub(n),l=i.length(),a=Math.atan2(i.y,i.x);return(0,o.Y)(v,{length:l,position:n,rotation:[0,0,a],depth:10,height:5},t)}),(0,o.FD)("line",{children:[(0,o.Y)("bufferGeometry",{attach:"geometry",...u}),(0,o.Y)("lineBasicMaterial",{color:"blue"})]}),(0,o.FD)("line",{children:[(0,o.Y)("bufferGeometry",{attach:"geometry",...m}),(0,o.Y)("lineBasicMaterial",{color:"red"})]})]})}let D=c.memo(function(e){let{}=e,[t,n]=c.useState(),[r,i]=c.useState([]),[l,h]=c.useState([]);return(0,o.FD)(o.FK,{children:[(0,o.Y)(a.A,{css:{position:"relative"},children:e=>(0,o.Y)(o.FK,{children:(0,o.FD)(s.Hl,{eventSource:e,camera:{position:[0,0,100],fov:5},children:[(0,o.Y)("ambientLight",{intensity:.5}),(0,o.Y)(w,{el:e,state:t,setState:n,wallPoints:r,setWallPoints:i,cabinetPoints:l,setCabinetPoints:h}),(0,o.Y)(Y.r,{}),(0,o.Y)(p.z,{alignment:"bottom-right",margin:[80,80],children:(0,o.Y)(g.t,{axisColors:["red","green","blue"],labelColor:"black"})})]})})}),(0,o.FD)("div",{children:[(0,o.Y)("button",{onClick:e=>{e.stopPropagation(),n(void 0),i([]),h([])},children:"Clear"}),(0,o.Y)("span",{children:" | "}),(0,o.FD)("button",{onClick:e=>{e.stopPropagation(),n("wall")},children:["W (Wall)","wall"===t?" - Active":""]}),(0,o.Y)("span",{children:" | "}),(0,o.FD)("button",{onClick:e=>{e.stopPropagation(),n("cabinet")},children:["C (Cabinet)","cabinet"===t?" - Active":""]}),(0,o.Y)("span",{children:" | "}),(0,o.Y)("button",{onClick:e=>{e.stopPropagation(),n(void 0)},children:"Fin"})]})]})}),M={title:"[Draft] 3D Kitchen Designer with R3F",description:"3D 주방 디자이너를 Three.js로 구현한 과정에 대한 블로그를 리뷰합니다.",date:"2025-09-28",readTime:5},j=e=>{let{children:t}=e;return(0,r.jsx)(l.A,{meta:M,children:t})};function P(e){let t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{children:"소개"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://tympanus.net/codrops/2025/07/29/exploring-the-process-of-building-a-procedural-3d-kitchen-designer-with-three-js/",children:"Exploring the Process of Building a Procedural 3D Kitchen Designer with Three.js | Codrops"})}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"3D 주방 디자이너를 Three.js로 구현한 과정에 대한 글입니다."}),"\n",(0,r.jsx)(t.p,{children:"Three.js와 React Three Fiber(R3F)를 사용하여 3D 주방 디자이너를 만드는 과정을 설명합니다. 이 프로젝트는 사용자 인터페이스(UI)와 3D 모델링을 결합하여 사용자가 주방 레이아웃을 시각적으로 디자인할 수 있도록 합니다."}),"\n",(0,r.jsx)(t.h1,{children:"마우스 이벤트 처리"}),"\n",(0,r.jsxs)(t.p,{children:["기본적으로 ",(0,r.jsx)(t.code,{children:"onPointerDown"}),"와 ",(0,r.jsx)(t.code,{children:"onPointerMove"})," 이벤트를 사용하여 마우스 클릭과 이동을 처리합니다."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"<mesh\n  onPointerDown={(e) => {\n    const [intersection] = e.intersections;\n    if (intersection) {\n      const point = intersection.point;\n      setPoints((prev) => [...prev, point]);\n    }\n  }}\n  onPointerMove={(e) => {\n    refMoving.current = e.point;\n    if (points.length) {\n      const lastPoint = points[points.length - 1];\n      bufferGeometry.setFromPoints([lastPoint, e.point]);\n    }\n  }}\n>\n  <planeGeometry args={[100, 100]} />\n  <meshBasicMaterial color={0xcccccc} side={THREE.DoubleSide} />\n</mesh>\n"})}),"\n",(0,r.jsx)(u,{}),"\n",(0,r.jsx)(t.h1,{children:"벽 생성"}),"\n",(0,r.jsxs)(t.p,{children:["그려지는 선을 따라 벽을 생성합니다. 벽은 ",(0,r.jsx)(t.code,{children:"BoxGeometry"}),"를 사용하여 생성되며, 벽의 두께와 높이를 설정할 수 있습니다."]}),"\n",(0,r.jsx)(x,{}),"\n",(0,r.jsx)(t.h1,{children:"Cabinet"}),"\n",(0,r.jsx)(t.p,{children:"그려진 벽을 따라 캐비닛을 배치합니다. 캐비닛은 벽에 스냅되며, 벽의 길이에 맞게 자동으로 조정됩니다."}),"\n",(0,r.jsx)(D,{}),"\n",(0,r.jsx)(t.h1,{children:"결론"}),"\n",(0,r.jsx)(t.p,{children:"리뷰를 해 보려했지만, 공유한 코드가 충분치 않아 최종 모습까지는 재현하지 못했습니다."})]})}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.jsx)(j,{...e,children:(0,r.jsx)(P,{...e})})}},85419:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18153);n(14232);let i=e=>{let{meta:t,isBlogPost:n}=e;return(0,r.FD)(r.FK,{children:[(0,r.Y)("h1",{className:"font-bold text-gray-800 mb-4 ".concat(n?"text-5xl mt-8 mb-8":"text-lg"),children:t.title}),(0,r.FD)("div",{className:"details",children:[(0,r.Y)("p",{className:"text-gray-500",children:t.description}),(0,r.Y)("p",{className:"text-gray-400 text-right -mt-1",children:(0,r.Y)("span",{className:"mr-4",children:t.date})})]})]})}},91013:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(18153),i=n(73146),l=n.n(i),o=n(14232),a=n(86089),s=n(60158),c=n(85419),h=n(49034);function d(e){let{children:t,meta:n,staticProps:i}=e;return o.useEffect(()=>{l().highlightAll()},[]),(0,r.Y)(r.FK,{children:(0,r.FD)(h.A,{title:n.title,children:[(0,r.Y)(c.A,{meta:n,isBlogPost:!0}),(0,r.Y)(s.j,{staticProps:i,children:(0,r.Y)("article",{className:"markdown",children:t})}),(0,r.Y)(a.Ay,{repo:"swcho/blog-comments",type:"pathname",label:"utterances",theme:"github-light"})]})})}}},e=>{e.O(0,[5334,7391,683,5695,5302,2077,7267,636,6593,8792],()=>e(e.s=74714)),_N_E=e.O()}]);
//# sourceMappingURL=2025-09-28-3d-kitchen-designer-da37df5c60dedb6e.js.map