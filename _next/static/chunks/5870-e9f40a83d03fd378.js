"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5870],{28888:(e,t,r)=>{r.d(t,{_:()=>n});function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},38993:(e,t,r)=>{r.d(t,{i7:()=>l});var n=r(21398),i=r(14232);r(78455);var o=r(67955);r(3904),r(23520);var s=function(e,t){var r=arguments;if(null==t||!n.h.call(t,"css"))return i.createElement.apply(void 0,r);var o=r.length,s=Array(o);s[0]=n.E,s[1]=(0,n.c)(e,t);for(var a=2;a<o;a++)s[a]=r[a];return i.createElement.apply(null,s)};function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.J)(t)}function l(){var e=a.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(s||(s={}))},55822:(e,t,r)=>{let n,i;r.d(t,{E:()=>g});var o=r(44501),s=r(14232),a=r(78944),l=r(14796),c=r(71804);let u=new l.Vector3,d=new l.Vector3,h=new l.Vector3,m=new l.Vector2;function f(e,t,r){let n=u.setFromMatrixPosition(e.matrixWorld);n.project(t);let i=r.width/2,o=r.height/2;return[n.x*i+i,-(n.y*o)+o]}let p=e=>1e-10>Math.abs(e)?0:e;function v(e,t,r=""){let n="matrix3d(";for(let r=0;16!==r;r++)n+=p(t[r]*e.elements[r])+(15!==r?",":")");return r+n}let y=(n=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>v(e,n)),x=(i=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>v(e,i(t),"translate(-50%,-50%)")),g=s.forwardRef(({children:e,eps:t=.001,style:r,className:n,prepend:i,center:v,fullscreen:g,portal:M,distanceFactor:b,sprite:E=!1,transform:w=!1,occlude:P,onOcclude:C,castShadow:R,receiveShadow:S,material:W,geometry:k,zIndexRange:$=[0x1000037,0],calculatePosition:T=f,as:z="div",wrapperClass:j,pointerEvents:_="auto",...A},F)=>{let{gl:I,camera:L,scene:O,size:H,raycaster:N,events:V,viewport:D}=(0,c.C)(),[q]=s.useState(()=>document.createElement(z)),J=s.useRef(null),G=s.useRef(null),X=s.useRef(0),Z=s.useRef([0,0]),B=s.useRef(null),K=s.useRef(null),Q=(null==M?void 0:M.current)||V.connected||I.domElement.parentNode,U=s.useRef(null),Y=s.useRef(!1),ee=s.useMemo(()=>P&&"blending"!==P||Array.isArray(P)&&P.length&&function(e){return e&&"object"==typeof e&&"current"in e}(P[0]),[P]);s.useLayoutEffect(()=>{let e=I.domElement;P&&"blending"===P?(e.style.zIndex=`${Math.floor($[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[P]),s.useLayoutEffect(()=>{if(G.current){let e=J.current=a.createRoot(q);if(O.updateMatrixWorld(),w)q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=T(G.current,L,H);q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return Q&&(i?Q.prepend(q):Q.appendChild(q)),()=>{Q&&Q.removeChild(q),e.unmount()}}},[Q,w]),s.useLayoutEffect(()=>{j&&(q.className=j)},[j]);let et=s.useMemo(()=>w?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:v?"translate3d(-50%,-50%,0)":"none",...g&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...r},[r,v,g,H,w]),er=s.useMemo(()=>({position:"absolute",pointerEvents:_}),[_]);s.useLayoutEffect(()=>{var t,i;Y.current=!1,w?null==(t=J.current)||t.render(s.createElement("div",{ref:B,style:et},s.createElement("div",{ref:K,style:er},s.createElement("div",{ref:F,className:n,style:r,children:e})))):null==(i=J.current)||i.render(s.createElement("div",{ref:F,style:et,className:n,children:e}))});let en=s.useRef(!0);(0,c.D)(e=>{if(G.current){L.updateMatrixWorld(),G.current.updateWorldMatrix(!0,!1);let e=w?Z.current:T(G.current,L,H);if(w||Math.abs(X.current-L.zoom)>t||Math.abs(Z.current[0]-e[0])>t||Math.abs(Z.current[1]-e[1])>t){let t=function(e,t){let r=u.setFromMatrixPosition(e.matrixWorld),n=d.setFromMatrixPosition(t.matrixWorld),i=r.sub(n),o=t.getWorldDirection(h);return i.angleTo(o)>Math.PI/2}(G.current,L),r=!1;ee&&(Array.isArray(P)?r=P.map(e=>e.current):"blending"!==P&&(r=[O]));let n=en.current;r?en.current=function(e,t,r,n){let i=u.setFromMatrixPosition(e.matrixWorld),o=i.clone();o.project(t),m.set(o.x,o.y),r.setFromCamera(m,t);let s=r.intersectObjects(n,!0);if(s.length){let e=s[0].distance;return i.distanceTo(r.ray.origin)<e}return!0}(G.current,L,N,r)&&!t:en.current=!t,n!==en.current&&(C?C(!en.current):q.style.display=en.current?"block":"none");let i=Math.floor($[0]/2),o=P?ee?[$[0],i]:[i-1,0]:$;if(q.style.zIndex=`${function(e,t,r){if(t instanceof l.PerspectiveCamera||t instanceof l.OrthographicCamera){let n=u.setFromMatrixPosition(e.matrixWorld),i=d.setFromMatrixPosition(t.matrixWorld),o=n.distanceTo(i),s=(r[1]-r[0])/(t.far-t.near),a=r[1]-s*t.far;return Math.round(s*o+a)}}(G.current,L,o)}`,w){let[e,t]=[H.width/2,H.height/2],r=L.projectionMatrix.elements[5]*t,{isOrthographicCamera:n,top:i,left:o,bottom:s,right:a}=L,l=y(L.matrixWorldInverse),c=n?`scale(${r})translate(${p(-(a+o)/2)}px,${p((i+s)/2)}px)`:`translateZ(${r}px)`,u=G.current.matrixWorld;E&&((u=L.matrixWorldInverse.clone().transpose().copyPosition(u).scale(G.current.scale)).elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),q.style.width=H.width+"px",q.style.height=H.height+"px",q.style.perspective=n?"":`${r}px`,B.current&&K.current&&(B.current.style.transform=`${c}${l}translate(${e}px,${t}px)`,K.current.style.transform=x(u,1/((b||10)/400)))}else{let t=void 0===b?1:function(e,t){if(t instanceof l.OrthographicCamera)return t.zoom;if(!(t instanceof l.PerspectiveCamera))return 1;{let r=u.setFromMatrixPosition(e.matrixWorld),n=d.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*r.distanceTo(n))}}(G.current,L)*b;q.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}Z.current=e,X.current=L.zoom}}if(!ee&&U.current&&!Y.current)if(w){if(B.current){let e=B.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=L;if(t||k)A.scale&&(Array.isArray(A.scale)?A.scale instanceof l.Vector3?U.current.scale.copy(A.scale.clone().divideScalar(1)):U.current.scale.set(1/A.scale[0],1/A.scale[1],1/A.scale[2]):U.current.scale.setScalar(1/A.scale));else{let t=(b||10)/400,r=e.clientWidth*t,n=e.clientHeight*t;U.current.scale.set(r,n,1)}Y.current=!0}}}else{let t=q.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/D.factor,r=t.clientWidth*e,n=t.clientHeight*e;U.current.scale.set(r,n,1),Y.current=!0}U.current.lookAt(e.camera.position)}});let ei=s.useMemo(()=>({vertexShader:w?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[w]);return s.createElement("group",(0,o.A)({},A,{ref:G}),P&&!ee&&s.createElement("mesh",{castShadow:R,receiveShadow:S,ref:U},k||s.createElement("planeGeometry",null),W||s.createElement("shaderMaterial",{side:l.DoubleSide,vertexShader:ei.vertexShader,fragmentShader:ei.fragmentShader})))})},59341:(e,t,r)=>{r.d(t,{u:()=>a});var n=r(44501),i=r(14232),o=r(71804),s=r(78925);let a=i.forwardRef(({envMap:e,resolution:t=256,frames:r=1/0,makeDefault:a,children:l,...c},u)=>{let d=(0,o.C)(({set:e})=>e),h=(0,o.C)(({camera:e})=>e),m=(0,o.C)(({size:e})=>e),f=i.useRef(null);i.useImperativeHandle(u,()=>f.current,[]);let p=i.useRef(null),v=(0,s.j)(t);i.useLayoutEffect(()=>{c.manual||(f.current.aspect=m.width/m.height)},[m,c]),i.useLayoutEffect(()=>{f.current.updateProjectionMatrix()});let y=0,x=null,g="function"==typeof l;return(0,o.D)(t=>{g&&(r===1/0||y<r)&&(p.current.visible=!1,t.gl.setRenderTarget(v),x=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,f.current),t.scene.background=x,t.gl.setRenderTarget(null),p.current.visible=!0,y++)}),i.useLayoutEffect(()=>{if(a)return d(()=>({camera:f.current})),()=>d(()=>({camera:h}))},[f,a,d]),i.createElement(i.Fragment,null,i.createElement("perspectiveCamera",(0,n.A)({ref:f},c),!g&&l),i.createElement("group",{ref:p},g&&l(v.texture)))})},65990:(e,t,r)=>{r.d(t,{k:()=>l});var n=r(14232),i=r(71804),o=Object.defineProperty,s=(e,t,r)=>(((e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),r);class a{constructor(e=Math){s(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),s(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),s(this,"p",[]),s(this,"perm",[]),s(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),s(this,"dot",(e,t,r)=>e[0]*t+e[1]*r),s(this,"dot3",(e,t,r,n)=>e[0]*t+e[1]*r+e[2]*n),s(this,"dot4",(e,t,r,n,i)=>e[0]*t+e[1]*r+e[2]*n+e[3]*i),s(this,"noise",(e,t)=>{let r,n,i,o=.5*(Math.sqrt(3)-1)*(e+t),s=Math.floor(e+o),a=Math.floor(t+o),l=(3-Math.sqrt(3))/6,c=(s+a)*l,u=e-(s-c),d=t-(a-c),h=0,m=1;u>d&&(h=1,m=0);let f=u-h+l,p=d-m+l,v=u-1+2*l,y=d-1+2*l,x=255&s,g=255&a,M=this.perm[x+this.perm[g]]%12,b=this.perm[x+h+this.perm[g+m]]%12,E=this.perm[x+1+this.perm[g+1]]%12,w=.5-u*u-d*d;w<0?r=0:(w*=w,r=w*w*this.dot(this.grad3[M],u,d));let P=.5-f*f-p*p;P<0?n=0:(P*=P,n=P*P*this.dot(this.grad3[b],f,p));let C=.5-v*v-y*y;return C<0?i=0:(C*=C,i=C*C*this.dot(this.grad3[E],v,y)),70*(r+n+i)}),s(this,"noise3d",(e,t,r)=>{let n,i,o,s,a,l,c,u,d,h,m=1/3*(e+t+r),f=Math.floor(e+m),p=Math.floor(t+m),v=Math.floor(r+m),y=1/6*(f+p+v),x=e-(f-y),g=t-(p-y),M=r-(v-y);x>=g?g>=M?(a=1,l=0,c=0,u=1,d=1,h=0):(x>=M?(a=1,l=0,c=0):(a=0,l=0,c=1),u=1,d=0,h=1):g<M?(a=0,l=0,c=1,u=0,d=1,h=1):x<M?(a=0,l=1,c=0,u=0,d=1,h=1):(a=0,l=1,c=0,u=1,d=1,h=0);let b=x-a+1/6,E=g-l+1/6,w=M-c+1/6,P=x-u+1/6*2,C=g-d+1/6*2,R=M-h+1/6*2,S=x-1+1/6*3,W=g-1+1/6*3,k=M-1+1/6*3,$=255&f,T=255&p,z=255&v,j=this.perm[$+this.perm[T+this.perm[z]]]%12,_=this.perm[$+a+this.perm[T+l+this.perm[z+c]]]%12,A=this.perm[$+u+this.perm[T+d+this.perm[z+h]]]%12,F=this.perm[$+1+this.perm[T+1+this.perm[z+1]]]%12,I=.6-x*x-g*g-M*M;I<0?n=0:(I*=I,n=I*I*this.dot3(this.grad3[j],x,g,M));let L=.6-b*b-E*E-w*w;L<0?i=0:(L*=L,i=L*L*this.dot3(this.grad3[_],b,E,w));let O=.6-P*P-C*C-R*R;O<0?o=0:(O*=O,o=O*O*this.dot3(this.grad3[A],P,C,R));let H=.6-S*S-W*W-k*k;return H<0?s=0:(H*=H,s=H*H*this.dot3(this.grad3[F],S,W,k)),32*(n+i+o+s)}),s(this,"noise4d",(e,t,r,n)=>{let i,o,s,a,l,c,u,d,h,m,f,p,v,y,x,g,M,b=this.grad4,E=this.simplex,w=this.perm,P=(5-Math.sqrt(5))/20,C=(Math.sqrt(5)-1)/4*(e+t+r+n),R=Math.floor(e+C),S=Math.floor(t+C),W=Math.floor(r+C),k=Math.floor(n+C),$=(R+S+W+k)*P,T=e-(R-$),z=t-(S-$),j=r-(W-$),_=n-(k-$),A=32*(T>z)+16*(T>j)+8*(z>j)+4*(T>_)+2*(z>_)+ +(j>_);c=+(E[A][0]>=3),u=+(E[A][1]>=3),d=+(E[A][2]>=3),h=+(E[A][3]>=3),m=+(E[A][0]>=2),f=+(E[A][1]>=2),p=+(E[A][2]>=2),v=+(E[A][3]>=2),y=+(E[A][0]>=1),x=+(E[A][1]>=1),g=+(E[A][2]>=1),M=+(E[A][3]>=1);let F=T-c+P,I=z-u+P,L=j-d+P,O=_-h+P,H=T-m+2*P,N=z-f+2*P,V=j-p+2*P,D=_-v+2*P,q=T-y+3*P,J=z-x+3*P,G=j-g+3*P,X=_-M+3*P,Z=T-1+4*P,B=z-1+4*P,K=j-1+4*P,Q=_-1+4*P,U=255&R,Y=255&S,ee=255&W,et=255&k,er=w[U+w[Y+w[ee+w[et]]]]%32,en=w[U+c+w[Y+u+w[ee+d+w[et+h]]]]%32,ei=w[U+m+w[Y+f+w[ee+p+w[et+v]]]]%32,eo=w[U+y+w[Y+x+w[ee+g+w[et+M]]]]%32,es=w[U+1+w[Y+1+w[ee+1+w[et+1]]]]%32,ea=.6-T*T-z*z-j*j-_*_;ea<0?i=0:(ea*=ea,i=ea*ea*this.dot4(b[er],T,z,j,_));let el=.6-F*F-I*I-L*L-O*O;el<0?o=0:(el*=el,o=el*el*this.dot4(b[en],F,I,L,O));let ec=.6-H*H-N*N-V*V-D*D;ec<0?s=0:(ec*=ec,s=ec*ec*this.dot4(b[ei],H,N,V,D));let eu=.6-q*q-J*J-G*G-X*X;eu<0?a=0:(eu*=eu,a=eu*eu*this.dot4(b[eo],q,J,G,X));let ed=.6-Z*Z-B*B-K*K-Q*Q;return ed<0?l=0:(ed*=ed,l=ed*ed*this.dot4(b[es],Z,B,K,Q)),27*(i+o+s+a+l)});for(let t=0;t<256;t++)this.p[t]=Math.floor(256*e.random());for(let e=0;e<512;e++)this.perm[e]=this.p[255&e]}}let l=n.forwardRef(({intensity:e=1,decay:t,decayRate:r=.65,maxYaw:o=.1,maxPitch:s=.1,maxRoll:l=.1,yawFrequency:c=.1,pitchFrequency:u=.1,rollFrequency:d=.1},h)=>{let m=(0,i.C)(e=>e.camera),f=(0,i.C)(e=>e.controls),p=n.useRef(e),v=n.useRef(m.rotation.clone()),[y]=n.useState(()=>new a),[x]=n.useState(()=>new a),[g]=n.useState(()=>new a),M=()=>{(p.current<0||p.current>1)&&(p.current=p.current<0?0:1)};return n.useImperativeHandle(h,()=>({getIntensity:()=>p.current,setIntensity:e=>{p.current=e,M()}}),[]),n.useEffect(()=>{if(f){let e=()=>void(v.current=m.rotation.clone());return f.addEventListener("change",e),e(),()=>void f.removeEventListener("change",e)}},[m,f]),(0,i.D)((e,n)=>{let i=Math.pow(p.current,2),a=o*i*y.noise(e.clock.elapsedTime*c,1),h=s*i*x.noise(e.clock.elapsedTime*u,1),f=l*i*g.noise(e.clock.elapsedTime*d,1);m.rotation.set(v.current.x+h,v.current.y+a,v.current.z+f),t&&p.current>0&&(p.current-=r*n,M())}),null})},98297:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(14796),i=r(14232),o=r(71804);function s({all:e,scene:t,camera:r}){let s=(0,o.C)(({gl:e})=>e),a=(0,o.C)(({camera:e})=>e),l=(0,o.C)(({scene:e})=>e);return i.useLayoutEffect(()=>{let i=[];e&&(t||l).traverse(e=>{!1===e.visible&&(i.push(e),e.visible=!0)}),s.compile(t||l,r||a);let o=new n.WebGLCubeRenderTarget(128);new n.CubeCamera(.01,1e5,o).update(s,t||l),o.dispose(),i.forEach(e=>e.visible=!1)},[]),null}}}]);
//# sourceMappingURL=5870-e9f40a83d03fd378.js.map