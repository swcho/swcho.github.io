<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2150px" preserveAspectRatio="none" style="width:1579px;height:2150px;background:#FFFFFF;" version="1.1" viewBox="0 0 1579 2150" width="1579px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="383.2832" style="stroke:#181818;stroke-width:1.0;" width="10" x="271.5" y="154.2871"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="276.5" y="191.5977"/><rect fill="#FFFFFF" height="198.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="477.5" y="309.707"/><rect fill="#FFFFFF" height="124.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="482.5" y="347.0176"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="487.5" y="389.3281"/><rect fill="#FFFFFF" height="46.7988" style="stroke:#181818;stroke-width:1.0;" width="10" x="688.5" y="561.5703"/><rect fill="#FFFFFF" height="143.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="688.5" y="721.4785"/><rect fill="#FFFFFF" height="69.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="758.7891"/><rect fill="#FFFFFF" height="143.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="688.5" y="1037.2734"/><rect fill="#FFFFFF" height="69.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="1074.584"/><rect fill="#FFFFFF" height="330.9727" style="stroke:#181818;stroke-width:1.0;" width="10" x="848" y="647.6797"/><rect fill="#FFFFFF" height="255.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="853" y="687.168"/><rect fill="#FFFFFF" height="286.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="848" y="1007.9629"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="853" y="1217.8262"/><rect fill="#FFFFFF" height="46.7988" style="stroke:#181818;stroke-width:1.0;" width="10" x="1074" y="1318.4473"/><rect fill="#FFFFFF" height="126.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="1074" y="1934.2773"/><rect fill="#FFFFFF" height="269.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1203.5" y="1791.0352"/><rect fill="#FFFFFF" height="232.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1208.5" y="1828.3457"/><rect fill="#FFFFFF" height="197.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1340.5" y="1862.6563"/><rect fill="#FFFFFF" height="160.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1345.5" y="1899.9668"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="81.4883" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="276.5" x2="276.5" y1="122.2324" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="482.5" x2="482.5" y1="277.6523" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="693.5" x2="693.5" y1="576.3145" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="852.5" x2="852.5" y1="647.1133" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1078.5" x2="1078.5" y1="1333.1914" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1208.5" x2="1208.5" y1="1403.9902" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1345.5" x2="1345.5" y1="1453.7227" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1435.5" x2="1435.5" y1="1608.252" y2="2069.5195"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1529.5" x2="1529.5" y1="81.4883" y2="2069.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="15" y="78.5352">User</text><ellipse cx="33.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M33.5,21.5 L33.5,48.5 M20.5,29.5 L46.5,29.5 M33.5,48.5 L20.5,63.5 M33.5,48.5 L46.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="15" y="2082.0547">User</text><ellipse cx="33.5" cy="2093.5078" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M33.5,2101.5078 L33.5,2128.5078 M20.5,2109.5078 L46.5,2109.5078 M33.5,2128.5078 L20.5,2143.5078 M33.5,2128.5078 L46.5,2143.5078 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="230.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="237.5" y="2089.0547">TextLoader</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="369.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="376.5" y="2089.0547">RecursiveCharacterTextSplitter</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="618.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="625.5" y="2089.0547">OpenAIEmbeddings</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="778.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="785.5" y="2089.0547">MemroyVectorStore</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="1046.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1053.5" y="2089.0547">OpenAI</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="1121.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1128.5" y="2089.0547">RefineDocumentsChain</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1305.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1312.5" y="2089.0547">LLMChain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1313" y="2105.543">question)</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1395.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1402.5" y="2089.0547">LLMChain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1413" y="2105.543">refine)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="1485.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1492.5" y="70.5352">OpenAIApi</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="1485.5" y="2068.5195"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1492.5" y="2089.0547">OpenAIApi</text><rect fill="#FFFFFF" height="383.2832" style="stroke:#181818;stroke-width:1.0;" width="10" x="271.5" y="154.2871"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="276.5" y="191.5977"/><rect fill="#FFFFFF" height="198.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="477.5" y="309.707"/><rect fill="#FFFFFF" height="124.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="482.5" y="347.0176"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="487.5" y="389.3281"/><rect fill="#FFFFFF" height="46.7988" style="stroke:#181818;stroke-width:1.0;" width="10" x="688.5" y="561.5703"/><rect fill="#FFFFFF" height="143.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="688.5" y="721.4785"/><rect fill="#FFFFFF" height="69.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="758.7891"/><rect fill="#FFFFFF" height="143.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="688.5" y="1037.2734"/><rect fill="#FFFFFF" height="69.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="1074.584"/><rect fill="#FFFFFF" height="330.9727" style="stroke:#181818;stroke-width:1.0;" width="10" x="848" y="647.6797"/><rect fill="#FFFFFF" height="255.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="853" y="687.168"/><rect fill="#FFFFFF" height="286.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="848" y="1007.9629"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="853" y="1217.8262"/><rect fill="#FFFFFF" height="46.7988" style="stroke:#181818;stroke-width:1.0;" width="10" x="1074" y="1318.4473"/><rect fill="#FFFFFF" height="126.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="1074" y="1934.2773"/><rect fill="#FFFFFF" height="269.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1203.5" y="1791.0352"/><rect fill="#FFFFFF" height="232.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1208.5" y="1828.3457"/><rect fill="#FFFFFF" height="197.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1340.5" y="1862.6563"/><rect fill="#FFFFFF" height="160.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1345.5" y="1899.9668"/><polygon fill="#181818" points="218.5,93.4883,228.5,97.4883,218.5,101.4883,222.5,97.4883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="224.5" y1="97.4883" y2="97.4883"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="230.5" y="91.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="237.5" y="112.0234">TextLoader</text><polygon fill="#181818" points="259.5,150.2871,269.5,154.2871,259.5,158.2871,263.5,154.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="265.5" y1="154.2871" y2="154.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="40.5" y="149.5449">BaseDocumentLoader.loadAndSplit</text><line style="stroke:#181818;stroke-width:1.0;" x1="281.5" x2="328.5" y1="178.5977" y2="178.5977"/><line style="stroke:#181818;stroke-width:1.0;" x1="328.5" x2="328.5" y1="178.5977" y2="191.5977"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="328.5" y1="191.5977" y2="191.5977"/><polygon fill="#181818" points="297.5,187.5977,287.5,191.5977,297.5,195.5977,293.5,191.5977" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="293.5" y="173.8555">load</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="286.5" x2="328.5" y1="230.9082" y2="230.9082"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328.5" x2="328.5" y1="230.9082" y2="243.9082"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="281.5" x2="328.5" y1="243.9082" y2="243.9082"/><polygon fill="#181818" points="291.5,239.9082,281.5,243.9082,291.5,247.9082,287.5,243.9082" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="293.5" y="226.166">docs</text><polygon fill="#181818" points="357.5,248.9082,367.5,252.9082,357.5,256.9082,361.5,252.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="281.5" x2="363.5" y1="252.9082" y2="252.9082"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="369.5" y="246.9082"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="376.5" y="267.4434">RecursiveCharacterTextSplitter</text><polygon fill="#181818" points="465.5,305.707,475.5,309.707,465.5,313.707,469.5,309.707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="281.5" x2="471.5" y1="309.707" y2="309.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="288.5" y="304.9648">TextSplitter.splitDocuments</text><line style="stroke:#181818;stroke-width:1.0;" x1="487.5" x2="534.5" y1="334.0176" y2="334.0176"/><line style="stroke:#181818;stroke-width:1.0;" x1="534.5" x2="534.5" y1="334.0176" y2="347.0176"/><line style="stroke:#181818;stroke-width:1.0;" x1="493.5" x2="534.5" y1="347.0176" y2="347.0176"/><polygon fill="#181818" points="503.5,343.0176,493.5,347.0176,503.5,351.0176,499.5,347.0176" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="499.5" y="329.2754">TextSplitter.createDocuments</text><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="539.5" y1="376.3281" y2="376.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="539.5" x2="539.5" y1="376.3281" y2="389.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="498.5" x2="539.5" y1="389.3281" y2="389.3281"/><polygon fill="#181818" points="508.5,385.3281,498.5,389.3281,508.5,393.3281,504.5,389.3281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="504.5" y="371.5859">splitText</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="497.5" x2="539.5" y1="428.6387" y2="428.6387"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="539.5" x2="539.5" y1="428.6387" y2="441.6387"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="492.5" x2="539.5" y1="441.6387" y2="441.6387"/><polygon fill="#181818" points="502.5,437.6387,492.5,441.6387,502.5,445.6387,498.5,441.6387" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="504.5" y="423.8965">docs</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="492.5" x2="534.5" y1="470.9492" y2="470.9492"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="534.5" x2="534.5" y1="470.9492" y2="483.9492"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="487.5" x2="534.5" y1="483.9492" y2="483.9492"/><polygon fill="#181818" points="497.5,479.9492,487.5,483.9492,497.5,487.9492,493.5,483.9492" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="499.5" y="466.207">docs</text><polygon fill="#181818" points="292.5,504.2598,282.5,508.2598,292.5,512.2598,288.5,508.2598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="286.5" x2="481.5" y1="508.2598" y2="508.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="298.5" y="503.5176">docs</text><polygon fill="#181818" points="44.5,533.5703,34.5,537.5703,44.5,541.5703,40.5,537.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="275.5" y1="537.5703" y2="537.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="50.5" y="532.8281">docs</text><polygon fill="#181818" points="606.5,547.5703,616.5,551.5703,606.5,555.5703,610.5,551.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="612.5" y1="551.5703" y2="551.5703"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="618.5" y="545.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="625.5" y="566.1055">OpenAIEmbeddings</text><polygon fill="#181818" points="44.5,604.3691,34.5,608.3691,44.5,612.3691,40.5,608.3691" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="692.5" y1="608.3691" y2="608.3691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="50.5" y="603.627">embeddings</text><polygon fill="#181818" points="766.5,633.6797,776.5,637.6797,766.5,641.6797,770.5,637.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="772.5" y1="637.6797" y2="637.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="40.5" y="632.9375">fromDocuments(docs, embeddings)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="778.5" y="616.3691"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="785.5" y="636.9043">MemroyVectorStore</text><path d="M937.5,624.458 L937.5,649.458 L1035.5,649.458 L1035.5,634.458 L1025.5,624.458 L937.5,624.458 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1025.5,624.458 L1025.5,634.458 L1035.5,634.458 L1025.5,624.458 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><a href="https://www.npmjs.com/package/ml-distance" target="_top" title="https://www.npmjs.com/package/ml-distance" xlink:actuate="onRequest" xlink:href="https://www.npmjs.com/package/ml-distance" xlink:show="new" xlink:title="https://www.npmjs.com/package/ml-distance" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="77" x="943.5" y="642.0264">ml-distance</text></a><line style="stroke:#181818;stroke-width:1.0;" x1="858" x2="905" y1="674.168" y2="674.168"/><line style="stroke:#181818;stroke-width:1.0;" x1="905" x2="905" y1="674.168" y2="687.168"/><line style="stroke:#181818;stroke-width:1.0;" x1="864" x2="905" y1="687.168" y2="687.168"/><polygon fill="#181818" points="874,683.168,864,687.168,874,691.168,870,687.168" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="870" y="669.4258">addDocuments</text><polygon fill="#181818" points="709.5,717.4785,699.5,721.4785,709.5,725.4785,705.5,721.4785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="852" y1="721.4785" y2="721.4785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="715.5" y="716.7363">embedDocuments</text><line style="stroke:#181818;stroke-width:1.0;" x1="698.5" x2="745.5" y1="745.7891" y2="745.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="745.5" x2="745.5" y1="745.7891" y2="758.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="704.5" x2="745.5" y1="758.7891" y2="758.7891"/><polygon fill="#181818" points="714.5,754.7891,704.5,758.7891,714.5,762.7891,710.5,758.7891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="710.5" y="741.0469">embeddingWithRetry</text><polygon fill="#181818" points="1517.5,789.0996,1527.5,793.0996,1517.5,797.0996,1521.5,793.0996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="1523.5" y1="793.0996" y2="793.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="710.5" y="788.3574">createEmbedding</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="703.5" x2="745.5" y1="827.4102" y2="827.4102"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5" x2="745.5" y1="827.4102" y2="840.4102"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="698.5" x2="745.5" y1="840.4102" y2="840.4102"/><polygon fill="#181818" points="708.5,836.4102,698.5,840.4102,708.5,844.4102,704.5,840.4102" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="710.5" y="822.668">embeddings</text><polygon fill="#181818" points="841,860.7207,851,864.7207,841,868.7207,845,864.7207" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="693.5" x2="847" y1="864.7207" y2="864.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="700.5" y="859.9785">embeddings</text><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="905" y1="894.0313" y2="894.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="905" x2="905" y1="894.0313" y2="907.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="864" x2="905" y1="907.0313" y2="907.0313"/><polygon fill="#181818" points="874,903.0313,864,907.0313,874,911.0313,870,907.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="870" y="889.2891">addVectors</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="863" x2="905" y1="941.3418" y2="941.3418"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="905" x2="905" y1="941.3418" y2="954.3418"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="858" x2="905" y1="954.3418" y2="954.3418"/><polygon fill="#181818" points="868,950.3418,858,954.3418,868,958.3418,864,954.3418" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="870" y="936.5996">instance</text><polygon fill="#181818" points="44.5,974.6523,34.5,978.6523,44.5,982.6523,40.5,978.6523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="852" y1="978.6523" y2="978.6523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="50.5" y="973.9102">store</text><polygon fill="#181818" points="836,1003.9629,846,1007.9629,836,1011.9629,840,1007.9629" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="842" y1="1007.9629" y2="1007.9629"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="485" x="40.5" y="1003.2207">VectorStore.similaritySearch('What did the president say about Justice Breyer')</text><polygon fill="#181818" points="709.5,1033.2734,699.5,1037.2734,709.5,1041.2734,705.5,1037.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="847" y1="1037.2734" y2="1037.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="715.5" y="1032.5313">embedQuery</text><line style="stroke:#181818;stroke-width:1.0;" x1="698.5" x2="745.5" y1="1061.584" y2="1061.584"/><line style="stroke:#181818;stroke-width:1.0;" x1="745.5" x2="745.5" y1="1061.584" y2="1074.584"/><line style="stroke:#181818;stroke-width:1.0;" x1="704.5" x2="745.5" y1="1074.584" y2="1074.584"/><polygon fill="#181818" points="714.5,1070.584,704.5,1074.584,714.5,1078.584,710.5,1074.584" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="710.5" y="1056.8418">embeddingWithRetry</text><polygon fill="#181818" points="1517.5,1104.8945,1527.5,1108.8945,1517.5,1112.8945,1521.5,1108.8945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="1523.5" y1="1108.8945" y2="1108.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="710.5" y="1104.1523">createEmbedding</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="703.5" x2="745.5" y1="1143.2051" y2="1143.2051"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5" x2="745.5" y1="1143.2051" y2="1156.2051"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="698.5" x2="745.5" y1="1156.2051" y2="1156.2051"/><polygon fill="#181818" points="708.5,1152.2051,698.5,1156.2051,708.5,1160.2051,704.5,1156.2051" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="710.5" y="1138.4629">embeddings</text><polygon fill="#181818" points="836,1176.5156,846,1180.5156,836,1184.5156,840,1180.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="693.5" x2="842" y1="1180.5156" y2="1180.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="700.5" y="1175.7734">embeddings</text><line style="stroke:#181818;stroke-width:1.0;" x1="858" x2="905" y1="1204.8262" y2="1204.8262"/><line style="stroke:#181818;stroke-width:1.0;" x1="905" x2="905" y1="1204.8262" y2="1217.8262"/><line style="stroke:#181818;stroke-width:1.0;" x1="864" x2="905" y1="1217.8262" y2="1217.8262"/><polygon fill="#181818" points="874,1213.8262,864,1217.8262,874,1221.8262,870,1217.8262" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="870" y="1200.084">similaritySearchVectorWithScore</text><path d="M1084,1197.0156 L1084,1222.0156 L1209,1222.0156 L1209,1207.0156 L1199,1197.0156 L1084,1197.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1199,1197.0156 L1199,1207.0156 L1209,1207.0156 L1199,1197.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><a href="https://mljs.github.io/distance/functions/similarity.cosine.html" target="_top" title="https://mljs.github.io/distance/functions/similarity.cosine.html" xlink:actuate="onRequest" xlink:href="https://mljs.github.io/distance/functions/similarity.cosine.html" xlink:show="new" xlink:title="https://mljs.github.io/distance/functions/similarity.cosine.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="104" x="1090" y="1214.584">cosine similarity</text></a><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="863" x2="905" y1="1257.1367" y2="1257.1367"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="905" x2="905" y1="1257.1367" y2="1270.1367"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="858" x2="905" y1="1270.1367" y2="1270.1367"/><polygon fill="#181818" points="868,1266.1367,858,1270.1367,868,1274.1367,864,1270.1367" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="870" y="1252.3945">result</text><polygon fill="#181818" points="44.5,1290.4473,34.5,1294.4473,44.5,1298.4473,40.5,1294.4473" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="852" y1="1294.4473" y2="1294.4473"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="50.5" y="1289.7051">relevantDocs</text><polygon fill="#181818" points="1034.5,1304.4473,1044.5,1308.4473,1034.5,1312.4473,1038.5,1308.4473" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="1040.5" y1="1308.4473" y2="1308.4473"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="1046.5" y="1302.4473"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1053.5" y="1322.9824">OpenAI</text><polygon fill="#181818" points="44.5,1361.2461,34.5,1365.2461,44.5,1369.2461,40.5,1365.2461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="1078" y1="1365.2461" y2="1365.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="50.5" y="1360.5039">model</text><polygon fill="#181818" points="1109.5,1390.5566,1119.5,1394.5566,1109.5,1398.5566,1113.5,1394.5566" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="1115.5" y1="1394.5566" y2="1394.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="40.5" y="1389.8145">loadQARefineChaing(model)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="1121.5" y="1373.2461"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1128.5" y="1393.7813">RefineDocumentsChain</text><polygon fill="#181818" points="1293.5,1416.7344,1303.5,1420.7344,1293.5,1424.7344,1297.5,1420.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1208.5" x2="1299.5" y1="1420.7344" y2="1420.7344"/><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1305.5" y="1414.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1312.5" y="1435.2695">LLMChain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1313" y="1451.7578">question)</text><path d="M5,1477.7109 L5,1563.7109 L1558,1563.7109 L1558,1487.7109 L1548,1477.7109 L5,1477.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1548,1477.7109 L1548,1487.7109 L1558,1487.7109 L1548,1477.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="500.75" y="1495.2793">```</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="500.75" y="1510.5898">Context information is below.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="500.75" y="1525.9004">{context}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="553" x="500.75" y="1541.2109">Given the context information and not prior knowledge, answer the question: {question}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="500.75" y="1556.5215">```</text><polygon fill="#181818" points="1383.5,1571.2637,1393.5,1575.2637,1383.5,1579.2637,1387.5,1575.2637" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1208.5" x2="1389.5" y1="1575.2637" y2="1575.2637"/><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1395.5" y="1569.2637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1402.5" y="1589.7988">LLMChain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1413" y="1606.2871">refine)</text><path d="M5,1632.2402 L5,1764.2402 L1558,1764.2402 L1558,1642.2402 L1548,1632.2402 L5,1632.2402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1548,1632.2402 L1548,1642.2402 L1558,1642.2402 L1548,1632.2402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="524.75" y="1649.8086">The original question is as follows: {question}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="524.75" y="1665.1191">We have provided an existing answer: {existing_answer}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="524.75" y="1680.4297">We have the opportunity to refine the existing answer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="524.75" y="1695.7402">(only if needed) with some more context below.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="524.75" y="1711.0508">{context}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="501" x="524.75" y="1726.3613">Given the new context, refine the original answer to better answer the question.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333" x="524.75" y="1741.6719">If the context isn't useful, return the original answer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="524.75" y="1756.9824"> </text><polygon fill="#181818" points="1191.5,1787.0352,1201.5,1791.0352,1191.5,1795.0352,1195.5,1791.0352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="1197.5" y1="1791.0352" y2="1791.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="40.5" y="1786.293">BaseChain:call</text><line style="stroke:#181818;stroke-width:1.0;" x1="1213.5" x2="1260.5" y1="1815.3457" y2="1815.3457"/><line style="stroke:#181818;stroke-width:1.0;" x1="1260.5" x2="1260.5" y1="1815.3457" y2="1828.3457"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1260.5" y1="1828.3457" y2="1828.3457"/><polygon fill="#181818" points="1229.5,1824.3457,1219.5,1828.3457,1229.5,1832.3457,1225.5,1828.3457" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="1225.5" y="1810.6035">_call</text><polygon fill="#181818" points="1328.5,1858.6563,1338.5,1862.6563,1328.5,1866.6563,1332.5,1862.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1218.5" x2="1334.5" y1="1862.6563" y2="1862.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1225.5" y="1857.9141">predict</text><line style="stroke:#181818;stroke-width:1.0;" x1="1350.5" x2="1397.5" y1="1886.9668" y2="1886.9668"/><line style="stroke:#181818;stroke-width:1.0;" x1="1397.5" x2="1397.5" y1="1886.9668" y2="1899.9668"/><line style="stroke:#181818;stroke-width:1.0;" x1="1356.5" x2="1397.5" y1="1899.9668" y2="1899.9668"/><polygon fill="#181818" points="1366.5,1895.9668,1356.5,1899.9668,1366.5,1903.9668,1362.5,1899.9668" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="1362.5" y="1882.2246">call</text><polygon fill="#181818" points="1095,1930.2773,1085,1934.2773,1095,1938.2773,1091,1934.2773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1089" x2="1344.5" y1="1934.2773" y2="1934.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="1101" y="1929.5352">BaseLLM:generatePrompt</text><polygon fill="#181818" points="1517.5,1959.5879,1527.5,1963.5879,1517.5,1967.5879,1521.5,1963.5879" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1084" x2="1523.5" y1="1963.5879" y2="1963.5879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1091" y="1958.8457">createCompletion</text><polygon fill="#181818" points="1423.5,1988.8984,1433.5,1992.8984,1423.5,1996.8984,1427.5,1992.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1218.5" x2="1429.5" y1="1992.8984" y2="1992.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1225.5" y="1988.1563">predict</text><polygon fill="#181818" points="1423.5,2018.209,1433.5,2022.209,1423.5,2026.209,1427.5,2022.209" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1218.5" x2="1429.5" y1="2022.209" y2="2022.209"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1225.5" y="2017.4668">predict</text><polygon fill="#181818" points="1423.5,2047.5195,1433.5,2051.5195,1423.5,2055.5195,1427.5,2051.5195" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1218.5" x2="1429.5" y1="2051.5195" y2="2051.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1225.5" y="2046.7773">predict</text><!--MD5=[5f2565438877259e59296d475a49b296]
--></g></svg>
