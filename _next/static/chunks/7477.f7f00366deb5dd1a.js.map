{"version":3,"file":"static/chunks/7477.f7f00366deb5dd1a.js","mappings":"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","sources":["webpack://_N_E/./pages/blogs/2021-10-05-scales/VisxLegend.tsx","webpack://_N_E/./pages/blogs/2021-10-05-scales/Legend.ts","webpack://_N_E/./node_modules/d3-random/src/defaultSource.js","webpack://_N_E/./node_modules/d3-random/src/normal.js","webpack://_N_E/./node_modules/d3-interpolate/src/piecewise.js","webpack://_N_E/./node_modules/d3-scale/src/diverging.js","webpack://_N_E/./node_modules/d3-scale/src/sequentialQuantile.js","webpack://_N_E/./node_modules/d3-scale/src/quantize.js","webpack://_N_E/./node_modules/d3-scale/src/quantile.js","webpack://_N_E/./node_modules/d3-scale/src/threshold.js","webpack://_N_E/./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://_N_E/./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack://_N_E/./node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://_N_E/./node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://_N_E/./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://_N_E/./node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://_N_E/./pages/blogs/2021-10-05-scales/D3Legend.tsx","webpack://_N_E/./pages/blogs/2021-10-05-scales/ColorLegend.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\nimport * as React from 'react';\n\nimport { format } from 'd3-format';\nimport { interpolate, interpolateRound, quantize } from 'd3-interpolate';\nimport { ScaleLinear, ScaleSequential } from 'd3-scale';\n\nimport { AxisBottom } from '@visx/axis';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction isLinear<T>(scale: any): scale is T {\n  return Boolean(scale.interpolate);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction isSequential<T>(scale: any): scale is T {\n  return Boolean(scale.interpolator);\n}\n\n// function isLinear<T>(scale: any): scale is T {\n//   // eslint-disable-next-line @typescript-eslint/no-explicit-any\n//   return Boolean((scale as any).interpolate);\n// }\n\nfunction ramp(color: (num: number) => string, n = 256) {\n  const canvas = document.createElement('canvas');\n  canvas.width = n;\n  canvas.height = 1;\n  const context = canvas.getContext('2d');\n  if (context) {\n    for (let i = 0; i < n; i += 1) {\n      context.fillStyle = color(i / (n - 1));\n      context.fillRect(i, 0, 1, 1);\n    }\n  }\n  return canvas;\n}\n\nexport type Props = {\n  className?: string;\n  children?: React.ReactNode;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  color: any;\n  title?: string;\n  tickSize?: number;\n  width?: number;\n  height?: number;\n  marginTop?: number;\n  marginRight?: number;\n  marginBottom?: number;\n  marginLeft?: number;\n  ticks?: number;\n  tickFormat?: ReturnType<typeof format> | string;\n  tickValues?: number[];\n};\n\nconst VisxLegend = React.memo((props: Props) => {\n  const {\n    className,\n    color,\n    title = '',\n    tickSize = 6,\n    width = 320,\n    height = 44 + tickSize,\n    marginTop = 18,\n    marginRight = 0,\n    marginBottom = 16 + tickSize,\n    marginLeft = 0,\n    ticks = width / 64,\n  } = props;\n\n  // adjustedScale = color\n  //   .copy()\n  //   .rangeRound(quantize(interpolate(marginLeft, width - marginRight), n));\n\n  // const scale = React.useMemo(() => {\n  //   if (isLinear<ScaleForAxis>(color)) {\n  //     console.log('VisxLegend: linear');\n  //     const n = Math.min(color.domain().length, color.range().length);\n  //     return color\n  //       .copy()\n  //       .rangeRound(quantize(interpolate(marginLeft, width - marginRight), n));\n  //   }\n  //   if (isSequential<ScaleSequentialForAxis>(color)) {\n  //     console.log('VisxLegend: sequential');\n  //     return Object.assign(\n  //       color\n  //         .copy()\n  //         .interpolator(interpolateRound(marginLeft, width - marginRight)),\n  //       {\n  //         range() {\n  //           return [marginLeft, width - marginRight];\n  //         },\n  //       }\n  //     );\n  //   }\n  //   return undefined;\n  // }, [color]);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const refScale = React.useRef<any>(undefined);\n  const [imageUrl, setImageUrl] = React.useState('');\n  React.useEffect(() => {\n    if (isLinear<ScaleLinear<number, unknown>>(color)) {\n      // eslint-disable-next-line no-console\n      console.log(`visx:${title}: linear`);\n      const n = Math.min(color.domain().length, color.range().length);\n      const scaleNext = color.copy().rangeRound(quantize(interpolate(marginLeft, width - marginRight), n));\n      refScale.current = scaleNext;\n      setImageUrl(ramp(color.copy().domain(quantize(interpolate(0, 1), n)) as ScaleLinear<number, string>).toDataURL());\n    }\n    if (isSequential<ScaleSequential<string, unknown>>(color)) {\n      // eslint-disable-next-line no-console\n      console.log(`visx:${title}: sequential`);\n      const scaleNext = Object.assign(\n        color.copy().interpolator(interpolateRound(marginLeft, width - marginRight))\n        // {\n        //   range() {\n        //     return [marginLeft, width - marginRight];\n        //   },\n        // }\n      );\n      refScale.current = scaleNext;\n      setImageUrl(ramp(color.interpolator()).toDataURL());\n    }\n  }, [color]);\n\n  return (\n    <svg\n      className={className}\n      width={width}\n      height={height}\n      viewBox={[0, 0, width, height].join(',')}\n      style={{\n        overflow: 'visible',\n        display: 'block',\n      }}\n    >\n      <image\n        preserveAspectRatio=\"none\"\n        x={marginLeft}\n        y={marginTop}\n        width={width - marginLeft - marginRight}\n        height={height - marginTop - marginBottom}\n        xlinkHref={imageUrl}\n      />\n      <g transform={`translate(0, ${height - marginBottom})`}>\n        {refScale.current && <AxisBottom scale={refScale.current} numTicks={ticks} />}\n        <text\n          x={marginLeft}\n          y={marginTop + marginBottom - height - 6}\n          fill=\"currentColor\"\n          textAnchor=\"start\"\n          fontWeight=\"bold\"\n        >\n          {title}\n        </text>\n      </g>\n    </svg>\n  );\n});\n\nexport default VisxLegend;\n","/* eslint-disable no-nested-ternary */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable @typescript-eslint/no-shadow */\nimport { range, quantile } from 'd3-array';\nimport { axisBottom } from 'd3-axis';\nimport { format } from 'd3-format';\nimport { quantize, interpolate, interpolateRound } from 'd3-interpolate';\nimport {\n  ScaleSequential,\n  ScaleSequentialQuantile,\n  ScaleQuantize,\n  ScaleQuantile,\n  ScaleThreshold,\n  ScaleLinear,\n  ScaleOrdinal,\n  scaleLinear,\n  scaleBand,\n} from 'd3-scale';\nimport { create, Selection, BaseType } from 'd3-selection';\n\ntype ScaleThresholdLike<Output> = ScaleQuantize<number> | ScaleQuantile<number> | ScaleThreshold<number, Output>;\n\ntype Scale<Output> =\n  | ScaleLinear<unknown, Output>\n  | ScaleSequential<Output>\n  | ScaleSequentialQuantile<Output>\n  | ScaleThresholdLike<Output>\n  | ScaleOrdinal<number, Output>;\ntype StringOutputScale = Scale<string>;\n\nfunction isLinear(scale: StringOutputScale): scale is ScaleLinear<unknown, string> {\n  return (scale as any).interpolate;\n}\n\nfunction isSequential(scale: StringOutputScale): scale is ScaleSequential<string> | ScaleSequentialQuantile<string> {\n  return (scale as any).interpolator;\n}\n\nfunction isSequentialQuantile(scale: StringOutputScale): scale is ScaleSequentialQuantile<string> {\n  return !(scale as any).ticks;\n}\n\nfunction isThresholdLike(scale: StringOutputScale): scale is ScaleThresholdLike<string> {\n  return (scale as any).invertExtent;\n}\n\nfunction isQuantize(scale: StringOutputScale): scale is ScaleQuantize<number> {\n  return (scale as any).thresholds;\n}\n\nfunction isQuantile(scale: StringOutputScale): scale is ScaleQuantile<number> {\n  return (scale as any).quantile;\n}\n\nfunction isOrdinal(scale: StringOutputScale): scale is ScaleOrdinal<number, string> {\n  return scale as any;\n}\n\n// const scaleX = scaleSequential()\n//   .domain([0, 100])\n//   .interpolator(interpolateBlues);\n\nexport function notEmpty<TValue>(value: TValue | null | undefined | ''): value is TValue {\n  return value !== null && value !== undefined && value !== '';\n}\n\n// https://observablehq.com/@d3/color-legend#legend\n\nexport type Options = {\n  title?: string;\n  tickSize?: number;\n  width?: number;\n  height?: number;\n  marginTop?: number;\n  marginRight?: number;\n  marginBottom?: number;\n  marginLeft?: number;\n  ticks?: number;\n  tickFormat?: ReturnType<typeof format> | string;\n  tickValues?: number[];\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function Legend(\n  color: StringOutputScale,\n  {\n    title = '',\n    tickSize = 6,\n    width = 320,\n    height = 44 + tickSize,\n    marginTop = 18,\n    marginRight = 0,\n    marginBottom = 16 + tickSize,\n    marginLeft = 0,\n    ticks = width / 64,\n    tickFormat,\n    tickValues,\n  }: Options = {}\n) {\n  function ramp(color: (num: number) => string, n = 256) {\n    const canvas = document.createElement('canvas');\n    canvas.width = n;\n    canvas.height = 1;\n    const context = canvas.getContext('2d');\n    if (context) {\n      for (let i = 0; i < n; i += 1) {\n        context.fillStyle = color(i / (n - 1));\n        context.fillRect(i, 0, 1, 1);\n      }\n    }\n    return canvas;\n  }\n\n  const svg = create('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('viewBox', [0, 0, width, height].join(','))\n    .style('overflow', 'visible')\n    .style('display', 'block');\n\n  let tickAdjust = (\n    g: Selection<SVGGElement, unknown, SVGGElement, unknown>\n  ): Selection<BaseType, unknown, SVGGElement, unknown> | void =>\n    g.selectAll('.tick line').attr('y1', marginTop + marginBottom - height);\n  let adjustedScale: any; // (domain: number) => string;\n\n  // Continuous\n  if (isLinear(color)) {\n    const n = Math.min(color.domain().length, color.range().length);\n    // eslint-disable-next-line no-console\n    console.log(`d3:${title}: Continuous`, { n });\n\n    adjustedScale = color.copy().rangeRound(quantize(interpolate(marginLeft, width - marginRight), n));\n\n    svg\n      .append('image')\n      .attr('x', marginLeft)\n      .attr('y', marginTop)\n      .attr('width', width - marginLeft - marginRight)\n      .attr('height', height - marginTop - marginBottom)\n      .attr('preserveAspectRatio', 'none')\n      .attr('xlink:href', ramp(color.copy().domain(quantize(interpolate(0, 1), n))).toDataURL());\n  }\n\n  // Sequential\n  else if (isSequential(color)) {\n    // eslint-disable-next-line no-console\n    console.log(`d3:${title}: Sequential`);\n\n    adjustedScale = Object.assign(color.copy().interpolator(interpolateRound(marginLeft, width - marginRight)), {\n      range() {\n        return [marginLeft, width - marginRight];\n      },\n    });\n\n    svg\n      .append('image')\n      .attr('x', marginLeft)\n      .attr('y', marginTop)\n      .attr('width', width - marginLeft - marginRight)\n      .attr('height', height - marginTop - marginBottom)\n      .attr('preserveAspectRatio', 'none')\n      .attr('xlink:href', ramp(color.interpolator()).toDataURL());\n\n    // scaleSequentialQuantile doesn’t implement ticks or tickFormat.\n    if (isSequentialQuantile(color)) {\n      // eslint-disable-next-line no-console\n      console.log(`d3:${title}: Sequential Quantile`);\n      if (tickValues === undefined) {\n        const n = Math.round(ticks + 1);\n        tickValues = range(n)\n          .map((i) => quantile(color.domain(), i / (n - 1)))\n          .filter(notEmpty);\n      }\n      if (typeof tickFormat !== 'function') {\n        tickFormat = format(tickFormat === undefined ? ',f' : tickFormat);\n      }\n    }\n  }\n\n  // Threshold\n  else if (isThresholdLike(color)) {\n    // eslint-disable-next-line no-console\n    console.log(`d3:${title}: Threshold`);\n    const thresholds = isQuantize(color)\n      ? color.thresholds() // scaleQuantize\n      : isQuantile(color)\n      ? color.quantiles() // scaleQuantile\n      : color.domain(); // scaleThreshold\n\n    const thresholdFormat =\n      tickFormat === undefined ? (d: any) => d : typeof tickFormat === 'string' ? format(tickFormat) : tickFormat;\n\n    const scale = scaleLinear()\n      .domain([-1, color.range().length - 1])\n      .rangeRound([marginLeft, width - marginRight]);\n\n    svg\n      .append('g')\n      .selectAll('rect')\n      .data<number | string>(color.range())\n      .join('rect')\n      .attr('x', (_, i) => scale(i - 1))\n      .attr('y', marginTop)\n      .attr('width', (_, i) => scale(i) - scale(i - 1))\n      .attr('height', height - marginTop - marginBottom)\n      .attr('fill', (d) => d);\n\n    tickValues = range(thresholds.length);\n    tickFormat = (i) => typeof i === 'number' && thresholdFormat(thresholds[i]);\n    // tickFormat = (i: number) => thresholdFormat(thresholds[i], i);\n    adjustedScale = scale;\n  }\n\n  // Ordinal\n  else if (isOrdinal(color)) {\n    // eslint-disable-next-line no-console\n    console.log(`d3:${title}: Ordinal`);\n    const scale = scaleBand()\n      .domain(color.domain().map((value) => `${value}`))\n      .rangeRound([marginLeft, width - marginRight]);\n\n    svg\n      .append('g')\n      .selectAll('rect')\n      .data(color.domain())\n      .join('rect')\n      .attr('x', scale as any)\n      .attr('y', marginTop)\n      .attr('width', Math.max(0, scale.bandwidth() - 1))\n      .attr('height', height - marginTop - marginBottom)\n      .attr('fill', color);\n\n    tickAdjust = (): void => {};\n\n    adjustedScale = scale;\n  }\n\n  // console.log('Legend', { tickFormat, ticks });\n  svg\n    .append('g')\n    .attr('transform', `translate(0,${height - marginBottom})`)\n    .call(\n      axisBottom(adjustedScale)\n        .ticks(ticks, typeof tickFormat === 'string' ? tickFormat : undefined)\n        .tickFormat((typeof tickFormat === 'function' ? tickFormat : undefined) as any)\n        .tickSize(tickSize)\n        .tickValues(tickValues as any)\n    )\n    .call(tickAdjust as any)\n    .call((g) => g.select('.domain').remove())\n    .call((g) =>\n      g\n        .append('text')\n        .attr('x', marginLeft)\n        .attr('y', marginTop + marginBottom - height - 6)\n        .attr('fill', 'currentColor')\n        .attr('text-anchor', 'start')\n        .attr('font-weight', 'bold')\n        .attr('class', 'title')\n        .text(title)\n    );\n\n  return svg.node();\n}\n","export default Math.random;\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import * as React from 'react';\n\nimport { Legend, Options } from './Legend';\n\nexport type Props = {\n  className?: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  color: any;\n} & Options;\n\nconst D3Legend = React.memo((props: Props) => {\n  const { className, color, ...options } = props;\n\n  const refRoot = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    const svg = Legend(color, options);\n    if (refRoot.current && svg) {\n      refRoot.current.innerHTML = '';\n      refRoot.current.appendChild(svg);\n    }\n  }, []);\n  return <div className={className} ref={refRoot} />;\n});\n\nexport default D3Legend;\n","/* eslint-disable @typescript-eslint/no-shadow */\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport * as React from 'react';\n\nimport { range } from 'd3-array';\nimport { randomNormal } from 'd3-random';\nimport {\n  scaleDiverging,\n  scaleDivergingSqrt,\n  scaleOrdinal,\n  scaleQuantile,\n  scaleQuantize,\n  scaleSequential,\n  scaleSequentialLog,\n  scaleSequentialQuantile,\n  scaleSequentialSqrt,\n  scaleSqrt,\n  scaleThreshold,\n} from 'd3-scale';\nimport {\n  interpolateBlues,\n  interpolatePiYG,\n  interpolateRdBu,\n  interpolateTurbo,\n  interpolateViridis,\n  schemePurples,\n  schemeRdBu,\n  schemeSpectral,\n} from 'd3-scale-chromatic';\n\nimport { ParentSize } from '@visx/responsive';\n\nimport D3Legend from './D3Legend';\nimport VisxLegend, { Props as VisxLegendProps } from './VisxLegend';\n\nexport type Props = {\n  width: number;\n  height: number;\n  data?: Item[];\n};\n\nexport type Item = {\n  title: string;\n};\n\nconst Content = React.memo((props: Props) => {\n  // eslint-disable-next-line\n  const { width, height } = props;\n  const items = React.useMemo<VisxLegendProps[]>(\n    () => [\n      {\n        title: 'scaleSequential([0, 1000], interpolateViridis)',\n        color: scaleSequential([0, 1000], interpolateViridis),\n      },\n      {\n        title: 'scaleSequentialSqrt([0, 1], interpolateTurbo)',\n        color: scaleSequentialSqrt([0, 1], interpolateTurbo),\n      },\n      {\n        title: 'scaleDiverging([-0.1, 0, 0.1], interpolatePiYG)',\n        color: scaleDiverging([-0.1, 0, 0.1], interpolatePiYG),\n        tickFormat: '+%',\n      },\n      {\n        title: 'scaleDivergingSqrt([-0.1, 0, 0.1], interpolateRdBu)',\n        color: scaleDivergingSqrt([-0.1, 0, 0.1], interpolateRdBu),\n        tickFormat: '+%',\n      },\n      {\n        title: 'Energy(joules): scaleSequentialLog([1, 100], interpolateBlues)',\n        color: scaleSequentialLog([1, 100], interpolateBlues),\n        ticks: 10,\n      },\n      {\n        title: 'Quantile: scaleSequentialQuantile(range(100).map(() => Math.random() ** 2), interpolateBlues)',\n        color: scaleSequentialQuantile(\n          range(100).map(() => Math.random() ** 2),\n          interpolateBlues\n        ),\n        tickFormat: '.2f',\n      },\n      {\n        title: 'Temperature: scaleSqrt([-100, 0, 100], [\"blue\", \"white\", \"red\"]',\n        color: scaleSqrt([-100, 0, 100], ['blue', 'white', 'red']),\n      },\n      {\n        title: 'Unemployment rate: scaleQuantize([1, 10], schemePurples[9])',\n        color: scaleQuantize([1, 10], schemePurples[9]),\n      },\n      {\n        title: 'Height: scaleQuantile(range(1000).map(randomNormal(100, 20)), schemeSpectral[9])',\n        color: scaleQuantile(range(1000).map(randomNormal(100, 20)), schemeSpectral[9]),\n        tickFormat: '.0f',\n      },\n      {\n        title: 'Unemployment rate: scaleThreshold([2.5, 3.1, 3.5, 3.9, 6, 7, 8, 9.5], schemeRdBu[9]',\n        color: scaleThreshold([2.5, 3.1, 3.5, 3.9, 6, 7, 8, 9.5], schemeRdBu[9]),\n        tickSize: 0,\n      },\n      {\n        title:\n          'Age: scaleOrdinal([\"<10\", \"10-19\", \"20-29\", \"30-39\", \"40-49\", \"50-59\", \"60-69\", \"70-79\", \"≥80\"], schemeSpectral[10])',\n        color: scaleOrdinal(\n          ['<10', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '≥80'],\n          schemeSpectral[10]\n        ),\n      },\n    ],\n    []\n  );\n\n  return (\n    <>\n      <h3>Color Legend Examples</h3>\n      <ul>\n        {items.map((props, i) => {\n          const { title } = props;\n          return (\n            <li key={i}>\n              <h4>{title}</h4>\n              <D3Legend {...props} />\n              <VisxLegend {...props} />\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n});\n\nconst ColorLegend = React.memo(() => <ParentSize>{({ width }) => <Content width={width} height={300} />}</ParentSize>);\n\nexport default ColorLegend;\n"],"names":["ramp","color","n","canvas","document","createElement","width","height","context","getContext","i","fillStyle","fillRect","React","props","className","VisxLegend","title","tickSize","marginTop","marginRight","marginBottom","marginLeft","ticks","refScale","undefined","imageUrl","setImageUrl","scale","isLinear","interpolate","console","log","Math","min","domain","length","range","current","copy","rangeRound","quantize","toDataURL","interpolator","Object","scaleNext","assign","interpolateRound","svg","viewBox","join","style","overflow","display","image","preserveAspectRatio","x","y","xlinkHref","g","transform","AxisBottom","numTicks","text","fill","textAnchor","fontWeight","notEmpty","value","Legend","tickFormat","tickValues","create","attr","tickAdjust","selectAll","adjustedScale","append","isSequential","round","map","quantile","filter","format","isThresholdLike","invertExtent","thresholds","quantiles","thresholdFormat","d","scaleLinear","data","_","isOrdinal","scaleBand","max","bandwidth","call","axisBottom","select","remove","node","transformer","t0","t1","t2","k10","k21","unknown","x0","x1","x2","s","identity","clamp","isNaN","r0","r1","r2","arguments","t","D3Legend","options","refRoot","innerHTML","appendChild","div","ref","Content","items","scaleSequential","interpolateViridis","scaleSequentialSqrt","interpolateTurbo","diverging","linearish","initInterpolator","apply","interpolatePiYG","scaleDivergingSqrt","divergingSqrt","divergingPow","powish","exponent","interpolateRdBu","scaleSequentialLog","interpolateBlues","sequentialQuantile","scaleSequentialQuantile","bisect","slice","push","sort","ascending","Array","from","random","scaleSqrt","scaleQuantize","rescale","indexOf","NaN","initRange","schemePurples","scaleQuantile","threshold","randomNormal","schemeSpectral","scaleThreshold","schemeRdBu","scaleOrdinal","h3","ul","li","h4","ParentSize","ColorLegend"],"sourceRoot":"","ignoreList":[2,3,4,5,6,7,8,9,10,11,12,13,14,15]}