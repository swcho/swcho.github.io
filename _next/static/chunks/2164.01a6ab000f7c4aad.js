"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2164],{72164:(e,t,W)=>{W.r(t),W.d(t,{default:()=>tr});var o=W(18153),i=W(49082),n=W(45302),r=W(14232),a=W(14796),s=function(e){return e.Front="FRONT",e.Right="RIGHT",e.Left="LEFT",e.Top="TOP",e.Bottom="BOTTOM",e.Back="BACK",e}({}),l=function(e){return e.Top="TOP",e.Bottom="BOTTOM",e.Left="LEFT",e.Right="RIGHT",e}({}),c=function(e){return e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e}({});s.Front,new a.Vector3(0,0,0),s.Back,new a.Vector3(0,Math.PI,0),s.Left,new a.Vector3(0,-(.5*Math.PI),0),s.Right,new a.Vector3(0,.5*Math.PI,0),s.Top,new a.Vector3(-(.5*Math.PI),0,0),s.Bottom,new a.Vector3(.5*Math.PI,0,0);let C={[s.Front]:new a.Vector3(0,0,1),[s.Right]:new a.Vector3(1,0,0),[s.Left]:new a.Vector3(-1,0,0),[s.Top]:new a.Vector3(0,1,0),[s.Bottom]:new a.Vector3(0,-1,0),[s.Back]:new a.Vector3(0,0,-1)},d={[s.Front]:{xAxis:"x",yAxis:"y",zAxis:"z",xFactor:1,yFactor:-1,zFactor:1},[s.Left]:{xAxis:"z",yAxis:"y",zAxis:"x",xFactor:1,yFactor:-1,zFactor:-1},[s.Right]:{xAxis:"z",yAxis:"y",zAxis:"x",xFactor:-1,yFactor:-1,zFactor:1},[s.Top]:{xAxis:"x",yAxis:"z",zAxis:"y",xFactor:1,yFactor:1,zFactor:1},[s.Bottom]:{xAxis:"x",yAxis:"z",zAxis:"y",xFactor:1,yFactor:-1,zFactor:-1},[s.Back]:{xAxis:"x",yAxis:"y",zAxis:"z",xFactor:-1,yFactor:-1,zFactor:-1}},p={[s.Front]:(e,t)=>({xFactor:1,yFactor:-1,zFactor:1,x:e,y:t,z:null}),[s.Left]:(e,t)=>({xFactor:-1,yFactor:-1,zFactor:1,x:null,y:t,z:e}),[s.Right]:(e,t)=>({xFactor:1,yFactor:-1,zFactor:-1,x:null,y:t,z:e}),[s.Top]:(e,t)=>({xFactor:1,yFactor:1,zFactor:1,x:e,y:null,z:t}),[s.Bottom]:(e,t)=>({xFactor:1,yFactor:-1,zFactor:-1,x:e,y:null,z:t}),[s.Back]:(e,t)=>({xFactor:-1,yFactor:-1,zFactor:-1,x:e,y:t,z:null})};l.Top,l.Right,l.Bottom,l.Left,s.Front,l.Top,new a.Vector3(0,1,0),l.Right,new a.Vector3(1,0,0),l.Bottom,new a.Vector3(0,-1,0),l.Left,new a.Vector3(-1,0,0),s.Back,l.Top,new a.Vector3(0,1,0),l.Right,new a.Vector3(-1,0,0),l.Bottom,new a.Vector3(0,-1,0),l.Left,new a.Vector3(1,0,0),s.Left,l.Top,new a.Vector3(0,1,0),l.Right,new a.Vector3(0,0,1),l.Bottom,new a.Vector3(0,-1,0),l.Left,new a.Vector3(0,0,-1),s.Right,l.Top,new a.Vector3(0,1,0),l.Right,new a.Vector3(0,0,-1),l.Bottom,new a.Vector3(0,-1,0),l.Left,new a.Vector3(0,0,1),s.Top,l.Top,new a.Vector3(0,0,-1),l.Right,new a.Vector3(1,0,0),l.Bottom,new a.Vector3(0,0,1),l.Left,new a.Vector3(-1,0,0),s.Bottom,l.Top,new a.Vector3(0,0,1),l.Right,new a.Vector3(1,0,0),l.Bottom,new a.Vector3(0,0,-1),l.Left,new a.Vector3(-1,0,0);let g={[s.Front]:new a.Euler(0,0,0),[s.Back]:new a.Euler(0,Math.PI,0),[s.Left]:new a.Euler(0,-Math.PI/2,0),[s.Right]:new a.Euler(0,Math.PI/2,0),[s.Top]:new a.Euler(-Math.PI/2,0,0),[s.Bottom]:new a.Euler(Math.PI/2,0,0)},f={[c.Up]:{position:new a.Vector3(0,1,0),rotation:new a.Vector3(0,0,0)},[c.Down]:{position:new a.Vector3(0,-1,0),rotation:new a.Vector3(0,0,Math.PI)},[c.Right]:{position:new a.Vector3(1,0,0),rotation:new a.Vector3(0,0,-(.5*Math.PI))},[c.Left]:{position:new a.Vector3(-1,0,0),rotation:new a.Vector3(0,0,.5*Math.PI)}},h={[c.Up]:new a.Vector2(0,-1),[c.Down]:new a.Vector2(0,1),[c.Left]:new a.Vector2(-1,0),[c.Right]:new a.Vector2(1,0)};s.Front,s.Left,s.Right,s.Top,s.Bottom,s.Left,s.Front,s.Back,s.Top,s.Bottom,s.Right,s.Front,s.Back,s.Top,s.Bottom,s.Top,s.Front,s.Back,s.Left,s.Right,s.Bottom,s.Front,s.Back,s.Left,s.Right,s.Back,s.Left,s.Right,s.Top,s.Bottom,s.Front,s.Back,s.Back,s.Front,s.Left,s.Right,s.Right,s.Left,s.Top,s.Bottom,s.Bottom,s.Top;var u=function(e){return e.Empty="EMPTY",e.Wall="WALL",e.Start="START",e.Finish="FINISH",e.WallSpike="WALL_SPIKE",e.FloorSpike="FLOOR_SPIKE",e.Coin="Coin",e}({});let m={[u.Empty]:{symbols:[" ","  "]},[u.Wall]:{symbols:["W","WW"]},[u.Start]:{symbols:["S","ST"]},[u.Finish]:{symbols:["F","FI"]},[u.WallSpike]:{symbols:["X"]},[u.FloorSpike]:{symbols:["I"]},[u.Coin]:{symbols:["C","CC"]}},y=[u.Wall,u.WallSpike,u.Finish];u.Wall,u.WallSpike,u.Finish;class w{static create2DArray(e,t,W){let o=Array(e);for(let i=0;i<e;i++)o[i]=Array(t).fill(W);return o}static fillCornerValues(e,t){let W,o;[[0,0],[0,(W=e[0].length)-1],[(o=e.length)-1,0],[o-1,W-1]].forEach(W=>{let[o,i]=W;return e[o][i]=t})}static isArraysHasSameValues(e,t){if(e.length!==t.length)return!1;for(let W=0;W<e.length;W++)if(-1===t.indexOf(e[W]))return!1;return!0}static getRandomArrayElement(e){return e[Math.floor(Math.random()*e.length)]}constructor(){}}var T=function(e){return e.FrontTop="FRONT_TOP",e.FrontDown="FRONT_DOWN",e.FrontLeft="FRONT_LEFT",e.FrontRight="FRONT_RIGHT",e.TopLeft="TOP_LEFT",e.TopRight="TOP_RIGHT",e.DownLeft="DOWN_LEFT",e.DownRight="DOWN_RIGHT",e.BackTop="BACK_TOP",e.BackDown="BACK_DOWN",e.BackLeft="BACK_LEFT",e.BackRight="BACK_RIGHT",e}({}),R=function(e){return e.Top="TOP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e}({});let F={probabilities:[.94,.03,.03,.03]},L={probabilities:[1]},B={rotation:new a.Euler(0,0,0)},b=[new a.Vector3(0,1,1),new a.Vector3(0,-1,1),new a.Vector3(-1,0,1),new a.Vector3(1,0,1),new a.Vector3(-1,1,0),new a.Vector3(1,1,0),new a.Vector3(-1,-1,0),new a.Vector3(1,-1,0),new a.Vector3(0,1,-1),new a.Vector3(0,-1,-1),new a.Vector3(-1,0,-1),new a.Vector3(1,0,-1)],x=[{edge:T.FrontTop,axis:"x",rotation:new a.Euler(0,0,0)},{edge:T.FrontDown,axis:"x",rotation:new a.Euler(.5*Math.PI,0,0)},{edge:T.FrontLeft,axis:"y",rotation:new a.Euler(0,0,.5*Math.PI)},{edge:T.FrontRight,axis:"y",rotation:new a.Euler(0,0,-(.5*Math.PI))},{edge:T.TopLeft,axis:"z",rotation:new a.Euler(0,-(.5*Math.PI),0)},{edge:T.TopRight,axis:"z",rotation:new a.Euler(0,.5*Math.PI,0)},{edge:T.DownLeft,axis:"z",rotation:new a.Euler(0,-(.5*Math.PI),Math.PI)},{edge:T.DownRight,axis:"z",rotation:new a.Euler(0,.5*Math.PI,Math.PI)},{edge:T.BackTop,axis:"x",rotation:new a.Euler(0,Math.PI,0)},{edge:T.BackDown,axis:"x",rotation:new a.Euler(0,Math.PI,Math.PI)},{edge:T.BackLeft,axis:"y",rotation:new a.Euler(0,-(.5*Math.PI),.5*Math.PI)},{edge:T.BackRight,axis:"y",rotation:new a.Euler(0,.5*Math.PI,-(.5*Math.PI))}],k={[s.Front]:[T.FrontTop,T.FrontDown,T.FrontLeft,T.FrontRight],[s.Left]:[T.FrontLeft,T.TopLeft,T.DownLeft,T.BackLeft],[s.Right]:[T.FrontRight,T.TopRight,T.DownRight,T.BackRight],[s.Top]:[T.FrontTop,T.TopLeft,T.TopRight,T.BackTop],[s.Bottom]:[T.FrontDown,T.DownLeft,T.DownRight,T.BackDown],[s.Back]:[T.BackTop,T.BackDown,T.BackLeft,T.BackRight]},D={[s.Front]:{[T.FrontTop]:{positionType:R.Top,direction:1},[T.FrontDown]:{positionType:R.Down,direction:1},[T.FrontLeft]:{positionType:R.Left,direction:-1},[T.FrontRight]:{positionType:R.Right,direction:-1}},[s.Left]:{[T.FrontLeft]:{positionType:R.Right,direction:-1},[T.TopLeft]:{positionType:R.Top,direction:1},[T.DownLeft]:{positionType:R.Down,direction:1},[T.BackLeft]:{positionType:R.Left,direction:-1}},[s.Right]:{[T.FrontRight]:{positionType:R.Left,direction:-1},[T.TopRight]:{positionType:R.Top,direction:-1},[T.DownRight]:{positionType:R.Down,direction:-1},[T.BackRight]:{positionType:R.Right,direction:-1}},[s.Top]:{[T.FrontTop]:{positionType:R.Down,direction:1},[T.TopLeft]:{positionType:R.Left,direction:1},[T.TopRight]:{positionType:R.Right,direction:1},[T.BackTop]:{positionType:R.Top,direction:1}},[s.Bottom]:{[T.FrontDown]:{positionType:R.Top,direction:1},[T.DownLeft]:{positionType:R.Left,direction:-1},[T.DownRight]:{positionType:R.Right,direction:-1},[T.BackDown]:{positionType:R.Down,direction:1}},[s.Back]:{[T.BackTop]:{positionType:R.Top,direction:-1},[T.BackDown]:{positionType:R.Down,direction:-1},[T.BackLeft]:{positionType:R.Right,direction:-1},[T.BackRight]:{positionType:R.Left,direction:-1}}},v={[T.FrontTop]:s.Front,[T.FrontDown]:s.Front,[T.FrontLeft]:s.Front,[T.FrontRight]:s.Front,[T.TopLeft]:s.Top,[T.TopRight]:s.Top,[T.DownLeft]:s.Bottom,[T.DownRight]:s.Bottom,[T.BackTop]:s.Back,[T.BackDown]:s.Back,[T.BackLeft]:s.Back,[T.BackRight]:s.Back},S={[T.FrontTop]:{axis:new a.Vector3(1,0,0),leftRotation:-(.5*Math.PI),rightRotation:0},[T.FrontDown]:{axis:new a.Vector3(1,0,0),leftRotation:.5*Math.PI,rightRotation:0},[T.FrontLeft]:{axis:new a.Vector3(0,1,0),leftRotation:-(.5*Math.PI),rightRotation:0},[T.FrontRight]:{axis:new a.Vector3(0,1,0),leftRotation:.5*Math.PI,rightRotation:0},[T.TopLeft]:{axis:new a.Vector3(0,0,1),leftRotation:.5*Math.PI,rightRotation:0},[T.TopRight]:{axis:new a.Vector3(0,0,1),leftRotation:-(.5*Math.PI),rightRotation:0},[T.DownLeft]:{axis:new a.Vector3(0,0,1),leftRotation:-(.5*Math.PI),rightRotation:0},[T.DownRight]:{axis:new a.Vector3(0,0,1),leftRotation:.5*Math.PI,rightRotation:0},[T.BackTop]:{axis:new a.Vector3(1,0,0),leftRotation:.5*Math.PI,rightRotation:0},[T.BackDown]:{axis:new a.Vector3(1,0,0),leftRotation:-(.5*Math.PI),rightRotation:0},[T.BackLeft]:{axis:new a.Vector3(0,1,0),leftRotation:.5*Math.PI,rightRotation:0},[T.BackRight]:{axis:new a.Vector3(0,1,0),leftRotation:-(.5*Math.PI),rightRotation:0}},z={[T.FrontTop]:!0,[T.FrontDown]:!0,[T.FrontLeft]:!0,[T.FrontRight]:!1,[T.TopLeft]:!0,[T.TopRight]:!1,[T.DownLeft]:!1,[T.DownRight]:!0,[T.BackTop]:!1,[T.BackDown]:!0,[T.BackLeft]:!0,[T.BackRight]:!1};var I=function(e){return e.Angle90="ANGLE_90",e.Angle180="ANGLE_180",e}({}),V=function(e){return e.Regular="REGULAR",e.ForRespawn="FOR_RESPAWN",e}({});let M={grid:{size:1,scale:1},lives:5,cube:{rotationSpeed:{[V.Regular]:{[I.Angle90]:1.8,[I.Angle180]:1.5},[V.ForRespawn]:{[I.Angle90]:3.4,[I.Angle180]:2}}}};class P{static isGridCellsEqual(e,t){return e.x===t.x&&e.y===t.y}static calculateGridLineDistance(e,t,W,o){return Math.abs(e-W)+Math.abs(t-o)}static calculateGridPositionByCoordinates(e,t){let W=Math.round(e/M.grid.size),o=Math.round(t/M.grid.size);return new a.Vector2(W,o)}static getPositionByGridAndSide(e,t,W,o){let i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],n=d[t],r=(e[n.zAxis]+1)*.5*M.grid.size,s=p[t](W,o),l=(e[n.xAxis]-1)*.5*M.grid.size,c=(e[n.yAxis]-1)*.5*M.grid.size,C=null===s.x?l:c,g=i?M.grid.size:1,f=null!==s.x?(s.x*g-l)*s.xFactor:r*s.xFactor,h=null!==s.y?(s.y*g-c)*s.yFactor:r*s.yFactor,u=null!==s.z?(s.z*g-C)*s.zFactor:r*s.zFactor;return new a.Vector3(f,h,u)}static getItemPositions(e,t){let W=[];for(let o in e){let i=e[o];for(let e=0;e<i.length;e++)for(let n=0;n<i[e].length;n++)P.getCellTypeBySymbol(i[e][n])===t&&W.push({side:o,gridPosition:new a.Vector2(n,e)})}return W}static getItemWithIDPositions(e,t){let W=[];for(let o in e){let i=e[o];for(let e=0;e<i.length;e++)for(let n=0;n<i[e].length;n++){let r=i[e][n],s=r.replace(/[0-9]/g,"");if(P.getCellTypeBySymbol(s)===t){let t=parseInt(r.replace(s,""),10);isNaN(t)||W.push({side:o,gridPosition:new a.Vector2(n,e),id:t})}}}return W}static setSideRotation(e,t){let W=g[t];e.rotation.set(W.x,W.y,W.z)}static setRotationByDirection(e,t,W){let o=C[t],i=f[W].rotation.z;e.rotateOnWorldAxis(o,i)}static setRotationByAngle(e,t,W){let o=C[t];e.rotateOnWorldAxis(o,W)}static getCellTypeBySymbol(e){let t=e.replace(/[0-9]/g,"");for(let e in m)if(m[e].symbols.includes(t))return e;throw Error("Cell type not found for symbol: ".concat(e))}static getCellSymbolByType(e){return m[e].symbols[0]}static getCellTypeAndIDBySymbol(e){let t=P.getCellTypeBySymbol(e),W=e.replace(/[0-9]/g,"");return{cellType:t,id:parseInt(e.replace(W,""),10)}}static getEnemyConfigByTypeAndID(e,t,W){let{enemies:o}=e;if(!o)throw Error("Enemies config not found");return o[t].filter(e=>e.id===W)[0]}static getEnemyConfigBySymbol(e,t){let{cellType:W,id:o}=P.getCellTypeAndIDBySymbol(t);return P.getEnemyConfigByTypeAndID(e,W,o)}static getDangerCellsForWallSpike(e){let t=[],W=e.position;for(let o=0;o<e.directions.length;o++){let i=h[e.directions[o]],n=new a.Vector2(W.x+i.x,W.y+i.y);t.push(n)}return t}constructor(){}}let A={probabilities:[.82,.04,.04,.04,.04,.02]},E=[u.Empty,u.Start,u.Finish,u.Coin],_={rotation:new a.Euler(.5*Math.PI,.5*Math.PI,0)},Y={probabilities:[.88,.03,.02,.02,.02,.03]},O=[u.Wall],U={rotation:new a.Euler(.5*Math.PI,.5*Math.PI,0)};class G{static createFullSideMap(e,t){let W=e.size[d[t].xAxis]+2,o=e.size[d[t].yAxis]+2,i={},n=k[t];for(let t=0;t<n.length;t++){let W=n[t];i[W]=[...e.map.edges[W]]}let r=P.getCellSymbolByType(u.Empty),a=P.getCellSymbolByType(u.Wall),s=w.create2DArray(o,W,r);for(let e in w.fillCornerValues(s,a),i){let{positionType:n,direction:r}=D[t][e],a=[...i[e]];switch(a=1===r?a:a.reverse(),n){case R.Top:for(let e=1;e<W-1;e++)s[0][e]=a[e-1];break;case R.Down:for(let e=1;e<W-1;e++)s[o-1][e]=a[e-1];break;case R.Left:for(let e=1;e<o-1;e++)s[e][0]=a[e-1];break;case R.Right:for(let e=1;e<o-1;e++)s[e][W-1]=a[e-1]}}let l=[];for(let W=0;W<e.map.sides[t].length;W++)l.push([...e.map.sides[t][W]]);for(let e=1;e<o-1;e++)for(let t=1;t<W-1;t++){let W=l[e-1][t-1].replace(/[0-9]/g,""),o=P.getCellTypeBySymbol(W);y.includes(o)&&(s[e][t]=l[e-1][t-1])}return s}static copyMapSidesAndEdges(e){let t={},W={};for(let W in s){let o=s[W],i=[];for(let t=0;t<e.map.sides[o].length;t++)i.push([...e.map.sides[o][t]]);t[o]=i}for(let t in T){let o=T[t];W[o]=[...e.map.edges[o]]}return{sides:t,edges:W}}static replaceExtraSymbolsInMap(e){for(let t in s){let W=s[t],o=e.size[d[W].xAxis],i=e.size[d[W].yAxis];for(let t=0;t<o;t++)for(let o=0;o<i;o++){let i=P.getCellTypeBySymbol(e.map.sides[W][o][t]);if(E.includes(i)){let i=P.getCellSymbolByType(u.Empty);e.map.sides[W][o][t]=i}if(O.includes(i)){let i=P.getCellSymbolByType(u.Wall);e.map.sides[W][o][t]=i}}}}static removeEnemiesIndexesFromMap(e){for(let t in s){let W=s[t],o=e.size[d[W].xAxis],i=e.size[d[W].yAxis];for(let t=0;t<o;t++)for(let o=0;o<i;o++){let i=P.getCellTypeBySymbol(e.map.sides[W][o][t]);i===u.FloorSpike&&(e.map.sides[W][o][t]=P.getCellSymbolByType(u.FloorSpike)),i===u.WallSpike&&(e.map.sides[W][o][t]=P.getCellSymbolByType(u.WallSpike))}}}constructor(){}}let N="/_next/static/chunks/corner_01.2ce82a079846067e67c73fc598e47452.glb";var j=W(71804),K=W(69497);let H={src:"/_next/static/media/dungeon_texture.8527ad3a.png"},X=r.memo(function(){let e=(0,j.G)(a.TextureLoader,H.src);return(0,o.Y)("meshPhongMaterial",{map:e})}),q=r.memo(function(e){let{asset:t,...W}=e,i=(0,j.G)(K.B,t),n=r.useMemo(()=>i.scene.children[0].geometry,[i]);return(0,o.Y)(o.FK,{children:(0,o.Y)("mesh",{geometry:n,...W,children:(0,o.Y)(X,{})})})}),J=r.memo(function(e){let{levelMap:t}=e,W=new a.Vector3((t.size.x+1)*.5*M.grid.size,(t.size.y+1)*.5*M.grid.size,(t.size.z+1)*.5*M.grid.size),i={receiveShadow:!0,castShadow:!0,scale:[M.grid.scale,M.grid.scale,M.grid.scale]},n=r.useCallback(e=>{let[t,o,i]=e;return[t*W.x,o*W.y,i*W.z]},[W]);return(0,o.FD)(o.FK,{children:[(0,o.Y)(q,{...i,asset:N,position:n([-1,1,1]),rotation:[0,-(.5*Math.PI),0]}),(0,o.Y)(q,{...i,asset:"/_next/static/chunks/corner_02.0b158ea6f34618b48ce2f3831fa5b893.glb",position:n([1,1,1]),rotation:[0,0,0]}),(0,o.Y)(q,{...i,asset:"/_next/static/chunks/corner_03.72c31bf8d421a085a8fe6b1033d06936.glb",position:n([-1,-1,1]),rotation:[0,-(.5*Math.PI),-(.5*Math.PI)]}),(0,o.Y)(q,{...i,asset:N,position:n([1,-1,1]),rotation:[0,0,-(.5*Math.PI)]}),(0,o.Y)(q,{...i,asset:"/_next/static/chunks/corner_04.f44272c6292ded48beb278f2d10742c8.glb",position:n([-1,1,-1]),rotation:[0,Math.PI,0]}),(0,o.Y)(q,{...i,asset:N,position:n([1,1,-1]),rotation:[0,.5*Math.PI,0]}),(0,o.Y)(q,{...i,asset:N,position:n([-1,-1,-1]),rotation:[0,Math.PI,-(.5*Math.PI)]}),(0,o.Y)(q,{...i,asset:"/_next/static/chunks/corner_05.858eb242ee5a999de2c4141b186fff2e.glb",position:n([1,-1,-1]),rotation:[0,.5*Math.PI,-(.5*Math.PI)]})]})});var Q=W(33191);class Z{static disposeObject(e){e.traverse(e=>{e instanceof a.Mesh&&(e.geometry.dispose(),e.material.dispose())})}static killObjects(e,t){Array.isArray(e)?e.forEach(e=>{t&&t.remove(e),this.disposeObject(e)}):(t&&t.remove(e),this.disposeObject(e))}static disposeInstancedMesh(e){e.geometry.dispose(),e.material.dispose()}static killInstancedMesh(e,t){Array.isArray(e)?e.forEach(e=>{t&&t.remove(e),this.disposeInstancedMesh(e)}):(t&&t.remove(e),this.disposeInstancedMesh(e))}static setMaterialToChildren(e,t){e.traverse(e=>{e instanceof a.Mesh&&(e.material=t)})}static setGeometryRotation(e,t){let W=new a.Matrix4;W.makeRotationFromEuler(t),e.applyMatrix4(W)}static lerp(e,t,W){return e+(t-e)*W}static splitObjectsByProbability(e,t){let W=e.sort(()=>Math.random()-.5),o=e.length,i=0,n=o;return t.map((e,r)=>{let a=r===t.length-1?n:Math.round(e*o),s=W.slice(i,i+a);return i+=a,n-=a,s})}static interpolateColors(e,t,W){let o=new a.Color;return o.lerpColors(e,t,W),o}constructor(){}}function $(e,t){let W=(0,j.G)(K.B,e);return r.useMemo(()=>{let e=W.scene.children[0].geometry.clone();return t&&Z.setGeometryRotation(e,t),e},[e])}function ee(e){let t=r.useRef(null);return r.useEffect(()=>{let W=t.current;W&&(W.count=e.length,e.forEach((e,t)=>{e.updateMatrix(),W.setMatrixAt(t,e.matrix)}),W.instanceMatrix.needsUpdate=!0)},[e]),t}let et=r.memo(function(e){let{asset:t,edgeCells:W}=e,i=$(t),n=ee(W);return(0,o.Y)("instancedMesh",{ref:n,args:[i,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})})}),eW=r.memo(function(e){let{levelMap:t}=e,{edgeCellsByProbability:W}=r.useMemo(()=>{let e=new a.Vector3((t.size.x+1)*.5*M.grid.size,(t.size.y+1)*.5*M.grid.size,(t.size.z+1)*.5*M.grid.size),W=[];for(let o=0;o<x.length;o++){let i=x[o],n=t.size[i.axis];for(let r=0;r<n;r++)if(P.getCellTypeBySymbol(t.map.edges[i.edge][r])===u.Wall){let t=new a.Object3D;t.position.x=b[o].x*e.x,t.position.y=b[o].y*e.y,t.position.z=b[o].z*e.z,t.position[i.axis]+=r*M.grid.size+.5*M.grid.size-.5*n*M.grid.size,t.rotation.set(i.rotation.x,i.rotation.y,i.rotation.z),t.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),W.push(t)}}return{edgeCellsByProbability:Z.splitObjectsByProbability(W,F.probabilities)}},[]);return(0,o.FD)(o.FK,{children:[(0,o.Y)(et,{asset:"/_next/static/chunks/edge_01.41fe3a88d18d42970f762bd8cef93081.glb",edgeCells:W[0]}),(0,o.Y)(et,{asset:"/_next/static/chunks/edge_02.ce003408550d855857d784c542867ee0.glb",edgeCells:W[1]}),(0,o.Y)(et,{asset:"/_next/static/chunks/edge_03.361ea1c24e3df48297b29d7c6a907362.glb",edgeCells:W[2]}),(0,o.Y)(et,{asset:"/_next/static/chunks/edge_04.75fab19434691956248a72edd08d9371.glb",edgeCells:W[3]})]})}),eo=r.memo(function(e){let{asset:t,edgeWallCells:W}=e,i=$(t,B.rotation),n=ee(W);return(0,o.Y)("instancedMesh",{ref:n,args:[i,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})})}),ei=r.memo(function(e){let{levelMap:t}=e,{edgeWallCellsByProbability:W}=r.useMemo(()=>{let e=new a.Vector3((t.size.x+1)*.5*M.grid.size,(t.size.y+1)*.5*M.grid.size,(t.size.z+1)*.5*M.grid.size),W=[];for(let o=0;o<x.length;o++){let i=x[o],n=v[i.edge],r=S[i.edge],s=P.getCellSymbolByType(u.Wall),l=[...t.map.edges[i.edge]];l.unshift(s),l.push(s);let C=t.size[i.axis]+2;for(let t=0;t<C;t++){let s=P.getCellTypeBySymbol(l[t]);if(t<l.length-1&&s===u.Wall&&P.getCellTypeBySymbol(l[t+1])===u.Empty){let s=0;for(let e=t+1;e<C;e++)if(P.getCellTypeBySymbol(l[e])===u.Empty)s++;else break;let d=new a.Object3D;d.position.x=b[o].x*e.x,d.position.y=b[o].y*e.y,d.position.z=b[o].z*e.z;let p=!1===z[i.edge]?s+1:0;d.position[i.axis]=(t+p)*M.grid.size+.5*M.grid.size-.5*C*M.grid.size,d.rotation.set(i.rotation.x,i.rotation.y,i.rotation.z),P.setRotationByDirection(d,n,c.Up),d.rotateOnWorldAxis(r.axis,r.rightRotation),d.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),W.push(d)}if(t>0&&s===u.Wall&&P.getCellTypeBySymbol(l[t-1])===u.Empty){let s=0;for(let e=t-1;e>=0;e--)if(P.getCellTypeBySymbol(l[e])===u.Empty)s++;else break;let d=new a.Object3D;d.position.x=b[o].x*e.x,d.position.y=b[o].y*e.y,d.position.z=b[o].z*e.z;let p=!1===z[i.edge]?s+1:0;d.position[i.axis]+=(t-p)*M.grid.size+.5*M.grid.size-.5*C*M.grid.size,d.rotation.set(i.rotation.x,i.rotation.y,i.rotation.z),P.setRotationByDirection(d,n,c.Down),d.rotateOnWorldAxis(r.axis,r.leftRotation),d.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),W.push(d)}}}return{edgeWallCellsByProbability:Z.splitObjectsByProbability(W,L.probabilities)}},[t]);return(0,o.Y)(o.FK,{children:(0,o.Y)(eo,{asset:"/_next/static/chunks/edge_wall_01.62d1f0d55151d900906265decec9e9bc.glb",edgeWallCells:W[0]})})}),en=r.memo(function(e){let{asset:t,floorCells:W}=e,i=$(t,_.rotation),n=ee(W);return(0,o.Y)("instancedMesh",{ref:n,args:[i,void 0,W.length],receiveShadow:!0,children:(0,o.Y)(X,{})})});function er(e,t,W,o,i){let n=d[W],r=(e.size[n.zAxis]+1)*.5*M.grid.size,a=(e.size[n.xAxis]-1)*.5*M.grid.size,s=(e.size[n.yAxis]-1)*.5*M.grid.size;t.position.x=C[W].x*r,t.position.y=C[W].y*r,t.position.z=C[W].z*r,t.position[n.xAxis]+=i*M.grid.size*n.xFactor-a*n.xFactor,t.position[n.yAxis]+=o*M.grid.size*n.yFactor-s*n.yFactor}function ea(e,t,W,o,i,n){if(t===u.Empty||t===u.FloorSpike){let t=new a.Object3D;return er(e,t,W,o-1,i-1),P.setSideRotation(t,W),P.setRotationByDirection(t,W,n),t.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),t}return null}let es=r.memo(function(e){let{levelMap:t}=e,{floorCellsByProbability:W}=r.useMemo(()=>{let e=[];for(let W in s){let o=s[W],i=d[o],n=t.size[i.xAxis],r=t.size[i.yAxis];for(let W=0;W<r;W++)for(let i=0;i<n;i++)if(P.getCellTypeBySymbol(t.map.sides[o][W][i])===u.Empty){let n=new a.Object3D;er(t,n,o,W,i),P.setSideRotation(n,o);let r=w.getRandomArrayElement([c.Up,c.Down,c.Left,c.Right]);P.setRotationByDirection(n,o,r),n.scale.setScalar(M.grid.scale),e.push(n)}}return{floorCellsByProbability:Z.splitObjectsByProbability(e,A.probabilities)}},[t]);return(0,o.FD)(o.FK,{children:[(0,o.Y)(en,{asset:"/_next/static/chunks/floor_01.a51ae4ca337f1959ee8b9318e928ac55.glb",floorCells:W[0]}),(0,o.Y)(en,{asset:"/_next/static/chunks/floor_02.0b43f17cc83b20c757bc82cc8d358c1a.glb",floorCells:W[1]}),(0,o.Y)(en,{asset:"/_next/static/chunks/floor_03.129d3e98e681d078c4b5cb6327526485.glb",floorCells:W[2]}),(0,o.Y)(en,{asset:"/_next/static/chunks/floor_04.745db0eb21f67f898c9abe2858221cd3.glb",floorCells:W[3]}),(0,o.Y)(en,{asset:"/_next/static/chunks/floor_05.0e45a2436678e2886709479d43d4f0ee.glb",floorCells:W[4]}),(0,o.Y)(en,{asset:"/_next/static/chunks/floor_06.53087d83f209dc1bdff3a78d266726a3.glb",floorCells:W[5]})]})}),el=r.memo(function(e){let{asset:t,roofCells:W}=e,i=$(t,U.rotation),n=ee(W);return(0,o.Y)("instancedMesh",{ref:n,args:[i,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})})}),ec=r.memo(function(e){let{levelMap:t}=e,{roofCellsByProbability:W}=r.useMemo(()=>{let e=[];for(let W in s){let o=s[W],i=d[o],n=t.size[i.xAxis],r=t.size[i.yAxis];for(let W=0;W<r;W++)for(let i=0;i<n;i++){let n=P.getCellTypeBySymbol(t.map.sides[o][W][i]);if(n===u.Wall||n===u.WallSpike){let n=new a.Object3D;er(t,n,o,W,i),P.setSideRotation(n,o);let r=w.getRandomArrayElement([c.Up,c.Down,c.Left,c.Right]);P.setRotationByDirection(n,o,r),n.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),e.push(n)}}}return{roofCellsByProbability:Z.splitObjectsByProbability(e,Y.probabilities)}},[]);return(0,o.FD)(o.FK,{children:[(0,o.Y)(el,{asset:"/_next/static/chunks/roof_01.32606889e296e9bab483a81caa1e4ec8.glb",roofCells:W[0]}),(0,o.Y)(el,{asset:"/_next/static/chunks/roof_02.59b501f9aba68ac048aecfe6c23e49c5.glb",roofCells:W[1]}),(0,o.Y)(el,{asset:"/_next/static/chunks/roof_03.343e16929dc6aa7a2c5969591d032a04.glb",roofCells:W[2]}),(0,o.Y)(el,{asset:"/_next/static/chunks/roof_04.63ef010ef210fccce3e8707a30378745.glb",roofCells:W[3]}),(0,o.Y)(el,{asset:"/_next/static/chunks/roof_05.9828e2241766225a11b9e8509fbc7f30.glb",roofCells:W[4]}),(0,o.Y)(el,{asset:"/_next/static/chunks/roof_06.edc4315f490234f9f0c9358aee577919.glb",roofCells:W[5]})]})}),eC={probabilities:[.9,.025,.025,.025,.025]},ed={rotation:new a.Euler(.5*Math.PI,0,0)},ep=r.memo(function(e){let{asset:t,wallCells:W}=e,i=$(t,ed.rotation),n=ee(W);return(0,o.Y)("instancedMesh",{ref:n,args:[i,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})})}),eg="/_next/static/chunks/wall_01.ce54ec7b474b5a8ae129e3dfeb747872.glb",ef=r.memo(function(e){let{levelMap:t,fullMap:W}=e,{wallCellsByProbability:i}=r.useMemo(()=>{let e=[];for(let o in s){let i=s[o],n=d[i],r=t.size[n.xAxis],l=t.size[n.yAxis];for(let W=0;W<l;W++)for(let o=0;o<r;o++)if(P.getCellTypeBySymbol(t.map.sides[i][W][o])===u.Wall){let n=function(e,t,W){let o=[],i=[u.Empty,u.FloorSpike],n=[];for(let e=0;e<i.length;e++)n.push(P.getCellSymbolByType(i[e]));return t>0&&n.includes(e[t-1][W])&&o.push(c.Up),t<e.length-1&&n.includes(e[t+1][W])&&o.push(c.Down),W>0&&n.includes(e[t][W-1])&&o.push(c.Left),W<e[0].length-1&&n.includes(e[t][W+1])&&o.push(c.Right),o}(t.map.sides[i],W,o);for(let r=0;r<n.length;r++){let s=n[r],l=new a.Object3D;er(t,l,i,W,o),P.setSideRotation(l,i),P.setRotationByDirection(l,i,s),l.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),e.push(l)}}let C=W[i];for(let W=0;W<C.length;W++)for(let o=0;o<C[W].length;o++){let n=P.getCellTypeBySymbol(C[W][o]),r=null;0===W&&0!==o&&o!==C[W].length-1&&n===u.Wall&&(r=ea(t,P.getCellTypeBySymbol(C[W+1][o]),i,W,o,c.Down)),W===C.length-1&&0!==o&&o!==C[W].length-1&&n===u.Wall&&(r=ea(t,P.getCellTypeBySymbol(C[W-1][o]),i,W,o,c.Up)),0===o&&0!==W&&W!==C.length-1&&n===u.Wall&&(r=ea(t,P.getCellTypeBySymbol(C[W][o+1]),i,W,o,c.Right)),o===C[W].length-1&&0!==W&&W!==C.length-1&&n===u.Wall&&(r=ea(t,P.getCellTypeBySymbol(C[W][o-1]),i,W,o,c.Left)),r&&e.push(r)}}return{wallCellsByProbability:Z.splitObjectsByProbability(e,eC.probabilities)}},[]);return(0,o.FD)(o.FK,{children:[(0,o.Y)(ep,{asset:eg,wallCells:i[0]}),(0,o.Y)(ep,{asset:"/_next/static/chunks/wall_02.b198f2b4a1a32afb07aa473350f3681c.glb",wallCells:i[1]}),(0,o.Y)(ep,{asset:"/_next/static/chunks/wall_03.bf2d39b48a7e19b042077cfe1a644b3a.glb",wallCells:i[2]}),(0,o.Y)(ep,{asset:"/_next/static/chunks/wall_04.4263e87b02002fdf7ca579f90536e1ac.glb",wallCells:i[3]}),(0,o.Y)(ep,{asset:"/_next/static/chunks/wall_05.57cfc1e7894845177b01e851a23417fa.glb",wallCells:i[4]})]})}),eh={src:"/_next/static/media/Ghost_BaseColor.55362451.png"},eu={src:"/_next/static/media/Ghost_Normal.c6eb295d.png"},em={scale:.9},ey=r.memo(function(){return(0,o.Y)("meshBasicMaterial",{color:65280,wireframe:!0})});var ew=W(62122);let eT={gameplay:{disableIntro:!1,grid:!1,cubeSideName:!1,cubeRotationName:!1,gridCoordinates:!1,cubeRotationButtons:!1,physicalBody:!1}},eR=r.createContext({});function eF(e){let{levelConfig:t,children:W}=e,i=function(e){let{levelConfig:t}=e,W=r.useCallback(e=>{let{side:W,gridPosition:{x:o,y:i}}=e;return{position:P.getPositionByGridAndSide(t.size,W,o,i),rotation:g[W]}},[t]),o=r.useCallback(e=>P.getItemPositions(t.map.sides,e)[0],[t]),i=r.useMemo(()=>o(u.Start),[o]),[n,a]=r.useState(i);return{levelConfig:t,posPlayer:n,setPosPlayer:a,getCubePosition:o,getObjectTransform:W}}({levelConfig:t});return(0,o.Y)(eR.Provider,{value:i,children:W})}function eL(){return r.useContext(eR)}var eB=W(96941),eb=W(71705);let ex=r.memo(function(e){let{}=e,t=$("/_next/static/chunks/ghost.125a8cf5f02fbde0a5227a868ecffb98.glb",new a.Euler(.5*Math.PI,Math.PI,0)),W=(0,j.G)(a.TextureLoader,eh.src);W.flipY=!1,W.colorSpace=a.SRGBColorSpace;let i=(0,j.G)(a.TextureLoader,eu.src);i.flipY=!1;let n=em.scale,s=r.useRef(null);r.useLayoutEffect(()=>{let e=s.current;e&&(e.shadow.mapSize.width=128,e.shadow.mapSize.height=128,e.shadow.camera.near=.1,e.shadow.camera.far=5,e.shadow.bias=-.001)},[]);let l=r.useRef(null),[c,C]=r.useState(null);r.useLayoutEffect(()=>{let e=l.current;e&&C(new a.Box3().setFromObject(e).getSize(new a.Vector3))},[]);let d=r.useRef(null);r.useLayoutEffect(()=>{let e=d.current;e&&(e.geometry.computeBoundingBox(),e.geometry.userData.obb=new ew.W().fromBox3(e.geometry.boundingBox),e.userData.obb=new ew.W,e.visible=!0,eT.gameplay.physicalBody&&(e.visible=!0))},[]);let{posPlayer:p,getObjectTransform:g}=eL(),f=r.useRef(null);return r.useEffect(()=>{let e=f.current;e&&(e.scale.set(0,0,0),eB.Ay.to(e.scale,{x:1,y:1,z:1,duration:.3,ease:eb.kc.easeOut,onComplete:()=>{console.log("PlayerCharacter","gsap.to","onComplete")}}))},[]),(0,o.Y)("group",{ref:f,...g(p),children:(0,o.FD)("group",{children:[(0,o.Y)("mesh",{ref:l,geometry:t,castShadow:!0,receiveShadow:!0,scale:[M.grid.scale*n,M.grid.scale*n,M.grid.scale*n],children:(0,o.Y)("meshStandardMaterial",{map:W,normalMap:i,emissiveMap:W,transparent:!0})}),(0,o.Y)("pointLight",{args:[0xffffff,5,10,2],position:[0,0,.3],castShadow:!0}),c&&(0,o.Y)(o.FK,{children:(0,o.FD)("mesh",{ref:d,children:[(0,o.Y)("boxGeometry",{args:[c.x,c.y,c.z]}),(0,o.Y)(ey,{})]})})]})})}),ek=r.memo(function(e){let{}=e,{getCubePosition:t,getObjectTransform:W}=eL(),i=t(u.Finish),n=$("/_next/static/chunks/finish-object.5ce6a1bf28ceb0ffdf7d6d2ff382b68e.glb");return(0,o.FD)("group",{...W(i),children:[(0,o.Y)("mesh",{geometry:n,castShadow:!0,children:(0,o.Y)(X,{})}),(0,o.Y)("pointLight",{args:[0xff0000,2,100],castShadow:!0,"shadow-mapSize":[128,128],"shadow-camera-near":.1,"shadow-camera-far":3,"shadow-bias":-1e-4})]})});var eD=function(e){return e.WallSpike="WALL_SPIKE",e.FloorSpike="FLOOR_SPIKE",e}({});let ev={[eD.WallSpike]:u.WallSpike,[eD.FloorSpike]:u.FloorSpike},eS={modelStartRotation:new a.Euler(.5*Math.PI,0,0)};function ez(e,t,W,o,i,n){if(t===u.Empty){let t=new a.Object3D;return eI(e,t,W,i,o),P.setSideRotation(t,W),P.setRotationByDirection(t,W,n),t.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),t}return null}function eI(e,t,W,o,i){let n=d[W],r=(e.size[n.zAxis]+1)*.5*M.grid.size,a=(e.size[n.xAxis]-1)*.5*M.grid.size,s=(e.size[n.yAxis]-1)*.5*M.grid.size;t.position.x=C[W].x*r,t.position.y=C[W].y*r,t.position.z=C[W].z*r,t.position[n.xAxis]+=i*M.grid.size*n.xFactor-a*n.xFactor,t.position[n.yAxis]+=o*M.grid.size*n.yFactor-s*n.yFactor}let eV=r.memo(function(e){let{configs:t}=e,{levelConfig:W}=eL(),i=r.useMemo(()=>{let{sides:e,edges:t}=G.copyMapSidesAndEdges(W),o={size:new a.Vector3(W.size.x,W.size.y,W.size.z),map:{sides:e,edges:t}};return G.replaceExtraSymbolsInMap(o),o},[W]),{wallCells:n}=r.useMemo(()=>{let e=[];for(let W=0;W<t.length;W++){let o=t[W],{x:n,y:r}=o.position,a=o.side,s=i.map.sides[a];if(r>0&&s[r-1][n]&&!o.directions.includes(c.Up)){let t=ez(i,P.getCellTypeBySymbol(s[r-1][n]),a,n,r,c.Up);t&&e.push(t)}if(r<i.size.y-1&&s[r+1][n]&&!o.directions.includes(c.Down)){let t=ez(i,P.getCellTypeBySymbol(s[r+1][n]),a,n,r,c.Down);t&&e.push(t)}if(n>0&&s[r][n-1]&&!o.directions.includes(c.Left)){let t=ez(i,P.getCellTypeBySymbol(s[r][n-1]),a,n,r,c.Left);t&&e.push(t)}if(n<i.size.x-1&&s[r][n+1]&&!o.directions.includes(c.Right)){let t=ez(i,P.getCellTypeBySymbol(s[r][n+1]),a,n,r,c.Right);t&&e.push(t)}}return{wallCells:e}},[i]),{spikeObjects:s}=r.useMemo(()=>{let e=[];for(let W=0;W<t.length;W++){let o=t[W],{x:n,y:r}=o.position,s=o.side;for(let t=0;t<o.directions.length;t++){let W=o.directions[t],l=new a.Object3D;eI(i,l,s,r,n),P.setSideRotation(l,s),P.setRotationByDirection(l,s,W),l.scale.set(M.grid.scale,M.grid.scale,M.grid.scale),e.push(l)}}return{spikeObjects:e}},[t,i]),l=$(eg,ed.rotation),C=ee(n),d=$("/_next/static/chunks/wall_spikes.a5f27733d2b97280fbc2da351aee5309.glb",eS.modelStartRotation),p=ee(s);return console.log("WallSpikes",{configs:t}),(0,o.FD)("group",{children:[(0,o.Y)("instancedMesh",{ref:C,args:[l,void 0,n.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})}),(0,o.Y)("instancedMesh",{ref:p,args:[d,void 0,s.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})})]})}),eM={spikesStartPosition:new a.Vector3(0,0,-.8),geometryBaseRotation:new a.Euler(.5*Math.PI,0,0),geometrySpikeRotation:new a.Euler(0,0,0)},eP=r.memo(function(e){let{configs:t}=e,{levelConfig:W}=eL(),{floorSpikeBaseObjects:i}=r.useMemo(()=>{let e=[];for(let o=0;o<t.length;o++){let i=t[o],{x:n,y:r}=i.position,s=i.side,l=new a.Object3D,c=P.getPositionByGridAndSide(W.size,s,n,r);l.position.copy(c),P.setSideRotation(l,s),e.push(l)}return{floorSpikeBaseObjects:e}},[t]),{floorSpikeObjects:n}=r.useMemo(()=>{let e=[];for(let o=0;o<t.length;o++){let i=t[o],{x:n,y:r}=i.position,s=i.side,l=new a.Object3D,c=P.getPositionByGridAndSide(W.size,s,n,r),C=d[s];c[C.xAxis]+=eM.spikesStartPosition.x*C.xFactor,c[C.yAxis]+=eM.spikesStartPosition.y*C.yFactor,c[C.zAxis]+=eM.spikesStartPosition.z*C.zFactor,l.position.copy(c),P.setSideRotation(l,s),e.push(l)}return{floorSpikeObjects:e}},[t]),s=$("/_next/static/chunks/floor_spikes_base.5b32e569846d9a443fc9c3be237d947b.glb",eM.geometryBaseRotation),l=ee(i),c=$("/_next/static/chunks/floor_spikes.c29983fbb2c54a0e9bd7bd244448983e.glb",eM.geometrySpikeRotation),C=ee(n);return console.log("FloorSpikes",{configs:t}),(0,o.FD)("group",{children:[(0,o.Y)("instancedMesh",{ref:l,args:[s,void 0,i.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})}),(0,o.Y)("instancedMesh",{ref:C,args:[c,void 0,n.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})})]})}),eA=r.memo(function(e){let{}=e,{levelConfig:t}=eL(),W=r.useMemo(()=>{let e=Object.keys(t.enemies),W=[];for(let i of e){let e=t.enemies[i],n=ev[i],r=P.getItemWithIDPositions(t.map.sides,n),a=[];for(let t of e){let e=r.find(e=>{let{id:W}=e;return W===t.id});e?(t.side=e.side,t.position=e.gridPosition,a.push(t)):console.error("Enemy ".concat(i," with id ").concat(t.id," not found"))}i===eD.WallSpike?W.push((0,o.Y)(eV,{configs:e},i)):i===eD.FloorSpike&&W.push((0,o.Y)(eP,{configs:e},i))}return W},[t]);return(0,o.Y)(o.FK,{children:W})}),eE=r.memo(function(e){let{}=e;return(0,o.Y)(o.FK,{})}),e_=r.memo(function(e){let{}=e,{levelConfig:t}=eL(),{coinsObjects:W}=r.useMemo(()=>({coinsObjects:P.getItemPositions(t.map.sides,u.Coin).map(e=>{let{side:W,gridPosition:{x:o,y:i}}=e,n=new a.Object3D;return n.position.copy(P.getPositionByGridAndSide(t.size,W,o,i)),P.setSideRotation(n,W),n})}),[]),i=$("/_next/static/chunks/coin.2fabbf7055494448051885724112c983.glb"),n=ee(W);return(0,o.Y)("instancedMesh",{ref:n,args:[i,void 0,W.length],receiveShadow:!0,castShadow:!0,children:(0,o.Y)(X,{})})}),eY=r.memo(function(e){let{levelConfig:t}=e,W=r.useRef(null),{levelMap:i,fullMap:n}=r.useMemo(()=>(e=>{let{sides:t,edges:W}=G.copyMapSidesAndEdges(e),o={size:new a.Vector3(e.size.x,e.size.y,e.size.z),map:{sides:t,edges:W}};G.replaceExtraSymbolsInMap(o),G.removeEnemiesIndexesFromMap(o);let i={};return Object.values(s).forEach(e=>{i[e]=G.createFullSideMap(o,e)}),{levelMap:o,fullMap:i}})(t),[t]);return(0,o.Y)(eF,{levelConfig:t,children:(0,o.FD)("group",{ref:W,children:[(0,o.Y)(Q.E,{children:"HI"}),(0,o.Y)(J,{levelMap:i}),(0,o.Y)(eW,{levelMap:i}),(0,o.Y)(ei,{levelMap:i}),(0,o.Y)(es,{levelMap:i}),(0,o.Y)(ec,{levelMap:i}),(0,o.Y)(ef,{levelMap:i,fullMap:n}),(0,o.Y)(ex,{}),(0,o.Y)(ek,{}),(0,o.Y)(eA,{}),(0,o.Y)(eE,{}),(0,o.Y)(e_,{})]})})});var eO=function(e){return e.Level01="Level01",e.Level02="Level02",e.Level03="Level03",e.Level04="Level04",e.Level05="Level05",e.Level06="Level06",e.Level07="Level07",e.Level08="Level08",e.Level09="Level09",e.Level10="Level10",e.Level11="Level11",e.Level12="Level12",e}({}),eU=function(e){return e.Light="LIGHT",e.Dark="DARK",e}({});let eG={size:new a.Vector3(7,7,7),sceneType:eU.Light,map:{sides:{[s.Front]:[["C"," "," ","C"," "," ","C"],[" ","W","W","W","W","W"," "],[" ","W","C"," "," "," ","C"],[" ","W"," ","C","W"," "," "],[" ","W","C"," ","W"," "," "],[" ","W","W"," ","W"," "," "],["S","W","W"," ","W","C","C"]],[s.Left]:[[" "," ","C"," ","C","W","W"],[" "," "," "," "," "," ","C"],["C"," ","C","W","C","I2","C"],["W","W"," ","W","W"," "," "],[" "," ","C"," "," "," ","C"],["W","W"," "," "," "," ","W"],["W","W","C"," ","I1"," ","C"]],[s.Right]:[[" ","W","W","W"," ","W"," "],[" ","W","W","W"," ","W"," "],[" ","W","W","W"," ","W"," "],["C","W","C"," ","C"," "," "],[" ","W"," ","W"," ","W","W"],[" ","W"," ","W"," ","W","W"],[" ","W","C"," ","C","W","W"]],[s.Top]:[[" ","W","W","C"," "," "," "],[" ","W","W"," "," ","X1","W"],["C"," "," ","C"," ","X2"," "],["W","W","W","W","W","W"," "],["C"," "," ","C"," "," ","C"],[" ","W","W","W","W","W","W"],["C"," "," ","C"," "," "," "]],[s.Bottom]:[[" "," "," ","C"," "," "," "],[" ","W","W"," ","W","W","W"],[" ","C","W"," ","W","C","C"],["C"," ","W","C","W","C","C"],["W"," ","W"," ","W","C","C"],[" "," ","W"," ","W","C","C"],["C"," "," "," "," "," "," "]],[s.Back]:[["C"," "," ","I3"," "," ","C"],[" ","W","W"," ","W","W"," "],[" ","W","C","C","C","W"," "],[" ","W","C","F","C","W"," "],[" ","W","W"," "," ","W"," "],[" ","W","W"," "," ","W"," "],["C"," "," "," ","C","W","C"]]},edges:{[T.FrontTop]:["W","W","W","W","W","W","W"],[T.FrontDown]:["W","W","W"," ","W","W","W"],[T.FrontLeft]:["W","W","W","W","W","W","W"],[T.FrontRight]:["W","W","W","W","W","W","W"],[T.TopLeft]:[" ","W","W","W","W","W","W"],[T.TopRight]:[" ","W"," ","W","W","W"," "],[T.DownLeft]:["W","W","W","W","W","W","W"],[T.DownRight]:["W","W","W","W","W","W"," "],[T.BackTop]:["W","W","W","W","W","W","W"],[T.BackDown]:["W","W","W","W","W","W","W"],[T.BackLeft]:["W","W"," ","W","W","W","W"],[T.BackRight]:["W","W","W","W","W","W","W"]}},enemies:{[eD.WallSpike]:[{id:1,directions:[c.Left]},{id:2,directions:[c.Left]}],[eD.FloorSpike]:[{id:1,inactiveTime:1.5,activeTime:1},{id:2,inactiveTime:2.5,activeTime:1},{id:3,inactiveTime:2,activeTime:1}]}},eN={size:new a.Vector3(7,7,7),sceneType:eU.Dark,map:{sides:{[s.Front]:[["CC","  ","CC","WW","CC","  ","CC"],["  ","WW","  ","WW","  ","WW","  "],["  ","WW","  ","WW","  ","WW","WW"],["  ","WW","FI","WW","ST","  ","CC"],["  ","WW","X8","WW","  ","WW","  "],["  ","X7","  ","X9","  ","WW","  "],["CC","  ","CC","WW","CC","  ","CC"]],[s.Left]:[["CC","  ","CC","  ","CC","  ","CC"],["  ","WW","  ","CC","  ","CC","  "],["  ","  ","  ","WW","  ","  ","WW"],["CC","  ","  ","CC","  ","  ","CC"],["  ","WW","  ","  ","WW","  ","WW"],["  ","CC","  ","  ","  ","CC","  "],["  ","  ","WW","  ","  ","  ","CC"]],[s.Right]:[["WW","WW","WW","  ","  ","CC","WW"],["  ","CC","WW","WW","WW","I2","CC"],["WW","  ","WW","WW","WW","WW","  "],["  ","CC","WW","CC","  ","  ","  "],["  ","WW","WW","  ","WW","WW","WW"],["  ","  ","  ","  ","  ","  ","  "],["CC","CC","WW","CC","  ","I1","CC"]],[s.Top]:[["  ","CC","  ","WW","CC","  ","  "],["CC","WW","CC","WW","  ","WW","  "],["  ","CC","  ","  ","CC","WW","  "],["WW","WW","WW","WW","WW","WW","  "],["CC","  ","CC","  ","CC","WW","  "],["  ","WW","WW","WW","I3","WW","  "],["CC","  ","CC","  ","CC","  ","CC"]],[s.Bottom]:[["  ","CC","  ","WW","WW","X1","WW"],["CC","WW","CC","  ","CC","  ","X2"],["  ","CC","I5","  ","  ","  ","X3"],["  ","WW","WW","WW","  ","  ","X4"],["  ","  ","CC","WW","  ","  ","X5"],["WW","WW","  ","WW","  ","X6","WW"],["  ","  ","CC","WW","CC","  ","  "]],[s.Back]:[["CC","WW","WW","CC","  ","  ","CC"],["CC","WW","CC","  ","  ","WW","  "],["  ","  ","  ","  ","I4","  ","CC"],["  ","  ","  ","WW","  ","WW","  "],["  ","  ","CC","  ","CC","  ","CC"],["  ","WW","  ","WW","  ","WW","  "],["  ","WW","CC","  ","CC","  ","CC"]]},edges:{[T.FrontTop]:["W","W","W","W","W","W","W"],[T.FrontDown]:["W","W","W","W","W","W","W"],[T.FrontLeft]:["W","W","W"," ","W","W","W"],[T.FrontRight]:["W","W","W","W","W"," ","W"],[T.TopLeft]:["W","W","W","W","W","W","W"],[T.TopRight]:["W","W","W"," ","W","W","W"],[T.DownLeft]:[" ","W","W","W","W","W","W"],[T.DownRight]:["W","W","W","W","W","W","W"],[T.BackTop]:["W","W"," ","W","W","W","W"],[T.BackDown]:["W","W","W","W","W","W"," "],[T.BackLeft]:["W","W","W","W","W","W","W"],[T.BackRight]:["W","W","W","W","W","W","W"]}},enemies:{[eD.WallSpike]:[{id:1,directions:[c.Down]},{id:2,directions:[c.Left]},{id:3,directions:[c.Left]},{id:4,directions:[c.Left]},{id:5,directions:[c.Left]},{id:6,directions:[c.Up]},{id:7,directions:[c.Right]},{id:8,directions:[c.Down]},{id:9,directions:[c.Left]}],[eD.FloorSpike]:[{id:1,inactiveTime:2,activeTime:1},{id:2,inactiveTime:2,activeTime:1},{id:3,inactiveTime:2,activeTime:1},{id:4,inactiveTime:2,activeTime:1},{id:5,inactiveTime:2,activeTime:1}]}},ej={size:new a.Vector3(8,8,8),sceneType:eU.Light,map:{sides:{[s.Front]:[["CC","  ","  ","  ","  ","  ","  ","CC"],["  ","  ","  ","  ","  ","  ","  ","WW"],["  ","  ","WW","CC","WW","WW","  ","  "],["  ","  ","WW","ST","  ","CC","  ","  "],["WW","  ","CC","  ","  ","WW","  ","  "],["  ","  ","WW","WW","CC","WW","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["CC","  ","  ","  ","  ","WW","  ","CC"]],[s.Left]:[["CC","CC","WW","WW","CC","  ","  ","I3"],["CC","CC","WW","WW","  ","  ","WW","CC"],["CC","CC","I1","I2","  ","CC","WW","CC"],["WW","WW","WW","WW","WW","  ","WW","CC"],["CC","CC","CC","CC","WW","  ","WW","WW"],["CC","WW","CC","CC","WW","CC","  ","  "],["CC","  ","CC","WW","WW","  ","  ","  "],["CC","CC","CC","  ","I4","  ","  ","CC"]],[s.Right]:[["CC","  ","CC","WW","  ","CC","  ","CC"],["WW","  ","  ","  ","  ","  ","WW","  "],["CC","  ","  ","  ","I8","  ","  ","CC"],["  ","  ","WW","  ","  ","  ","WW","  "],["WW","  ","  ","  ","  ","  ","WW","  "],["  ","  ","CC","  ","CC","  ","  ","CC"],["  ","X1","  ","WW","  ","X2","WW","WW"],["CC","  ","  ","WW","  ","CC","CC","CC"]],[s.Top]:[["WW","CC","I5","  ","I6","  ","I7","CC"],["WW","WW","WW","WW","WW","WW","WW","  "],["CC","CC","CC","WW","CC","  ","  ","  "],["  ","  ","WW","WW","  ","WW","WW","WW"],["CC","  ","CC","WW","CC","  ","CC","  "],["WW","  ","  ","WW","  ","  ","  ","  "],["  ","  ","CC","WW","  ","  ","  ","WW"],["  ","  ","  ","  ","CC","  ","CC","WW"]],[s.Bottom]:[["WW","WW","WW","WW","CC","  ","  ","CC"],["  ","CC","  ","  ","I11","CC","  ","  "],["  ","WW","WW","  ","  ","  ","  ","WW"],["CC","  ","  ","CC","I10","  ","  ","CC"],["WW","  ","WW","  ","  ","WW","  ","  "],["  ","  ","CC","  ","I9","  ","  ","CC"],["  ","WW","WW","WW","  ","WW","  ","WW"],["CC","  ","  ","  ","CC","  ","CC","WW"]],[s.Back]:[["CC","  ","  ","  ","FI","WW","CC","CC"],["  ","WW","X3","X4","WW","WW","WW","WW"],["  ","WW","  ","  ","WW","CC","CC","CC"],["  ","WW","  ","  ","  ","CC","WW","CC"],["  ","WW","  ","  ","  ","CC","CC","CC"],["  ","  ","  ","  ","CC","  ","  ","WW"],["  ","  ","WW","WW","WW","CC","  ","  "],["CC","CC","WW","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:[" ","W","W","W","W","W","W","W"],[T.FrontDown]:["W","W","W","W","W","W"," ","W"],[T.FrontLeft]:["W","W"," ","W","W","W","W","W"],[T.FrontRight]:["W","W","W","W","W"," ","W","W"],[T.TopLeft]:["W","W","W","W","W","W","W","W"],[T.TopRight]:["W","W","W","W","W"," ","W","W"],[T.DownLeft]:["W","W","W","W","W","W","W","W"],[T.DownRight]:["W","W","W","W","W","W","W","W"],[T.BackTop]:["W"," ","W","W","W","W","W","W"],[T.BackDown]:["W","W","W","W"," ","W","W","W"],[T.BackLeft]:["W","W","W","W","W","W","W","W"],[T.BackRight]:["W","W","W","W","W","W","W","W"]}},enemies:{[eD.WallSpike]:[{id:1,directions:[c.Up]},{id:2,directions:[c.Up]},{id:3,directions:[c.Down]},{id:4,directions:[c.Down]}],[eD.FloorSpike]:[{id:1,inactiveTime:2.5,activeTime:.5},{id:2,inactiveTime:2,activeTime:1},{id:3,inactiveTime:2,activeTime:1},{id:4,inactiveTime:1.5,activeTime:1},{id:5,inactiveTime:2,activeTime:.7},{id:6,inactiveTime:1.7,activeTime:.6},{id:7,inactiveTime:1.5,activeTime:.5},{id:8,inactiveTime:2,activeTime:1},{id:9,inactiveTime:3,activeTime:1},{id:10,inactiveTime:2,activeTime:1},{id:11,inactiveTime:1,activeTime:1}]}},eK={size:new a.Vector3(5,5,8),sceneType:eU.Light,map:{sides:{[s.Front]:[["CC","  ","CC","WW","CC"],["  ","WW","  ","WW","  "],["  ","WW","ST","WW","  "],["  ","WW","WW","WW","  "],["CC","  ","  ","  ","CC"]],[s.Left]:[["WW","CC","  ","CC","  ","CC","  ","CC"],["WW","  ","WW","WW","WW","WW","WW","WW"],["  ","I4","CC","  ","CC","  ","CC","I5"],["WW","  ","WW","WW","WW","WW","  ","CC"],["CC","  ","  ","  ","  ","  ","CC","WW"]],[s.Right]:[["  ","CC","WW","  ","  ","CC","  ","  "],["  ","CC","WW","WW","  ","  ","  ","  "],["  ","WW","WW","CC","  ","WW","CC","  "],["  ","  ","  ","  ","CC","WW","  ","WW"],["CC","  ","WW","  ","  ","X1","CC","  "]],[s.Top]:[["CC","  ","I3","  ","CC"],["  ","  ","  ","WW","  "],["CC","  ","CC","WW","  "],["WW","WW","WW","WW","  "],["CC","I1","  ","  ","  "],["CC","I2","  ","  ","  "],["WW","WW","  ","  ","CC"],["  ","  ","CC","WW","WW"]],[s.Bottom]:[["CC","CC","CC","CC","CC"],["  ","  ","  ","  ","  "],["  ","  ","WW","WW","WW"],["I6","CC","CC","CC","I7"],["WW","WW","WW","  ","  "],["CC","  ","CC","CC","  "],["  ","  ","  ","  ","  "],["  ","WW","CC","  ","CC"]],[s.Back]:[["CC","WW","CC","  ","CC"],["  ","WW","WW","WW","  "],["CC","WW","FI","  ","CC"],["WW","WW","WW","WW","  "],["CC","  ","CC","WW","CC"]]},edges:{[T.FrontTop]:["W","W","W","W","W"],[T.FrontDown]:["W","W","W","W","W"],[T.FrontLeft]:["W","W","W","W","W"],[T.FrontRight]:["W","W","W","W"," "],[T.TopLeft]:["W","W","W","W","W","W","W"," "],[T.TopRight]:["W","W","W","W"," ","W","W","W"],[T.DownLeft]:[" ","W","W","W","W","W","W","W"],[T.DownRight]:["W","W","W","W","W","W"," ","W"],[T.BackTop]:["W","W"," ","W","W"],[T.BackDown]:["W","W"," ","W","W"],[T.BackLeft]:["W","W"," ","W","W"],[T.BackRight]:["W","W"," ","W","W"]}},enemies:{[eD.WallSpike]:[{id:1,directions:[c.Left,c.Right]}],[eD.FloorSpike]:[{id:1,inactiveTime:2,activeTime:1},{id:2,inactiveTime:2.5,activeTime:1.2},{id:3,inactiveTime:1.5,activeTime:1},{id:4,inactiveTime:1,activeTime:1},{id:5,inactiveTime:2,activeTime:1},{id:6,inactiveTime:1.8,activeTime:.8},{id:7,inactiveTime:2,activeTime:1.1}]}},eH={size:new a.Vector3(4,4,4),sceneType:eU.Light,map:{sides:{[s.Front]:[["ST","  ","  ","CC"],["WW","WW","WW","  "],["  ","I1","I2","  "],["CC","CC","CC","CC"]],[s.Left]:[["WW","CC","  ","CC"],["CC","I3","CC","WW"],["  ","CC","  ","  "],["CC","  ","  ","CC"]],[s.Right]:[["CC","  ","  ","  "],["  ","WW","I4","CC"],["  ","WW","  ","WW"],["CC","WW","CC","  "]],[s.Top]:[["  ","CC","WW","CC"],["WW","  ","  ","  "],["CC","CC","WW","  "],["CC","CC","  ","CC"]],[s.Bottom]:[["I6","CC","CC","I7"],["  ","WW","WW","  "],["CC","WW","CC","  "],["  ","WW","  ","CC"]],[s.Back]:[["  ","CC","WW","CC"],["  ","  ","WW","WW"],["  ","I5","  ","FI"],["  ","CC","WW","  "]]},edges:{[T.FrontTop]:["WW","WW","WW","WW"],[T.FrontDown]:["WW","WW","WW","WW"],[T.FrontLeft]:["WW","  ","WW","WW"],[T.FrontRight]:["WW","  ","WW","WW"],[T.TopLeft]:["WW","WW","WW","WW"],[T.TopRight]:["WW","WW","WW","WW"],[T.DownLeft]:["WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW"],[T.BackTop]:["  ","WW","WW","  "],[T.BackDown]:["  ","WW","  ","WW"],[T.BackLeft]:["WW","WW","WW","WW"],[T.BackRight]:["  ","WW","WW","WW"]}},enemies:{[eD.FloorSpike]:[{id:1,inactiveTime:1,activeTime:1.3},{id:2,inactiveTime:1.5,activeTime:1},{id:3,inactiveTime:1,activeTime:1},{id:4,inactiveTime:1.2,activeTime:1},{id:5,inactiveTime:1.5,activeTime:.5},{id:6,inactiveTime:2,activeTime:.7},{id:7,inactiveTime:1.5,activeTime:.5}]}},eX={size:new a.Vector3(1,1,1),sceneType:eU.Light,map:{sides:{[s.Front]:[["ST"]],[s.Left]:[["  "]],[s.Right]:[["  "]],[s.Top]:[["FI"]],[s.Bottom]:[["  "]],[s.Back]:[["  "]]},edges:{[T.FrontTop]:["  "],[T.FrontDown]:["WW"],[T.FrontLeft]:["WW"],[T.FrontRight]:["WW"],[T.TopLeft]:["WW"],[T.TopRight]:["WW"],[T.DownLeft]:["WW"],[T.DownRight]:["WW"],[T.BackTop]:["WW"],[T.BackDown]:["WW"],[T.BackLeft]:["WW"],[T.BackRight]:["WW"]}}},eq={size:new a.Vector3(3,3,3),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  "],["  ","ST","FI"],["  ","  ","  "]],[s.Left]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Right]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Top]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Bottom]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Back]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]]},edges:{[T.FrontTop]:[" "," "," "],[T.FrontDown]:[" ","W"," "],[T.FrontLeft]:[" "," "," "],[T.FrontRight]:[" "," ","W"],[T.TopLeft]:[" "," "," "],[T.TopRight]:[" ","W"," "],[T.DownLeft]:[" ","W","W"],[T.DownRight]:[" "," "," "],[T.BackTop]:["W","W"," "],[T.BackDown]:[" "," "," "],[T.BackLeft]:["W"," ","W"],[T.BackRight]:[" "," "," "]}}},eJ={size:new a.Vector3(6,6,6),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","ST","FI","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Bottom]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]],[s.Back]:[["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:[" "," "," ","W","W"," "],[T.FrontDown]:[" "," "," "," "," "," "],[T.FrontLeft]:[" "," "," "," "," "," "],[T.FrontRight]:[" "," "," "," "," "," "],[T.TopLeft]:[" "," "," "," "," "," "],[T.TopRight]:[" "," "," "," "," "," "],[T.DownLeft]:[" "," "," "," "," "," "],[T.DownRight]:[" "," "," "," "," "," "],[T.BackTop]:[" "," "," "," "," "," "],[T.BackDown]:[" "," "," "," "," "," "],[T.BackLeft]:[" "," "," "," "," "," "],[T.BackRight]:[" "," "," "," "," "," "]}}},eQ={size:new a.Vector3(9,9,9),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","ST","FI","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Bottom]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Back]:[["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontDown]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.FrontLeft]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontRight]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.TopLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.TopRight]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownLeft]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.BackTop]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.BackDown]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","  "],[T.BackRight]:["  ","WW","WW","WW","WW","WW","WW","WW","WW"]}}},eZ={size:new a.Vector3(12,12,12),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","ST","FI","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Bottom]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Back]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontDown]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackTop]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackDown]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"]}}},e$={size:new a.Vector3(15,15,15),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","ST","FI","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Bottom]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]],[s.Back]:[["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  ","  "]]},edges:{[T.FrontTop]:["  ","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontDown]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.FrontRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackTop]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackDown]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackLeft]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackRight]:["WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW","WW"]}}},e0={size:new a.Vector3(3,5,8),sceneType:eU.Light,map:{sides:{[s.Front]:[["  ","  ","  "],["  ","  ","  "],["  ","ST","  "],["  ","  ","  "],["  ","  ","  "]],[s.Left]:[["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["FI","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "]],[s.Right]:[["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "],["  ","  ","  ","  ","  ","  ","  ","  "]],[s.Top]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Bottom]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]],[s.Back]:[["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "],["  ","  ","  "]]},edges:{[T.FrontTop]:["WW","WW","  "],[T.FrontDown]:["  ","WW","WW"],[T.FrontLeft]:["WW","WW","WW","WW","  "],[T.FrontRight]:["  ","WW","WW","WW","WW"],[T.TopLeft]:["WW","WW","WW","WW","WW","WW","WW","WW"],[T.TopRight]:["WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownLeft]:["WW","WW","WW","WW","WW","WW","WW","WW"],[T.DownRight]:["WW","WW","WW","WW","WW","WW","WW","WW"],[T.BackTop]:["  ","WW","WW"],[T.BackDown]:["WW","WW","  "],[T.BackLeft]:["  ","WW","WW","WW","WW"],[T.BackRight]:["WW","WW","WW","WW","  "]}}},e1={[eO.Level01]:eG,[eO.Level02]:eN,[eO.Level03]:ej,[eO.Level04]:eK,[eO.Level05]:eH,[eO.Level06]:eX,[eO.Level07]:eq,[eO.Level08]:eJ,[eO.Level09]:eQ,[eO.Level10]:eZ,[eO.Level11]:e$,[eO.Level12]:e0};eO.Level01,eO.Level02,eO.Level03,eO.Level04,eO.Level05;var e3=W(16889),e2=function(e){return e.Left="LEFT",e.Right="RIGHT",e.Up="UP",e.Down="DOWN",e.Start="START",e}({});let e5={[e2.Left]:{keyCode:["ArrowLeft","KeyA"]},[e2.Right]:{keyCode:["ArrowRight","KeyD"]},[e2.Up]:{keyCode:["ArrowUp","KeyW"]},[e2.Down]:{keyCode:["ArrowDown","KeyS"]},[e2.Start]:{keyCode:["Space","Enter"]}};var e8=function(e){return e.Active="ACTIVE",e.Paused="PAUSED",e}({}),e4=function(e){return e.Idle="IDLE",e.Rotating="ROTATING",e}({}),e9=function(e){return e.Idle="IDLE",e.Moving="MOVING",e.RotatingToNewSide="ROTATING_TO_NEW_SIDE",e.Death="DEATH",e}({}),e7=function(e){return e.Left="LEFT",e.Right="RIGHT",e.Up="UP",e.Down="DOWN",e}({}),e6=function(e){return e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e}({});e7.Right,l.Top,new a.Vector2(1,0),e7.Right,e6.Right,l.Bottom,new a.Vector2(-1,0),e7.Left,e6.Left,l.Right,new a.Vector2(0,1),e7.Down,e6.Up,l.Left,new a.Vector2(0,-1),e7.Up,e6.Down,e7.Left,l.Top,new a.Vector2(-1,0),e7.Left,e6.Left,l.Bottom,new a.Vector2(1,0),e7.Right,e6.Right,l.Right,new a.Vector2(0,-1),e7.Up,e6.Down,l.Left,new a.Vector2(0,1),e7.Down,e6.Up,e7.Up,l.Top,new a.Vector2(0,-1),e7.Up,e6.Up,l.Bottom,new a.Vector2(0,1),e7.Down,e6.Down,l.Right,new a.Vector2(1,0),e7.Right,e6.Left,l.Left,new a.Vector2(-1,0),e7.Left,e6.Right,e7.Down,l.Top,new a.Vector2(0,1),e7.Down,e6.Down,l.Bottom,new a.Vector2(0,-1),e7.Up,e6.Up,l.Right,new a.Vector2(-1,0),e7.Left,e6.Right,l.Left,new a.Vector2(1,0),e7.Right,e6.Left,e7.Up,new a.Vector2(0,-1),e6.Up,e7.Down,new a.Vector2(0,1),e6.Down,e7.Left,new a.Vector2(-1,0),e6.Left,e7.Right,new a.Vector2(1,0),e6.Right;let te={[e2.Right]:e7.Right,[e2.Left]:e7.Left,[e2.Up]:e7.Up,[e2.Down]:e7.Down};e7.Up,e7.Down,e7.Left,e7.Right,c.Up,e2.Up,c.Down,e2.Down,c.Left,e2.Left,c.Right,e2.Right,s.Front,s.Left,new a.Vector3(0,1,0),s.Right,new a.Vector3(0,1,0),s.Top,new a.Vector3(1,0,0),s.Bottom,new a.Vector3(1,0,0),s.Left,s.Front,new a.Vector3(0,1,0),s.Back,new a.Vector3(0,1,0),s.Top,new a.Vector3(0,0,1),s.Bottom,new a.Vector3(0,0,1),s.Right,s.Front,new a.Vector3(0,1,0),s.Back,new a.Vector3(0,1,0),s.Top,new a.Vector3(0,0,1),s.Bottom,new a.Vector3(0,0,1),s.Top,s.Front,new a.Vector3(1,0,0),s.Left,new a.Vector3(0,0,1),s.Right,new a.Vector3(0,0,1),s.Back,new a.Vector3(1,0,0),s.Bottom,s.Front,new a.Vector3(1,0,0),s.Left,new a.Vector3(0,0,1),s.Right,new a.Vector3(0,0,1),s.Back,new a.Vector3(1,0,0),s.Back,s.Left,new a.Vector3(0,1,0),s.Right,new a.Vector3(0,1,0),s.Top,new a.Vector3(1,0,0),s.Bottom,new a.Vector3(1,0,0);let tt=r.createContext({});function tW(e){let{children:t,...W}=e,{ref:i,...n}=function(e){let{camera:t}=e,[W,o]=r.useState(e8.Active),[i,n]=r.useState(!1),[a,s]=r.useState(e4.Idle),[l,c]=r.useState(e9.Idle),C=r.useMemo(()=>(0,e3.A)(),[]),d=r.useRef(null),p=r.useRef();return r.useEffect(()=>{let e=d.current;if(!e)return;let t=e=>{for(let t in e2){let W=e2[t],o=e5[W];if(o.keyCode&&o.keyCode.includes(e.code)){console.log("onButtonPressed",W),C.emit("onButtonPressed",W);let e=te[W]||void 0;if(e){if(a===e4.Rotating||l===e9.Moving&&null===p.current){p.current=e;return}a===e4.Idle&&e9.Idle}}}};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[C]),{ref:d,emitter:C,camera:t}}(W);return(0,o.Y)("div",{ref:i,children:(0,o.Y)(tt.Provider,{value:n,children:t})})}var to=W(29682),ti=function(e){return e.Desktop="DESKTOP",e.Mobile="MOBILE",e}({});let tn={settings:{fov:50,near:1,far:70},distanceFromCube:{static:20,dynamic:{enable:!0,lerpFactor:.06,[ti.Desktop]:{start:9,sideCoefficient:1.5},[ti.Mobile]:{start:12,sideCoefficient:2.5}}},followPlayer:{enabled:!1,lerpFactor:.1,lerpFactorCubeRotating:.5},lookAtPlayer:{enabled:!1,lerpFactor:.03,lerpFactorCubeRotating:.5},rotationByPlayerPosition:{enabled:!0,lerpFactor:.015,distanceCoefficient:.5}},tr=r.memo(function(e){let{width:t,height:W}=e,s=e1[eO.Level01],{camera:l}=r.useMemo(()=>{let e=new a.PerspectiveCamera(50,t/W,1,70),o=to.FrL?ti.Mobile:ti.Desktop,i=tn.distanceFromCube.dynamic[o];return e.position.z=i.start+2*i.sideCoefficient,{camera:e}},[]);return(0,o.Y)(tW,{camera:l,children:(0,o.Y)(n.Hl,{style:{border:"1px solid black",width:t,height:W},camera:l,children:(0,o.FD)(r.Suspense,{children:[s&&(0,o.Y)(eY,{levelConfig:s}),(0,o.Y)(i.N,{enableDamping:!0}),(0,o.Y)("ambientLight",{intensity:1,color:0xffffff}),(0,o.Y)("directionalLight",{intensity:1.3,color:0xffffff,position:[5,5,5]}),(0,o.Y)("fog",{args:[6710886,18,24]})]})})})})}}]);
//# sourceMappingURL=2164.01a6ab000f7c4aad.js.map