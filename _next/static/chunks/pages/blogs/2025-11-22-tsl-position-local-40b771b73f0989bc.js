(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5029],{20688:(e,n,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/2025-11-22-tsl-position-local",function(){return r(97085)}])},97085:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>g,meta:()=>u});var o=r(37876),s=r(91668),c=r(91013),i=r(18153),d=r(36453),a=r(56366),t=r(92647),l=r(59341),h=r(49082),p=r(14232),x=r(30539);let j=p.memo(function(e){let{}=e,n=p.useMemo(()=>(0,x.Fn)(()=>{let e=x.pot.mul(2);return e.assign((0,x.t4L)(e.xy,x.kBw,(0,x.ZcS)())),(0,x.If)((0,x.tnl)(e.x).greaterThan(.95),()=>{e.z=1}),(0,x.If)((0,x.tnl)(e.y).greaterThan(.95),()=>{e.z=1}),e}),[]);return(0,i.Y)(a.A,{children:e=>(0,i.FD)(t.A,{children:[(0,i.Y)(l.u,{makeDefault:!0,fov:53,aspect:e.clientWidth/e.clientHeight,near:.1,far:10,position:[0,0,1]}),(0,i.FD)("mesh",{name:"node-mesh",children:[(0,i.Y)("planeGeometry",{args:[2,1]}),(0,i.Y)("nodeMaterial",{fragmentNode:n()}),(0,i.Y)(d.ZP,{meshName:"node-mesh"})]}),(0,i.Y)("axesHelper",{}),(0,i.Y)(h.N,{})]})})}),u={title:"TSL: positionLocal",description:"Three.js Shading Language(TSL)에서 positionLocal 노드를 사용하여 로컬 좌표계를 활용하는 방법을 알아봅니다.",date:"2025-11-22",readTime:5},m=e=>{let{children:n}=e;return(0,o.jsx)(c.A,{meta:u,children:n})};function f(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{children:"positionLocal"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://sbcode.net/tsl/positionLocal/",children:"PositionLocal - Three.js Shading Language Tutorials"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"positionLocal"})," 노드는 TSL(Three.js Shading Language)에서 제공하는 유용한 노드 중 하나로, 객체의 로컬 좌표계를 활용할 수 있게 해줍니다."]}),"\n",(0,o.jsx)(n.p,{children:"이를 통해 셰이더에서 객체의 위치 정보를 보다 직관적으로 다룰 수 있습니다."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const main = React.useMemo(\n  () =>\n    Fn(() => {\n      const p = positionLocal.mul(2);\n\n      p.assign(rotateUV(p.xy, time, vec2()));\n\n      If(abs(p.x).greaterThan(0.95), () => {\n        // @ts-ignore\n        p.z = 1.0;\n      });\n\n      If(abs(p.y).greaterThan(0.95), () => {\n        // @ts-ignore\n        p.z = 1.0;\n      });\n\n      return p;\n    }),\n  []\n);\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"rotateUV"})," 함수는 주어진 UV 좌표를 회전시키는 역할을 합니다. ",(0,o.jsx)(n.code,{children:"time"})," 변수를 사용하여 시간에 따라 회전이 변화하도록 설정할 수 있습니다."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"x"}),", ",(0,o.jsx)(n.code,{children:"y"})," 좌표의 절대값이 0.95보다 클 경우 ",(0,o.jsx)(n.code,{children:"z"})," 좌표를 1.0으로 설정합니다."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"main"})," 노드는 ",(0,o.jsx)(n.code,{children:"fragmentNode"}),"에 연결되어 객체의 색상을 결정하는 데 사용됩니다."]}),"\n",(0,o.jsxs)(n.p,{children:["따라서 0.95를 초과하는 ",(0,o.jsx)(n.code,{children:"x"})," 또는 ",(0,o.jsx)(n.code,{children:"y"})," 좌표를 가진 픽셀은 ",(0,o.jsx)(n.code,{children:"z"})," 값이 1.0으로 설정되어 blue 색상을 최대값으로 적용합니다."]}),"\n",(0,o.jsx)(j,{}),"\n",(0,o.jsx)(n.h1,{children:"셰이더 코드"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"  // p = positionLocal.mul(2);\n  nodeVar0 = ( positionLocal * vec3<f32>( 2.0 ) );\n\n  // rotateUV(p.xy, time, vec2())\n	nodeVar1 = cos( render.nodeUniform0 );\n	nodeVar2 = sin( render.nodeUniform0 );\n	nodeVar0 = vec3<f32>( ( ( mat2x2<f32>( nodeVar1, nodeVar2, ( - nodeVar2 ), nodeVar1 ) * ( nodeVar0.xy - vec2<f32>( 0.0, 0.0 ) ) ) + vec2<f32>( 0.0, 0.0 ) ), 0.0 );\n\n  // If(abs(p.x).greaterThan(0.95), () => { p.z = 1.0; });\n	if ( ( abs( nodeVar0.x ) > 0.95 ) ) {\n		nodeVar0.z = 1.0;\n	}\n\n  // If(abs(p.y).greaterThan(0.95), () => { p.z = 1.0; });\n	if ( ( abs( nodeVar0.y ) > 0.95 ) ) {\n		nodeVar0.z = 1.0;\n	}\n\n	// result\n	output.color = vec4<f32>( nodeVar0, 1.0 );\n	return output;\n"})}),"\n",(0,o.jsx)(n.p,{children:"위와 같이 fragment shader 코드가 생성됩니다."}),"\n",(0,o.jsx)(n.h1,{children:"마치며"}),"\n",(0,o.jsxs)(n.p,{children:["이번 포스트에서는 TSL의 ",(0,o.jsx)(n.code,{children:"positionLocal"})," 노드를 사용하여 객체의 로컬 좌표계를 활용하는 방법을 알아보았습니다."]}),"\n",(0,o.jsxs)(n.p,{children:["그 밖에 ",(0,o.jsx)(n.code,{children:"mul"}),", ",(0,o.jsx)(n.code,{children:"rotateUV"}),", ",(0,o.jsx)(n.code,{children:"If"}),", ",(0,o.jsx)(n.code,{children:"abs"}),", ",(0,o.jsx)(n.code,{children:"greaterThan"})," 등의 노드도 함께 살펴보았습니다."]})]})}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.jsx)(m,{...e,children:(0,o.jsx)(f,{...e})})}}},e=>{e.O(0,[5334,7391,683,7544,5695,5302,2077,3629,4128,636,6593,8792],()=>e(e.s=20688)),_N_E=e.O()}]);
//# sourceMappingURL=2025-11-22-tsl-position-local-40b771b73f0989bc.js.map