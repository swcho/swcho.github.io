(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4308],{42274:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/2025-05-04-r3f-inverted-stencil-buffer",function(){return r(80268)}])},49034:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(18153),i=r(77328),a=r.n(i),o=r(14232);let l=o.memo(()=>(0,n.Y)(n.FK,{}));var s=r(71745),c=r(48230),d=r.n(c);let u=[{link:"/",text:"Home"}],h=o.memo(()=>{let e=(0,s.useRouter)(),[t,r]=o.useState(!1);return(0,n.FD)("nav",{className:"w-full",children:[(0,n.Y)("div",{id:"progress",className:"top-0 z-20 h-1",style:{background:"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)"}}),(0,n.FD)("div",{className:"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl",children:[(0,n.Y)("div",{className:"pl-4",children:(0,n.Y)(d(),{legacyBehavior:!0,className:"text-xl font-extrabold text-gray-900 no-underline hover:no-underline",href:"/",children:"lifetime trails"})}),(0,n.Y)("div",{className:"block pr-4 lg:hidden",children:(0,n.Y)("button",{id:"nav-toggle",type:"button",className:"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none",onMouseDown:e=>e.preventDefault(),onClick:()=>r(!t),onBlur:()=>r(!1),children:(0,n.FD)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.Y)("title",{children:"Menu"}),(0,n.Y)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,n.Y)("div",{id:"nav-content",className:"bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ".concat(t?"block":"hidden"),children:(0,n.Y)("ul",{className:"items-center justify-end flex-1 list-reset lg:flex",children:u.map(t=>{let{link:r,text:i}=t;return(0,n.Y)("li",{className:"mr-3",children:(0,n.Y)(d(),{legacyBehavior:!0,className:e.pathname===r?"inline-block py-2 px-4 text-gray-900 font-bold no-underline":"inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4",href:r,children:i})},r)})})})]})]})}),p=o.memo(e=>{let{children:t,title:r="This is the default title"}=e;return(0,n.FD)("div",{className:"leading-normal tracking-normal bg-gray-100 min-h-screen",children:[(0,n.FD)(a(),{children:[(0,n.Y)("title",{children:r}),(0,n.Y)("meta",{charSet:"utf-8"}),(0,n.Y)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,n.Y)(h,{}),(0,n.Y)("div",{className:"container w-full px-4 pb-10 mx-auto md:max-w-3xl",children:t}),(0,n.Y)(l,{})]})})},49082:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var n=r(44501),i=r(71804),a=r(14232),o=r(78961);let l=a.forwardRef(({makeDefault:e,camera:t,regress:r,domElement:l,enableDamping:s=!0,keyEvents:c=!1,onChange:d,onStart:u,onEnd:h,...p},m)=>{let g=(0,i.C)(e=>e.invalidate),f=(0,i.C)(e=>e.camera),v=(0,i.C)(e=>e.gl),y=(0,i.C)(e=>e.events),x=(0,i.C)(e=>e.setEvents),b=(0,i.C)(e=>e.set),k=(0,i.C)(e=>e.get),Y=(0,i.C)(e=>e.performance),w=t||f,S=l||y.connected||v.domElement,P=a.useMemo(()=>new o.N(w),[w]);return(0,i.D)(()=>{P.enabled&&P.update()},-1),a.useEffect(()=>(c&&P.connect(!0===c?S:c),P.connect(S),()=>void P.dispose()),[c,S,r,P,g]),a.useEffect(()=>{let e=e=>{g(),r&&Y.regress(),d&&d(e)},t=e=>{u&&u(e)},n=e=>{h&&h(e)};return P.addEventListener("change",e),P.addEventListener("start",t),P.addEventListener("end",n),()=>{P.removeEventListener("start",t),P.removeEventListener("end",n),P.removeEventListener("change",e)}},[d,u,h,P,g,x]),a.useEffect(()=>{if(e){let e=k().controls;return b({controls:P}),()=>b({controls:e})}},[e,P]),a.createElement("primitive",(0,n.A)({ref:m,object:P,enableDamping:s},p))})},59496:(e,t,r)=>{"use strict";r.d(t,{k:()=>l,n:()=>o});var n=r(44501),i=r(14796),a=r(14232);let o=a.forwardRef(({id:e=1,colorWrite:t=!1,depthWrite:r=!1,...o},l)=>{let s=a.useRef(null),c=a.useMemo(()=>({colorWrite:t,depthWrite:r,stencilWrite:!0,stencilRef:e,stencilFunc:i.AlwaysStencilFunc,stencilFail:i.ReplaceStencilOp,stencilZFail:i.ReplaceStencilOp,stencilZPass:i.ReplaceStencilOp}),[e,t,r]);return a.useLayoutEffect(()=>{Object.assign(s.current.material,c)}),a.useImperativeHandle(l,()=>s.current,[]),a.createElement("mesh",(0,n.A)({ref:s,renderOrder:-e},o))});function l(e,t=!1){return{stencilWrite:!0,stencilRef:e,stencilFunc:t?i.NotEqualStencilFunc:i.EqualStencilFunc,stencilFail:i.KeepStencilOp,stencilZFail:i.KeepStencilOp,stencilZPass:i.KeepStencilOp}}},60158:(e,t,r)=>{"use strict";r.d(t,{J:()=>l,j:()=>o});var n=r(18153),i=r(14232);let a=i.createContext({});function o(e){let{staticProps:t,children:r}=e;return(0,n.Y)(a.Provider,{value:t,children:r})}function l(){return i.useContext(a)}},80268:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>J,meta:()=>V});var n=r(37876),i=r(91668),a=r(91013),o=r(18153),l=r(44501),s=r(14232),c=r(14796),d=r(99483);let u=s.forwardRef(function({args:[e=1,t=1,r=1]=[],radius:n=.05,steps:i=1,smoothness:a=4,bevelSegments:o=4,creaseAngle:c=.4,children:d,...u},p){return s.createElement("mesh",(0,l.A)({ref:p},u),s.createElement(h,{args:[e,t,r],radius:n,steps:i,smoothness:a,bevelSegments:o,creaseAngle:c}),d)}),h=s.forwardRef(function({args:[e=1,t=1,r=1]=[],radius:n=.05,steps:i=1,smoothness:a=4,bevelSegments:o=4,creaseAngle:u=.4,...h},p){let m=s.useMemo(()=>(function(e,t,r){let n=new c.Shape,i=r-1e-5;return n.absarc(1e-5,1e-5,1e-5,-Math.PI/2,-Math.PI,!0),n.absarc(1e-5,t-2*i,1e-5,Math.PI,Math.PI/2,!0),n.absarc(e-2*i,t-2*i,1e-5,Math.PI/2,0,!0),n.absarc(e-2*i,1e-5,1e-5,0,-Math.PI/2,!0),n})(e,t,n),[e,t,n]),g=s.useMemo(()=>({depth:r-2*n,bevelEnabled:!0,bevelSegments:2*o,steps:i,bevelSize:n-1e-5,bevelThickness:n,curveSegments:a}),[r,n,a,o,i]),f=s.useRef(null);return s.useLayoutEffect(()=>{f.current&&(f.current.center(),(0,d.pb)(f.current,u))},[m,g,u]),s.useImperativeHandle(p,()=>f.current),s.createElement("extrudeGeometry",(0,l.A)({ref:f,args:[m,g]},h))});var p=r(49082),m=r(45302),g=r(21398),f=r(67955),v=r(78455),y=r(74849),x=r(41945),b=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,k=(0,x.A)(function(e){return b.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)}),Y=function(e){return"theme"!==e},w=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?k:Y},S=function(e,t,r){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},P=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,y.SF)(t,r,n),(0,v.s)(function(){return(0,y.sk)(t,r,n)}),null},A=(function e(t,r){var n,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==r&&(n=r.label,i=r.target);var c=S(t,r,a),d=c||w(o),u=!d("as");return function(){var h=arguments,p=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&p.push("label:"+n+";"),null==h[0]||void 0===h[0].raw)p.push.apply(p,h);else{var m=h[0];p.push(m[0]);for(var v=h.length,x=1;x<v;x++)p.push(h[x],m[x])}var b=(0,g.w)(function(e,t,r){var n=u&&e.as||o,a="",l=[],h=e;if(null==e.theme){for(var m in h={},e)h[m]=e[m];h.theme=s.useContext(g.T)}"string"==typeof e.className?a=(0,y.Rk)(t.registered,l,e.className):null!=e.className&&(a=e.className+" ");var v=(0,f.J)(p.concat(l),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var x=u&&void 0===c?w(n):d,b={};for(var k in e)(!u||"as"!==k)&&x(k)&&(b[k]=e[k]);return b.className=a,r&&(b.ref=r),s.createElement(s.Fragment,null,s.createElement(P,{cache:t,serialized:v,isStringTag:"string"==typeof n}),s.createElement(n,b))});return b.displayName=void 0!==n?n:"Styled("+("string"==typeof o?o:o.displayName||o.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=o,b.__emotion_styles=p,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+i}}),b.withComponent=function(t,n){return e(t,(0,l.A)({},r,n,{shouldForwardProp:S(b,n,!0)})).apply(void 0,p)},b}}).bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){A[e]=A(e)});let F=A("div")(()=>({border:"1px solid",borderRadius:"4px",width:"100%",marginBottom:"1rem"})),M=s.forwardRef((e,t)=>{let{children:r,...n}=e;return(0,o.Y)(F,{ref:t,...n,children:r})}),E=s.memo(M);function C(e){let{color:t,...r}=e;return(0,o.Y)(u,{...r,children:(0,o.Y)("meshPhongMaterial",{color:t})})}let _=s.memo(function(e){let{}=e;return console.log("App01",{refLight:s.useRef(null)}),(0,o.Y)(E,{children:(0,o.FD)(m.Hl,{camera:{position:[0,3,10],fov:50},children:[(0,o.Y)("ambientLight",{}),(0,o.Y)(C,{color:"#EAC435",args:[1,5,1],"rotation-y":Math.PI/4,position:[0,0,-2]}),(0,o.Y)(C,{color:"#03CEA4",args:[2,2,2],position:[-2,0,-2]}),(0,o.Y)(C,{color:"#FB4D3D",args:[2,2,2],position:[2,0,-2]}),(0,o.Y)(p.N,{makeDefault:!0,autoRotate:!0,position:[0,10,10]}),(0,o.Y)("axesHelper",{}),(0,o.Y)("gridHelper",{})]})})});var j=r(35577);let R="/_next/static/chunks/react-transformed.65942f5820ad97d7da560e19e8b77c7c.glb";function N(e){let{color:t,...r}=e;return(0,o.Y)(u,{...r,children:(0,o.Y)("meshPhongMaterial",{color:t})})}function D(e){let{nodes:t}=(0,j.p)(R);return(0,o.Y)("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.atom.geometry,...e,dispose:null,children:(0,o.Y)("meshPhongMaterial",{color:"#33BBFF"})})}let L=s.memo(function(e){let{}=e;return console.log("App01",{refLight:s.useRef(null)}),(0,o.Y)(E,{children:(0,o.FD)(m.Hl,{camera:{position:[0,3,10],fov:50},children:[(0,o.Y)("directionalLight",{position:[1,2,1.5],intensity:.5,castShadow:!0}),(0,o.Y)("hemisphereLight",{intensity:1.5,groundColor:"red"}),(0,o.Y)(D,{scale:1.5}),(0,o.Y)(N,{color:"#EAC435",args:[1,5,1],"rotation-y":Math.PI/4,position:[0,0,-2]}),(0,o.Y)(N,{color:"#03CEA4",args:[2,2,2],position:[-2,0,-2]}),(0,o.Y)(N,{color:"#FB4D3D",args:[2,2,2],position:[2,0,-2]}),(0,o.Y)(p.N,{makeDefault:!0,autoRotate:!0}),(0,o.Y)("axesHelper",{}),(0,o.Y)("gridHelper",{})]})})});var T=r(71804);let I=s.forwardRef(({children:e,enabled:t=!0,speed:r=1,rotationIntensity:n=1,floatIntensity:i=1,floatingRange:a=[-.1,.1],autoInvalidate:o=!1,...l},d)=>{let u=s.useRef(null);s.useImperativeHandle(d,()=>u.current,[]);let h=s.useRef(1e4*Math.random());return(0,T.D)(e=>{var l,s;if(!t||0===r)return;o&&e.invalidate();let d=h.current+e.clock.elapsedTime;u.current.rotation.x=Math.cos(d/4*r)/8*n,u.current.rotation.y=Math.sin(d/4*r)/8*n,u.current.rotation.z=Math.sin(d/4*r)/20*n;let p=Math.sin(d/4*r)/10;p=c.MathUtils.mapLinear(p,-.1,.1,null!=(l=null==a?void 0:a[0])?l:-.1,null!=(s=null==a?void 0:a[1])?s:.1),u.current.position.y=p*i,u.current.updateMatrix()}),s.createElement("group",l,s.createElement("group",{ref:u,matrixAutoUpdate:!1},e))});function H(e){let{color:t,...r}=e;return(0,o.Y)(u,{...r,children:(0,o.Y)("meshPhongMaterial",{color:t})})}function O(e){let{nodes:t}=(0,j.p)(R);return(0,o.Y)("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.atom.geometry,...e,dispose:null,children:(0,o.Y)("meshPhongMaterial",{color:"#33BBFF"})})}let B=s.memo(function(e){let{}=e;return console.log("App01",{refLight:s.useRef(null)}),(0,o.Y)(E,{children:(0,o.FD)(m.Hl,{camera:{position:[0,3,10],fov:50},children:[(0,o.Y)("directionalLight",{position:[1,2,1.5],intensity:.5,castShadow:!0}),(0,o.Y)("hemisphereLight",{intensity:1.5,groundColor:"red"}),(0,o.Y)(I,{floatIntensity:4,rotationIntensity:0,speed:4,children:(0,o.Y)(O,{scale:1.5})}),(0,o.Y)(H,{color:"#EAC435",args:[1,5,1],"rotation-y":Math.PI/4,position:[0,0,-2]}),(0,o.Y)(H,{color:"#03CEA4",args:[2,2,2],position:[-2,0,-2]}),(0,o.Y)(H,{color:"#FB4D3D",args:[2,2,2],position:[2,0,-2]}),(0,o.Y)(p.N,{makeDefault:!0}),(0,o.Y)("axesHelper",{}),(0,o.Y)("gridHelper",{})]})})});var z=r(59496);function q(e){let{color:t,...r}=e;return(0,o.Y)(u,{...r,children:(0,o.Y)("meshPhongMaterial",{color:t})})}function U(e){let t=(0,z.k)(1),{nodes:r}=(0,j.p)(R);return console.log("Atom",{stencil:t}),(0,o.Y)("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.atom.geometry,...e,dispose:null,children:(0,o.Y)("meshPhongMaterial",{color:"#33BBFF",...t})})}let X=e=>(0,o.FD)("mesh",{...e,children:[(0,o.Y)("ringGeometry",{args:[.785,.85,64]}),(0,o.Y)("meshPhongMaterial",{color:"black"})]}),G=e=>(0,o.FD)("group",{...e,children:[(0,o.Y)(X,{position:[0,0,1]}),(0,o.FD)(z.n,{id:1,position:[0,0,.95],children:[(0,o.Y)("circleGeometry",{args:[.8,64]}),(0,o.Y)("meshBasicMaterial",{})]})]}),K=s.memo(function(e){let{}=e;return(0,o.Y)(E,{children:(0,o.FD)(m.Hl,{camera:{position:[0,3,10],fov:50},gl:{stencil:!0},children:[(0,o.Y)("directionalLight",{position:[1,2,1.5],intensity:.5,castShadow:!0}),(0,o.Y)("hemisphereLight",{intensity:1.5,groundColor:"red"}),(0,o.FD)(s.Suspense,{children:[(0,o.Y)(G,{position:[-2,0,0]}),(0,o.Y)(G,{}),(0,o.Y)(G,{position:[2,0,0]}),(0,o.Y)(I,{floatIntensity:4,rotationIntensity:0,speed:4,children:(0,o.Y)(U,{scale:1.5})}),(0,o.Y)(q,{color:"#EAC435",args:[1,5,1],"rotation-y":Math.PI/4,position:[0,0,-2]}),(0,o.Y)(q,{color:"#03CEA4",args:[2,2,2],position:[-2,0,-2]}),(0,o.Y)(q,{color:"#FB4D3D",args:[2,2,2],position:[2,0,-2]})]}),(0,o.Y)(p.N,{makeDefault:!0}),(0,o.Y)("axesHelper",{}),(0,o.Y)("gridHelper",{})]})})}),V={title:"R3f: Inverted stencil buffer",description:"webgl의 stencil buffer를 활용한 mask 기능을 활용한 예제를 살펴 봅니다.",date:"2025-05-04",readTime:5},W=e=>{let{children:t}=e;return(0,n.jsx)(a.A,{meta:V,children:t})};function Z(e){let t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",p:"p",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{children:"Inverted stencil buffer"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://codesandbox.io/s/7n2yru",children:"Inverted stencil buffer"})}),"\n"]}),"\n",(0,n.jsx)(_,{}),"\n",(0,n.jsx)(t.p,{children:"먼저 3개의 박스를 배치합니다."}),"\n",(0,n.jsx)(L,{}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"useGLTF"}),"를 사용해서 react 3d log를 추가합니다.\n",(0,n.jsx)(t.code,{children:"directionalLight"}),", ",(0,n.jsx)(t.code,{children:"hemisphereLight"}),"를 사용해서 입체감을 줍니다."]}),"\n",(0,n.jsx)(B,{}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"drei"}),"의 ",(0,n.jsx)(t.a,{href:"https://drei.docs.pmnd.rs/staging/float",children:"Float"}),"를 사용해서 react 3d log에 두둥실 떠다니는 효과를 줍니다."]}),"\n",(0,n.jsx)(K,{}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"drei"}),"의 ",(0,n.jsx)(t.a,{href:"https://drei.docs.pmnd.rs/portals/mask",children:"Mask"}),"를 사용해서 stencil buffer를 사용한 masking을 추가 합니다."]}),"\n",(0,n.jsxs)(t.p,{children:["마스킹 모양을 만드는 mesh를 ",(0,n.jsx)(t.code,{children:"Mask"})," 컴포넌트로 구성하고 대상이 되는 객체를 ",(0,n.jsx)(t.code,{children:"useMask"}),"를 사용해서 stencil 설정을 적용합니다."]}),"\n",(0,n.jsxs)(t.p,{children:["다음을 참고해서 필요할 경우 ",(0,n.jsx)(t.code,{children:"<Canvas />"})," 컴포넌트에 stencil 설정을 활성화 합니다."]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://github.com/pmndrs/drei/issues/1949#issuecomment-2136385743",children:"useMask hook and Mask component doesn't work with the current version of three.js \xb7 Issue #1949 \xb7 pmndrs/drei"})}),"\n"]})]})}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.jsx)(W,{...e,children:(0,n.jsx)(Z,{...e})})}},85419:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(18153);r(14232);let i=e=>{let{meta:t,isBlogPost:r}=e;return(0,n.FD)(n.FK,{children:[(0,n.Y)("h1",{className:"font-bold text-gray-800 mb-4 ".concat(r?"text-5xl mt-8 mb-8":"text-lg"),children:t.title}),(0,n.FD)("div",{className:"details",children:[(0,n.Y)("p",{className:"text-gray-500",children:t.description}),(0,n.Y)("p",{className:"text-gray-400 text-right -mt-1",children:(0,n.Y)("span",{className:"mr-4",children:t.date})})]})]})}},91013:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(18153),i=r(73146),a=r.n(i),o=r(14232),l=r(86089),s=r(60158),c=r(85419),d=r(49034);function u(e){let{children:t,meta:r,staticProps:i}=e;return o.useEffect(()=>{a().highlightAll()},[]),(0,n.Y)(n.FK,{children:(0,n.FD)(d.A,{title:r.title,children:[(0,n.Y)(c.A,{meta:r,isBlogPost:!0}),(0,n.Y)(s.j,{staticProps:i,children:(0,n.Y)("article",{className:"markdown",children:t})}),(0,n.Y)(l.Ay,{repo:"swcho/blog-comments",type:"pathname",label:"utterances",theme:"github-light"})]})})}}},e=>{e.O(0,[7391,683,5695,5302,2077,3665,636,6593,8792],()=>e(e.s=42274)),_N_E=e.O()}]);
//# sourceMappingURL=2025-05-04-r3f-inverted-stencil-buffer-464e974467d7eac6.js.map