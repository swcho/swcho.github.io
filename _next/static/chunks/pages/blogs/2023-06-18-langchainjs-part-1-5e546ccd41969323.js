(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5269],{3717:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7464:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/2023-06-18-langchainjs-part-1",function(){return n(62564)}])},49034:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(18153),s=n(77328),i=n.n(s),a=n(14232);let o=a.memo(()=>(0,r.Y)(r.FK,{}));var l=n(71745),c=n(48230),h=n.n(c);let d=[{link:"/",text:"Home"}],p=a.memo(()=>{let e=(0,l.useRouter)(),[t,n]=a.useState(!1);return(0,r.FD)("nav",{className:"w-full",children:[(0,r.Y)("div",{id:"progress",className:"top-0 z-20 h-1",style:{background:"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)"}}),(0,r.FD)("div",{className:"flex flex-wrap items-center justify-between w-full py-3 mx-auto mt-0 md:max-w-4xl",children:[(0,r.Y)("div",{className:"pl-4",children:(0,r.Y)(h(),{legacyBehavior:!0,className:"text-xl font-extrabold text-gray-900 no-underline hover:no-underline",href:"/",children:"lifetime trails"})}),(0,r.Y)("div",{className:"block pr-4 lg:hidden",children:(0,r.Y)("button",{id:"nav-toggle",type:"button",className:"flex items-center px-3 py-2 text-gray-500 appearance-none hover:text-gray-900 hover:border-teal-500 focus:outline-none",onMouseDown:e=>e.preventDefault(),onClick:()=>n(!t),onBlur:()=>n(!1),children:(0,r.FD)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.Y)("title",{children:"Menu"}),(0,r.Y)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,r.Y)("div",{id:"nav-content",className:"bg-gray-100 border-b flex-grow lg:border-none lg:flex lg:items-center lg:mt-0 lg:shadow-none lg:w-auto md:bg-transparent mt-2 shadow w-full z-20 ".concat(t?"block":"hidden"),children:(0,r.Y)("ul",{className:"items-center justify-end flex-1 list-reset lg:flex",children:d.map(t=>{let{link:n,text:s}=t;return(0,r.Y)("li",{className:"mr-3",children:(0,r.Y)(h(),{legacyBehavior:!0,className:e.pathname===n?"inline-block py-2 px-4 text-gray-900 font-bold no-underline":"inline-block text-gray-600 no-underline hover:text-gray-900 hover:text-underline py-2 px-4",href:n,children:s})},n)})})})]})]})}),u=a.memo(e=>{let{children:t,title:n="This is the default title"}=e;return(0,r.FD)("div",{className:"leading-normal tracking-normal bg-gray-100 min-h-screen",children:[(0,r.FD)(i(),{children:[(0,r.Y)("title",{children:n}),(0,r.Y)("meta",{charSet:"utf-8"}),(0,r.Y)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.Y)(p,{}),(0,r.Y)("div",{className:"container w-full px-4 pb-10 mx-auto md:max-w-3xl",children:t}),(0,r.Y)(o,{})]})})},56486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.identifierTypes=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}}return t.default=e,t}(n(14232)),s=function(e){return e&&e.__esModule?e:{default:e}}(n(95062));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=["pathname","url","title","og:title","issue-number","issue-term"],c=function(e,t,n){if(0>l.indexOf(e))return void console.warn("Wrong type: "+e);if("pathname"===e)return"pathname";if("url"===e)return"url";if("title"===e)return"title";if("og:title"===e)return"og:title";if("issue-term"===e)return t;else if("issue-number"===e)return n},h=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function n(e){var t,s;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return(t=(s=a(n).call(this,e))&&("object"===i(s)||"function"==typeof s)?s:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).myRef=r.default.createRef(),t.state={pending:!0},t}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&o(n,e),t=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.repo,r=t.type,s=t.specificTerm,i=t.issueNumber,a=0>l.indexOf(r)?void console.warn("Wrong type: "+r):"issue-number"===r?"issue-number":"issue-term",o=c(r,s,i);if("issue-term"===r&&!o)return void console.warn("When type is '".concat(r,"', 'specificTerm' prop must be provided"));if("issue-number"===r&&(isNaN(o)||o<1))return void console.warn("When type is '".concat(r,"', valid 'issueNumber' prop must be provided"));var h=document.createElement("script");h.src="https://utteranc.es/client.js",h.async=!0,h.setAttribute("repo",n),h.setAttribute("crossorigin","anonymous"),h.setAttribute(a,o),h.onload=function(){return e.setState({pending:!1})},this.myRef.current.appendChild(h)}},{key:"render",value:function(){return r.default.createElement("div",{className:"react-utterences",ref:this.myRef},this.props.debug&&r.default.createElement("pre",{style:{background:"#cccccc",padding:10}},"\nthis.props: ".concat(JSON.stringify(this.props,null,2),'\nlocation.pathname: "').concat(window.location.pathname,'"\nlocation.href: "').concat(window.location.href,'"\n          ').trim()),this.props.debug&&r.default.createElement("div",null,"\uD83D\uDC47\uD83D\uDC47If the settings are valid, the comment widget appear below\uD83D\uDC47\uD83D\uDC47"),this.state.pending&&r.default.createElement("div",null,"Loading script..."))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,t),n}(r.Component);t.identifierTypes={pathname:{attrValue:"",summary:"Issue title contains page pathname"},url:{attrValue:"url",summary:"Issue title contains page URL"},title:{attrValue:"title",summary:"Issue title contains page title"},"og:title":{attrValue:"og:title",summary:"Issue title contains page og:title"},"issue-number":{attrValue:-1,summary:"Specific issue number"},"issue-term":{attrValue:"",summary:"Issue title contains specific term"}},h.propTypes={type:s.default.string.isRequired,repo:s.default.string.isRequired,specificTerm:s.default.string,issueNumber:s.default.number,hashKey:s.default.string,debug:s.default.bool},t.default=h},60158:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,j:()=>a});var r=n(18153),s=n(14232);let i=s.createContext({});function a(e){let{staticProps:t,children:n}=e;return(0,r.Y)(i.Provider,{value:t,children:n})}function o(){return s.useContext(i)}},62564:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p,meta:()=>c});var r=n(37876),s=n(91668),i=n(91013);let a={src:"/_next/static/media/hf.7d5ac7d5.svg"},o={src:"/_next/static/media/prompts.fefe5802.svg"},l={src:"/_next/static/media/indexing.f41e9ca0.svg"},c={title:"LangchainJS 리뷰 #1",description:"최근 뉴스에 자주 등장하는 langchain의 Model, Prompt, Indexing 대해 살펴 봅니다.",date:"2023-07-02",readTime:2},h=e=>{let{children:t}=e;return(0,r.jsx)(i.A,{meta:c,children:t})};function d(e){let t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{children:"소개"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://news.hada.io/topic?id=9248",children:"LangChain AI 핸드북 | GeekNews"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://betterprogramming.pub/building-your-own-devsecops-knowledge-base-with-openai-langchain-and-llamaindex-b28cda15abb7",children:"Building Your Own DevSecOps Knowledge Base with OpenAI, LangChain, and LlamaIndex | by Wenqi Glantz | May, 2023 | Better Programming"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://ashukumar27.medium.com/dolly2-and-langchain-a-game-changer-for-text-data-analytics-7518d48d0ad7",children:"Dolly2 and LangChain: A Game Changer for Data Analytics | by Ashutosh Kumar | Apr, 2023 | Medium"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://flowiseai.com/?ref=stackshare",children:"FlowiseAI - Build LLMs Apps Easily"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://www.youtube.com/watch?v=nE2skSRWTTs",children:"Getting Started with GPT-3 vs. Open Source LLMs - LangChain #1 - YouTube"})}),"\n",(0,r.jsx)(t.p,{children:"4개의 주요 컴포넌트"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Prompt templates: LLM의 미션과 질의/응답의 형태를 정의"}),"\n",(0,r.jsx)(t.li,{children:"LLMs: GPT-3, BLOOM 등"}),"\n",(0,r.jsx)(t.li,{children:"Agent: 웹 검색, 계산기 등"}),"\n",(0,r.jsx)(t.li,{children:"Memory: short-term, long-term 저장소"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://www.youtube.com/watch?v=RflBcK0oDH0&t=7s",children:"Prompt Templates for GPT 3.5 and other LLMs - LangChain #2 - YouTube"})}),"\n",(0,r.jsx)(t.p,{children:"Prompt template 기능을 사용하여 일반적인 질문, few shot running 등을 손쉽게할 수 있습니다."}),"\n",(0,r.jsx)(t.h1,{children:"LLMs"}),"\n",(0,r.jsx)(t.p,{children:"일단 langchain으로 활용할 수 있는 LLM이 궁금할 것 입니다. 다음의 위치에서 지원하는 LLM들의 구현체를 확인할 수 있습니다."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://github.com/hwchase17/langchainjs/tree/main/langchain/src/llms",children:"langchainjs/langchain/src/llms at main \xb7 hwchase17/langchainjs \xb7 GitHub"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://www.ai21.com/",children:"AI21 Labs"}),": 이스라엘계 AI 회사"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://www.aleph-alpha.com/",children:"ALEPH ALPHA"}),": 독일계 AI 회사"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://cohere.com/",children:"Cohere | Building the Future of AI"}),": 캐나다 AI 회사,","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://www.npmjs.com/package/cohere-ai",children:"cohere-ai - npm"})," 라이브러리도 있음"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://cloud.google.com/vertex-ai",children:"Vertex AI \xa0|\xa0 Google Cloud"}),"^"]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://huggingface.co/",children:"Hugging Face – The AI community building the future."})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://cohere.com/",children:"Cohere | Building the Future of AI"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://platform.openai.com/docs/api-reference/chat/create",children:"OpenAI API"})}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://www.npmjs.com/package/replicate",children:"replicate - npm"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://replicate.com/",children:"Replicate –\xa0Run open-source machine learning models with a cloud API"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://aws.amazon.com/ko/sagemaker/",children:"Sagemaker"})}),"\n"]}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://www.npmjs.com/package/@huggingface/inference",children:"@huggingface/inference - npm"})}),"\n"]}),"\n",(0,r.jsx)("img",{src:a.src}),"\n",(0,r.jsx)(t.p,{children:"Huggingface의 경우 huggingface inference API를 사용하여 응답을 주고 받습니다."}),"\n",(0,r.jsx)(t.h1,{children:"Prompts"}),"\n",(0,r.jsx)(t.h2,{children:"Prompt templates"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://js.langchain.com/docs/modules/prompts/prompt_templates/",children:"Prompt Templates | \uD83E\uDD9C️\uD83D\uDD17 Langchain"})}),"\n"]}),"\n",(0,r.jsx)("img",{src:o.src}),"\n",(0,r.jsx)(t.p,{children:"이해할 수 없을 정도로 다소 복잡한 구조를 가지고 있습니다."}),"\n",(0,r.jsxs)(t.p,{children:["근본적으로는 ",(0,r.jsx)(t.code,{children:"string"})," 형태를 반환하는 template 유틸리티 함수들 입니다."]}),"\n",(0,r.jsx)(t.p,{children:"Chat 요소를 담아내기 위해 chat 형식(사람, 시스템, AI 인지 등을 구분), chat 이름등의 정보를 담을 수 있습니다."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"PipelinePromptTemplate"}),"을 사용하여 템플릿을 조합할 수 있습니다."]}),"\n",(0,r.jsxs)(t.p,{children:["결국 ",(0,r.jsx)(t.code,{children:"string"})," 형태의 출력물을 얻게되는데요. 다소 over engineering이 아닌가 생각합니다.\n아무래도 python과 호환을 위해 기계적으로 대응하는 클래스를 구현한 듯 한데요.\nJavaScript 에서는 string template이 있기 때문에 상대적으로 한눈에 이해하기 어려운 구조를 가지고 있습니다."]}),"\n",(0,r.jsx)(t.p,{children:"물론 template을 serialize 해서 이 기종간에 혹은 타 언어간에 전달하여 활용할 수도 있겠습니다.\n하지만, 당장 저에겐 그로인한 장점이 보이지는 않습니다.\n오히려 propmt template을 정의하는 선언적 DSL을 만드는 것이 요즘 추세에 적합해 보입니다."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"format"})," 함수는 ",(0,r.jsx)(t.code,{children:"string"}),"을 반환하고 ",(0,r.jsx)(t.code,{children:"formatPromptValue"})," 함수는 ",(0,r.jsx)(t.code,{children:"PromptValue"}),"를 반환합니다.\n",(0,r.jsx)(t.code,{children:"PromptValue"}),"는 필요할 때 ",(0,r.jsx)(t.code,{children:"string"}),"이나 ",(0,r.jsx)(t.code,{children:"ChatMessage"})," 형식으로 변환할 수 있습니다."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"partial"})," 함수를 사용해 템플릿의 특정 변수를 치환할 수 있습니다."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"FewShotPromptTemplate"}),"을 활용하여 여러 예시를 학습 정보로 전달하는 few shot learning을 할 수 있습니다."]}),"\n",(0,r.jsx)(t.h2,{children:"Output parser"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://js.langchain.com/docs/modules/prompts/output_parsers/",children:"Output Parsers | \uD83E\uDD9C️\uD83D\uDD17 Langchain"})}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"프롬프트를 사용하여 질문에 대한 답의 형식을 요구할 수 있습니다."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"StructuredOutputParser"}),"는 json 형식으로 답을 요구하는 프롬프트를 생성합니다.\nJSON 형식에 대한 요구사항을 JSON schema로 설명하는 프롬프트를 LLM의 입력으로 전달하면 ",(0,r.jsx)(t.code,{children:"string"}),"으로 된 JSON 응답을 받습니다.\n이 응답을 ",(0,r.jsx)(t.code,{children:"StructuredOutputParser"})," 인스턴스를 사용하여 파싱을 하면 원하는 JSON 객체를 얻을 수 있습니다."]}),"\n",(0,r.jsx)(t.h2,{children:"Example selector"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://js.langchain.com/docs/modules/prompts/example_selectors/",children:"Example Selectors | \uD83E\uDD9C️\uD83D\uDD17 Langchain"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"LengthBasedExampleSelector"}),"는 예제를 포함한 프롬프트 문구의 길이를 제한하는 기능을 가지고 있습니다.\n많은 예시를 입력하더라도 설정한 길이를 넘지 않도록 프롬프트를 생성합니다."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"SemanticSimilarityExampleSelector"}),"는 ",(0,r.jsx)(t.code,{children:"Embeddings"})," 인스턴스를 전달하여 예제와 ",(0,r.jsx)(t.code,{children:"inputVariables"}),"의 입력값과 유사한 예시를 선택하여 프롬프트를 생성합니다.\n이 과정에서 embedding API 호출로 인한 과금이 발생할 수 있습니다."]}),"\n",(0,r.jsx)(t.h1,{children:"Indexes"}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://js.langchain.com/docs/modules/indexes/document_loaders/",children:"Document Loaders"})}),"\n",(0,r.jsx)(t.p,{children:"Node.js 환경에서 CSV, Docx, Epub, JSON, PDF 등의 파일을 읽어올 수 있습니다."}),"\n",(0,r.jsx)(t.p,{children:"또한, Cheerio, Puppeteer, Playwright를 활용한 web page 클롤링, Gitbook, Github repo, S3 파일과 같이 리모트에 존재하는 문서를 읽어올 수 있습니다."}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://js.langchain.com/docs/modules/indexes/text_splitters/",children:"Text splitters"})}),"\n",(0,r.jsx)(t.p,{children:"읽어온 문서를 적절히 LLM의 최대 문서 전송 크그에 맞추어 나누어주는 기능을 제공합니다."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"RecursiveCharacterTextSplitter"}),"는 텍스트 문서를 나눕니다.\n",(0,r.jsx)(t.code,{children:"RecursiveCharacterTextSplitter.fromLanguage"})," 함수는 특정 언어의 코드를 나누는 역할을 합니다.\n",(0,r.jsx)(t.code,{children:"TokenTextSplitter"}),"는 텍스트를 BPE로 변환한 뒤 문서를 나눕니다."]}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://ratsgo.github.io/nlpbook/docs/preprocess/bpe/",children:"Byte Pair Encoding - ratsgo's NLPBOOK"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"chunkHeaderOptions"}),"은 여러 문서에서 정보를 가져올 때, 어떤 문서인지 구분하는데 유용합니다."]}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://js.langchain.com/docs/modules/indexes/vector_stores/",children:"Vector stores"})}),"\n",(0,r.jsx)(t.p,{children:"embedding 후의 벡터 정보를 저장하는 기능 입니다."}),"\n",(0,r.jsxs)(t.p,{children:["Node.js 만으로 사용하고 싶다면, HNSWLib, Faiss, LanceDB를 사용합니다.\n브라우저와 같은 환경에서 활용가능한 메모리 기반의 저장소는 ",(0,r.jsx)(t.code,{children:"MemoryVectorStore"}),"를 사용합니다.\n다양한 기능을 가지는 오픈소스 Chroma는 도커를 활용해 연동할 수 있습니다.\nWeaviate는 오픈소스 또는 호스팅 서비스로 사용할 수 있습니다.\n그 밖에 Supabase, Pinecone, SingleStore를 사용할 수 있습니다."]}),"\n",(0,r.jsx)(t.h2,{children:(0,r.jsx)(t.a,{href:"https://js.langchain.com/docs/modules/indexes/retrievers/",children:"Retrievers"})}),"\n",(0,r.jsx)("img",{src:l.src}),"\n",(0,r.jsx)(t.p,{children:"문서의 정보를 바탕으로 구축한 vector store에 대하여 질의하기 위한 기능입니다."}),"\n",(0,r.jsx)(t.p,{children:"Vector store는 고유한 쿼리 언어를 사용해 질의를 해야 합니다."}),"\n",(0,r.jsx)(t.p,{children:"Retriever는 자연어로 부터 vector store가 이해할 수 있는 정형화한 질의 구문을 생성하는 프롬프트를 LLM에 전달하고 그 응답을 파싱하는 역할을 합니다."}),"\n",(0,r.jsx)(t.p,{children:"이를 위해 다음과 같은 프롬프트를 주입합니다."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:'export const DEFAULT_SCHEMA = `\\\n<< Structured Request Schema >>\nWhen responding use a markdown code snippet with a JSON object formatted in the \\\nfollowing schema:\n\n\\`\\`\\`json\n{{{{\n    "query": string \\\\ text string to compare to document contents\n    "filter": string \\\\ logical condition statement for filtering documents\n}}}}\n\\`\\`\\`\n\nThe query string should contain only text that is expected to match the contents of \\\ndocuments. Any conditions in the filter should not be mentioned in the query as well.\n\nA logical condition statement is composed of one or more comparison and logical \\\noperation statements.\n\nA comparison statement takes the form: \\`comp(attr, val)\\`:\n- \\`comp\\` ({allowed_comparators}): comparator\n- \\`attr\\` (string):  name of attribute to apply the comparison to\n- \\`val\\` (string): is the comparison value\n\nA logical operation statement takes the form \\`op(statement1, statement2, ...)\\`:\n- \\`op\\` ({allowed_operators}): logical operator\n- \\`statement1\\`, \\`statement2\\`, ... (comparison statements or logical operation \\\nstatements): one or more statements to apply the operation to\n\nMake sure that you only use the comparators and logical operators listed above and \\\nno others.\nMake sure that filters only refer to attributes that exist in the data source.\nMake sure that filters take into account the descriptions of attributes and only make \\\ncomparisons that are feasible given the type of data being stored.\nMake sure that filters are only used as needed. If there are no filters that should be \\\napplied return "NO_FILTER" for the filter value.\\\n`;\n'})}),"\n",(0,r.jsx)(t.h1,{children:"마치며"}),"\n",(0,r.jsx)(t.p,{children:"Langchain JS에 대해서 개괄적인 정보를 모아보고 특정 시나리오를 분석해 보았습니다."}),"\n",(0,r.jsx)(t.p,{children:"가이드 문서에 따라 Model, Prompt, Indexing에 대해서 살펴 보았습니다."}),"\n",(0,r.jsx)(t.p,{children:"다음에는 가이드의 나머지 부분을 차례로 리뷰할 예정입니다."})]})}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.jsx)(h,{...e,children:(0,r.jsx)(d,{...e})})}},79706:(e,t,n)=>{"use strict";var r=n(3717);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,i,a){if(a!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return n.PropTypes=n,n}},85419:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(18153);n(14232);let s=e=>{let{meta:t,isBlogPost:n}=e;return(0,r.FD)(r.FK,{children:[(0,r.Y)("h1",{className:"font-bold text-gray-800 mb-4 ".concat(n?"text-5xl mt-8 mb-8":"text-lg"),children:t.title}),(0,r.FD)("div",{className:"details",children:[(0,r.Y)("p",{className:"text-gray-500",children:t.description}),(0,r.Y)("p",{className:"text-gray-400 text-right -mt-1",children:(0,r.Y)("span",{className:"mr-4",children:t.date})})]})]})}},86089:(e,t,n)=>{"use strict";Object.defineProperty(t,"Ay",{enumerable:!0,get:function(){return r.default}});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}}return t.default=e,t}(n(56486))},91013:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(18153),s=n(73146),i=n.n(s),a=n(14232),o=n(86089),l=n(60158),c=n(85419),h=n(49034);function d(e){let{children:t,meta:n,staticProps:s}=e;return a.useEffect(()=>{i().highlightAll()},[]),(0,r.Y)(r.FK,{children:(0,r.FD)(h.A,{title:n.title,children:[(0,r.Y)(c.A,{meta:n,isBlogPost:!0}),(0,r.Y)(l.j,{staticProps:s,children:(0,r.Y)("article",{className:"markdown",children:t})}),(0,r.Y)(o.Ay,{repo:"swcho/blog-comments",type:"pathname",label:"utterances",theme:"github-light"})]})})}},95062:(e,t,n)=>{e.exports=n(79706)()}},e=>{e.O(0,[5695,636,6593,8792],()=>e(e.s=7464)),_N_E=e.O()}]);
//# sourceMappingURL=2023-06-18-langchainjs-part-1-5e546ccd41969323.js.map