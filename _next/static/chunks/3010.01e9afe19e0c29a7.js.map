{"version":3,"file":"static/chunks/3010.01e9afe19e0c29a7.js","mappings":"uKAUO,cACP,eAEA,WAEA,eAEA,eAEA,UAEA,UAEA,OACA,OAZA,eAaA,OAXA,eAYA,WAVA,eAWA,WATA,eAUA,MARA,eASA,MAPA,cAQA,CACA,CACO,cACP,eACA,WACA,eACA,eACA,UACA,UACA,UACA,OACA,WACA,WACA,0BACA,uBACA,aACA,YACA,CACA,CACO,gBACP,UACA,MACA,OACA,oCACA,oCAEA,CACO,gBACP,UACA,MACA,eACA,IACA,GACA,CAAG,CACH,CAWO,gBACP,UACA,aACA,YACA,CAAG,CACH,CACO,gBACP,OACA,yCACA,yCACA,mEACA,mEACA,wCACA,wCAEA,CACO,aACP,0CAA0E,IAAa,IACvF,kBAEA,iBACA,OACA,4EACA,QACA,iBACA,EACA,mBACA,SAEA,WACA,OACA,aACA,SACA,oCAEA,CACA,CC9GA,aAA0S,OAApR,iDAAsE,YAAgB,mBAAsB,KAAO,mBAA2B,eAA0B,4CAAyD,WAAiC,WAAkB,sBAM1S,OACA,SACA,SACA,aACA,aACA,QACA,OACA,EACA,cACA,mBACA,WACA,UACA,EAAI,CACJ,UACA,SACA,CACA,EACA,cACA,IACA,EADA,SACA,GAEA,EADA,aACA,GACA,OACA,oBACA,mBACA,CACA,EACA,cACA,kBACA,iBACA,cACA,mBACA,cACA,iBACA,cACA,mBACA,2BACA,iBACA,eACA,iBACA,eACA,iBACA,UACA,WACA,cACA,aACA,EAAqB,YAAM,OAC3B,EAAuB,YAAM,IAC7B,EAAkB,cAAQ,IAC1B,OACA,OACA,EAAmB,cAAQ,KAC3B,OACA,OACA,EAAmB,cAAQ,SAC3B,OACA,OACA,EAAmB,cAAQ,SAC3B,OACA,OACA,EAAyB,iBAAW,eACpC,mBACA,eACA,WAEA,kBACA,EAFA,QAEA,EACA,EAEA,CACA,CAAG,cACH,EAA2B,iBAAW,aACtC,cACA,aAEA,OADA,YACA,CACA,CAAK,CACL,CAAG,MACH,EAAqB,iBAAW,aAGhC,OAAW,EAAkB,GAC7B,EAHA,IAIA,EAHA,IAIK,CAHwB,CAI1B,MACH,EAA4B,iBAAW,aAGvC,OAAW,EAAyB,GACpC,EAHA,IAIA,EAHA,IAIK,CACL,CAAG,MAJiC,EAKtB,iBAAW,YACzB,IACA,CAAG,QACH,EAAc,iBAAW,aACzB,IDxCO,EAIP,ECoCA,WACA,WACA,UACA,OACA,MACA,MACA,KACA,EAEA,EAAoB,EAAyB,aAG7C,GADA,EADqB,EAAe,GADS,MACT,CAAyB,EAAe,CAAxC,CAAwC,QDjD5E,GCiD4E,EDjD5E,KADO,CCkD4G,KDhDnH,WAEA,KC8CmH,ED7CnH,GACA,OC4CmH,ED3CnH,QACA,CAAG,GC0CkI,EAAe,aAEpJ,GACA,gBACA,eACA,eACA,KACA,GACA,aACA,YACA,CAAO,CACP,CACA,CAAG,YACH,EAAkB,iBAAW,aAI7B,EADqB,EAAe,EAAkB,EAFtD,SAEoC,GAFpC,CAEqE,EADrE,aAGA,CAAG,QACH,EAAqB,iBAAW,aAChC,mBACA,eAKA,EAJA,IAAgC,IAChC,aACA,YACA,CAAK,EAEL,CAAG,QACH,GAAoB,iBAAW,aAG/B,MAAgB,EAAyB,GACzC,EAHA,IAIA,EAHA,IAIK,EACL,GACA,GALyC,QAKzC,IACA,eACK,CACL,CAAG,QACH,GAAe,iBAAW,YAC1B,OAAW,EAAa,EACxB,CAAG,MACH,EAFwB,CAED,iBAAW,YAClC,WACA,eACA,eACA,WACA,WACA,UAEA,uBADA,QACA,+BACA,CAAG,OACH,GAAkB,iBAAW,aAC7B,mBACA,eACA,EAAkB,OAAU,aAC5B,GACA,aACA,YACA,CAAK,EACL,KACA,CAAG,MACH,GAAiB,iBAAW,eAE5B,YACA,IAFA,IAEA,EAAuB,OAAU,IACjC,oBACA,oBACA,gBACA,iEACA,oBACA,iEACA,GACA,aACA,YACA,CAAK,EACL,CAAG,YACH,GAAgB,iBAAW,YAC3B,UACA,UACA,KACA,CAAG,KACH,GAAoB,iBAAW,aAC/B,mBACA,MAAgB,OAAU,YAC1B,OAGA,GACA,OAHA,SAIA,OAHA,SAIA,OACA,CAAK,CACL,CAAG,QACH,GAAoB,iBAAW,aAC/B,eACA,OACA,OAEA,EADA,OAEA,cAEA,IADA,EACA,kDACA,QACA,SACA,GACA,IACA,MACA,MACA,GAEA,WAGA,GACA,OAHA,SAIA,OAHA,SAIA,OACA,MACA,KACA,CACA,CAAO,CACP,CACA,QACA,CAAG,QACH,GAAiB,iBAAW,YAC5B,mBACA,eACA,WACA,WACA,UAEA,uBADA,QACA,+BACA,CAAG,MACH,GAAe,iBAAW,YAC1B,OACA,MACA,KACA,EACA,OACA,GACA,mBACA,mBACK,CACL,CAAG,YACH,GAAc,iBAAW,YACzB,EDrQA,CACA,SACA,OCmQuB,EDlQvB,YCkQqC,CDjQrC,aACA,QACA,OACA,EC+PA,CAAG,YACD,gBAAU,EACZ,wBACA,cACA,iCACA,CAAK,CACL,mBACA,cACA,aACA,WACA,GACA,IACA,MACQ,4BACR,KAEA,CAAK,CACL,aACA,WACA,oBACA,cACA,YACA,YAMA,GAGA,KACA,CACA,CAAG,EACH,SACA,cACA,UACA,CAAK,CACL,MACA,aACA,CACA,CAAG,EAyBmB,eAAmB,CAAC,UAAc,QAxBxD,CACA,yBACA,kBACA,aACA,UACA,SACA,QACA,YACA,eACA,eACA,qBACA,QACA,eACA,eACA,WACA,YACA,aACA,YACA,UACA,kBACA,eACA,sBACA,cACA,GAEA,CACA,aACA,MAAS,UAAU,YACnB,OAAU,UAAU,YACpB,WAAc,QAAQ,CACtB,UAAa,UAAU,CACvB,UAAa,UAAU,CACvB,UAAa,UAAU,CACvB,UAAa,UAAU,CACvB,UAAa,QAAQ,CACrB,SAAY,QAAQ,WACpB,EACA,MAAe,IAAI,+CEtVnB,aAA0S,OAApR,iDAAsE,YAAgB,mBAAsB,KAAO,mBAA2B,eAA0B,4CAAyD,WAAiC,WAAkB,sBAE1S,OACA,IACA,GACA,ECFe,gBACf,sBACA,MDCe,YACf,KCFgC,CDEhC,WAAgC,IAChC,GDWA,CCXM,EDWN,UCXkB,WAClB,kCACA,8BACA,+BACM,IAAa,IAEnB,GAAkB,CAAZ,EDUN,UCVkB,IAClB,OACA,YACA,aAKA,8BACA,uEACA,EACA,CACA,gBACA,gBACA,EAJA,IAA6C,GAK7C,ECxBgC,GAGhC,EAAY,GFFZ,CEEwB,aFFxB,gCEEwB,CF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","sources":["webpack://_N_E/./node_modules/@visx/zoom/esm/util/matrix.js","webpack://_N_E/./node_modules/@visx/zoom/esm/Zoom.js","webpack://_N_E/./node_modules/@visx/event/esm/typeGuards.js","webpack://_N_E/./node_modules/@visx/event/esm/getXAndYFromEvent.js","webpack://_N_E/./node_modules/@visx/event/esm/localPointGeneric.js","webpack://_N_E/./node_modules/@visx/event/esm/localPoint.js","webpack://_N_E/./node_modules/@visx/clip-path/esm/clip-paths/ClipPath.js","webpack://_N_E/./node_modules/@visx/clip-path/esm/clip-paths/RectClipPath.js","webpack://_N_E/./pages/blogs/2021-10-31-interaction/Chart.tsx"],"sourcesContent":["export function identityMatrix() {\n  return {\n    scaleX: 1,\n    scaleY: 1,\n    translateX: 0,\n    translateY: 0,\n    skewX: 0,\n    skewY: 0\n  };\n}\nexport function createMatrix(_ref) {\n  var _ref$scaleX = _ref.scaleX,\n    scaleX = _ref$scaleX === void 0 ? 1 : _ref$scaleX,\n    _ref$scaleY = _ref.scaleY,\n    scaleY = _ref$scaleY === void 0 ? 1 : _ref$scaleY,\n    _ref$translateX = _ref.translateX,\n    translateX = _ref$translateX === void 0 ? 0 : _ref$translateX,\n    _ref$translateY = _ref.translateY,\n    translateY = _ref$translateY === void 0 ? 0 : _ref$translateY,\n    _ref$skewX = _ref.skewX,\n    skewX = _ref$skewX === void 0 ? 0 : _ref$skewX,\n    _ref$skewY = _ref.skewY,\n    skewY = _ref$skewY === void 0 ? 0 : _ref$skewY;\n  return {\n    scaleX: scaleX,\n    scaleY: scaleY,\n    translateX: translateX,\n    translateY: translateY,\n    skewX: skewX,\n    skewY: skewY\n  };\n}\nexport function inverseMatrix(_ref2) {\n  var scaleX = _ref2.scaleX,\n    scaleY = _ref2.scaleY,\n    translateX = _ref2.translateX,\n    translateY = _ref2.translateY,\n    skewX = _ref2.skewX,\n    skewY = _ref2.skewY;\n  var denominator = scaleX * scaleY - skewY * skewX;\n  return {\n    scaleX: scaleY / denominator,\n    scaleY: scaleX / denominator,\n    translateX: (scaleY * translateX - skewX * translateY) / -denominator,\n    translateY: (skewY * translateX - scaleX * translateY) / denominator,\n    skewX: skewX / -denominator,\n    skewY: skewY / -denominator\n  };\n}\nexport function applyMatrixToPoint(matrix, _ref3) {\n  var x = _ref3.x,\n    y = _ref3.y;\n  return {\n    x: matrix.scaleX * x + matrix.skewX * y + matrix.translateX,\n    y: matrix.skewY * x + matrix.scaleY * y + matrix.translateY\n  };\n}\nexport function applyInverseMatrixToPoint(matrix, _ref4) {\n  var x = _ref4.x,\n    y = _ref4.y;\n  return applyMatrixToPoint(inverseMatrix(matrix), {\n    x: x,\n    y: y\n  });\n}\nexport function scaleMatrix(scaleX, maybeScaleY) {\n  if (maybeScaleY === void 0) {\n    maybeScaleY = undefined;\n  }\n  var scaleY = maybeScaleY || scaleX;\n  return createMatrix({\n    scaleX: scaleX,\n    scaleY: scaleY\n  });\n}\nexport function translateMatrix(translateX, translateY) {\n  return createMatrix({\n    translateX: translateX,\n    translateY: translateY\n  });\n}\nexport function multiplyMatrices(matrix1, matrix2) {\n  return {\n    scaleX: matrix1.scaleX * matrix2.scaleX + matrix1.skewX * matrix2.skewY,\n    scaleY: matrix1.skewY * matrix2.skewX + matrix1.scaleY * matrix2.scaleY,\n    translateX: matrix1.scaleX * matrix2.translateX + matrix1.skewX * matrix2.translateY + matrix1.translateX,\n    translateY: matrix1.skewY * matrix2.translateX + matrix1.scaleY * matrix2.translateY + matrix1.translateY,\n    skewX: matrix1.scaleX * matrix2.skewX + matrix1.skewX * matrix2.scaleY,\n    skewY: matrix1.skewY * matrix2.scaleX + matrix1.scaleY * matrix2.skewY\n  };\n}\nexport function composeMatrices() {\n  for (var _len = arguments.length, matrices = new Array(_len), _key = 0; _key < _len; _key++) {\n    matrices[_key] = arguments[_key];\n  }\n  switch (matrices.length) {\n    case 0:\n      throw new Error('composeMatrices() requires arguments: was called with no args');\n    case 1:\n      return matrices[0];\n    case 2:\n      return multiplyMatrices(matrices[0], matrices[1]);\n    default:\n      {\n        var matrix1 = matrices[0],\n          matrix2 = matrices[1],\n          restMatrices = matrices.slice(2);\n        var matrix = multiplyMatrices(matrix1, matrix2);\n        return composeMatrices.apply(void 0, [matrix].concat(restMatrices));\n      }\n  }\n}","import _pt from \"prop-types\";\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React, { useState, useRef, useCallback } from 'react';\nimport { localPoint } from '@visx/event';\nimport { useGesture } from '@use-gesture/react';\nimport { composeMatrices, inverseMatrix, applyMatrixToPoint, applyInverseMatrixToPoint, translateMatrix, identityMatrix, scaleMatrix } from './util/matrix';\n// default prop values\nvar defaultInitialTransformMatrix = {\n  scaleX: 1,\n  scaleY: 1,\n  translateX: 0,\n  translateY: 0,\n  skewX: 0,\n  skewY: 0\n};\nvar defaultWheelDelta = function defaultWheelDelta(event) {\n  return -event.deltaY > 0 ? {\n    scaleX: 1.1,\n    scaleY: 1.1\n  } : {\n    scaleX: 0.9,\n    scaleY: 0.9\n  };\n};\nvar defaultPinchDelta = function defaultPinchDelta(_ref) {\n  var _ref$offset = _ref.offset,\n    s = _ref$offset[0],\n    _ref$lastOffset = _ref.lastOffset,\n    lastS = _ref$lastOffset[0];\n  return {\n    scaleX: s - lastS < 0 ? 0.9 : 1.1,\n    scaleY: s - lastS < 0 ? 0.9 : 1.1\n  };\n};\nfunction Zoom(_ref2) {\n  var _ref2$scaleXMin = _ref2.scaleXMin,\n    scaleXMin = _ref2$scaleXMin === void 0 ? 0 : _ref2$scaleXMin,\n    _ref2$scaleXMax = _ref2.scaleXMax,\n    scaleXMax = _ref2$scaleXMax === void 0 ? Infinity : _ref2$scaleXMax,\n    _ref2$scaleYMin = _ref2.scaleYMin,\n    scaleYMin = _ref2$scaleYMin === void 0 ? 0 : _ref2$scaleYMin,\n    _ref2$scaleYMax = _ref2.scaleYMax,\n    scaleYMax = _ref2$scaleYMax === void 0 ? Infinity : _ref2$scaleYMax,\n    _ref2$initialTransfor = _ref2.initialTransformMatrix,\n    initialTransformMatrix = _ref2$initialTransfor === void 0 ? defaultInitialTransformMatrix : _ref2$initialTransfor,\n    _ref2$wheelDelta = _ref2.wheelDelta,\n    wheelDelta = _ref2$wheelDelta === void 0 ? defaultWheelDelta : _ref2$wheelDelta,\n    _ref2$pinchDelta = _ref2.pinchDelta,\n    pinchDelta = _ref2$pinchDelta === void 0 ? defaultPinchDelta : _ref2$pinchDelta,\n    width = _ref2.width,\n    height = _ref2.height,\n    constrain = _ref2.constrain,\n    children = _ref2.children;\n  var containerRef = useRef(null);\n  var matrixStateRef = useRef(initialTransformMatrix);\n  var _useState = useState(initialTransformMatrix),\n    transformMatrix = _useState[0],\n    setTransformMatrixState = _useState[1];\n  var _useState2 = useState(false),\n    isDragging = _useState2[0],\n    setIsDragging = _useState2[1];\n  var _useState3 = useState(undefined),\n    startTranslate = _useState3[0],\n    setStartTranslate = _useState3[1];\n  var _useState4 = useState(undefined),\n    startPoint = _useState4[0],\n    setStartPoint = _useState4[1];\n  var defaultConstrain = useCallback(function (newTransformMatrix, prevTransformMatrix) {\n    if (constrain) return constrain(newTransformMatrix, prevTransformMatrix);\n    var scaleX = newTransformMatrix.scaleX,\n      scaleY = newTransformMatrix.scaleY;\n    var shouldConstrainScaleX = scaleX > scaleXMax || scaleX < scaleXMin;\n    var shouldConstrainScaleY = scaleY > scaleYMax || scaleY < scaleYMin;\n    if (shouldConstrainScaleX || shouldConstrainScaleY) {\n      return prevTransformMatrix;\n    }\n    return newTransformMatrix;\n  }, [constrain, scaleXMin, scaleXMax, scaleYMin, scaleYMax]);\n  var setTransformMatrix = useCallback(function (newTransformMatrix) {\n    setTransformMatrixState(function (prevTransformMatrix) {\n      var updatedTransformMatrix = defaultConstrain(newTransformMatrix, prevTransformMatrix);\n      matrixStateRef.current = updatedTransformMatrix;\n      return updatedTransformMatrix;\n    });\n  }, [defaultConstrain]);\n  var applyToPoint = useCallback(function (_ref3) {\n    var x = _ref3.x,\n      y = _ref3.y;\n    return applyMatrixToPoint(transformMatrix, {\n      x: x,\n      y: y\n    });\n  }, [transformMatrix]);\n  var applyInverseToPoint = useCallback(function (_ref4) {\n    var x = _ref4.x,\n      y = _ref4.y;\n    return applyInverseMatrixToPoint(transformMatrix, {\n      x: x,\n      y: y\n    });\n  }, [transformMatrix]);\n  var reset = useCallback(function () {\n    setTransformMatrix(initialTransformMatrix);\n  }, [initialTransformMatrix, setTransformMatrix]);\n  var scale = useCallback(function (_ref5) {\n    var scaleX = _ref5.scaleX,\n      maybeScaleY = _ref5.scaleY,\n      point = _ref5.point;\n    var scaleY = maybeScaleY || scaleX;\n    var cleanPoint = point || {\n      x: width / 2,\n      y: height / 2\n    };\n    // need to use ref value instead of state here because wheel listener does not have access to latest state\n    var translate = applyInverseMatrixToPoint(matrixStateRef.current, cleanPoint);\n    var nextMatrix = composeMatrices(matrixStateRef.current, translateMatrix(translate.x, translate.y), scaleMatrix(scaleX, scaleY), translateMatrix(-translate.x, -translate.y));\n    setTransformMatrix(nextMatrix);\n    if (isDragging) {\n      var _matrixStateRef$curre = matrixStateRef.current,\n        translateX = _matrixStateRef$curre.translateX,\n        translateY = _matrixStateRef$curre.translateY;\n      setStartPoint(point);\n      setStartTranslate({\n        translateX: translateX,\n        translateY: translateY\n      });\n    }\n  }, [height, width, isDragging, setTransformMatrix]);\n  var translate = useCallback(function (_ref6) {\n    var translateX = _ref6.translateX,\n      translateY = _ref6.translateY;\n    var nextMatrix = composeMatrices(transformMatrix, translateMatrix(translateX, translateY));\n    setTransformMatrix(nextMatrix);\n  }, [setTransformMatrix, transformMatrix]);\n  var setTranslate = useCallback(function (_ref7) {\n    var translateX = _ref7.translateX,\n      translateY = _ref7.translateY;\n    var nextMatrix = _extends({}, transformMatrix, {\n      translateX: translateX,\n      translateY: translateY\n    });\n    setTransformMatrix(nextMatrix);\n  }, [setTransformMatrix, transformMatrix]);\n  var translateTo = useCallback(function (_ref8) {\n    var x = _ref8.x,\n      y = _ref8.y;\n    var point = applyInverseMatrixToPoint(transformMatrix, {\n      x: x,\n      y: y\n    });\n    setTranslate({\n      translateX: point.x,\n      translateY: point.y\n    });\n  }, [setTranslate, transformMatrix]);\n  var invert = useCallback(function () {\n    return inverseMatrix(transformMatrix);\n  }, [transformMatrix]);\n  var toStringInvert = useCallback(function () {\n    var _invert = invert(),\n      translateX = _invert.translateX,\n      translateY = _invert.translateY,\n      scaleX = _invert.scaleX,\n      scaleY = _invert.scaleY,\n      skewX = _invert.skewX,\n      skewY = _invert.skewY;\n    return \"matrix(\" + scaleX + \", \" + skewY + \", \" + skewX + \", \" + scaleY + \", \" + translateX + \", \" + translateY + \")\";\n  }, [invert]);\n  var dragStart = useCallback(function (event) {\n    var translateX = transformMatrix.translateX,\n      translateY = transformMatrix.translateY;\n    setStartPoint(localPoint(event) || undefined);\n    setStartTranslate({\n      translateX: translateX,\n      translateY: translateY\n    });\n    setIsDragging(true);\n  }, [transformMatrix]);\n  var dragMove = useCallback(function (event, options) {\n    var _options$offsetX, _options$offsetY;\n    if (!isDragging || !startPoint || !startTranslate) return;\n    var currentPoint = localPoint(event);\n    var dx = currentPoint ? -(startPoint.x - currentPoint.x) : -startPoint.x;\n    var dy = currentPoint ? -(startPoint.y - currentPoint.y) : -startPoint.y;\n    var translateX = startTranslate.translateX + dx;\n    if (options != null && options.offsetX) translateX += (_options$offsetX = options == null ? void 0 : options.offsetX) != null ? _options$offsetX : 0;\n    var translateY = startTranslate.translateY + dy;\n    if (options != null && options.offsetY) translateY += (_options$offsetY = options == null ? void 0 : options.offsetY) != null ? _options$offsetY : 0;\n    setTranslate({\n      translateX: translateX,\n      translateY: translateY\n    });\n  }, [isDragging, setTranslate, startPoint, startTranslate]);\n  var dragEnd = useCallback(function () {\n    setStartPoint(undefined);\n    setStartTranslate(undefined);\n    setIsDragging(false);\n  }, []);\n  var handleWheel = useCallback(function (event) {\n    event.preventDefault();\n    var point = localPoint(event) || undefined;\n    var _ref9 = wheelDelta(event),\n      scaleX = _ref9.scaleX,\n      scaleY = _ref9.scaleY;\n    scale({\n      scaleX: scaleX,\n      scaleY: scaleY,\n      point: point\n    });\n  }, [scale, wheelDelta]);\n  var handlePinch = useCallback(function (state) {\n    var _state$origin = state.origin,\n      ox = _state$origin[0],\n      oy = _state$origin[1],\n      memo = state.memo;\n    var currentMemo = memo;\n    if (containerRef.current) {\n      var _currentMemo;\n      var _ref10 = (_currentMemo = currentMemo) != null ? _currentMemo : containerRef.current.getBoundingClientRect(),\n        top = _ref10.top,\n        left = _ref10.left;\n      if (!currentMemo) {\n        currentMemo = {\n          top: top,\n          left: left\n        };\n      }\n      var _pinchDelta = pinchDelta(state),\n        scaleX = _pinchDelta.scaleX,\n        scaleY = _pinchDelta.scaleY;\n      scale({\n        scaleX: scaleX,\n        scaleY: scaleY,\n        point: {\n          x: ox - left,\n          y: oy - top\n        }\n      });\n    }\n    return currentMemo;\n  }, [scale, pinchDelta]);\n  var toString = useCallback(function () {\n    var translateX = transformMatrix.translateX,\n      translateY = transformMatrix.translateY,\n      scaleX = transformMatrix.scaleX,\n      scaleY = transformMatrix.scaleY,\n      skewX = transformMatrix.skewX,\n      skewY = transformMatrix.skewY;\n    return \"matrix(\" + scaleX + \", \" + skewY + \", \" + skewX + \", \" + scaleY + \", \" + translateX + \", \" + translateY + \")\";\n  }, [transformMatrix]);\n  var center = useCallback(function () {\n    var centerPoint = {\n      x: width / 2,\n      y: height / 2\n    };\n    var inverseCentroid = applyInverseToPoint(centerPoint);\n    translate({\n      translateX: inverseCentroid.x - centerPoint.x,\n      translateY: inverseCentroid.y - centerPoint.y\n    });\n  }, [height, width, applyInverseToPoint, translate]);\n  var clear = useCallback(function () {\n    setTransformMatrix(identityMatrix());\n  }, [setTransformMatrix]);\n  useGesture({\n    onDragStart: function onDragStart(_ref11) {\n      var event = _ref11.event;\n      if (!(event instanceof KeyboardEvent)) dragStart(event);\n    },\n    onDrag: function onDrag(_ref12) {\n      var event = _ref12.event,\n        pinching = _ref12.pinching,\n        cancel = _ref12.cancel;\n      if (pinching) {\n        cancel();\n        dragEnd();\n      } else if (!(event instanceof KeyboardEvent)) {\n        dragMove(event);\n      }\n    },\n    onDragEnd: dragEnd,\n    onPinch: handlePinch,\n    onWheel: function onWheel(_ref13) {\n      var event = _ref13.event,\n        active = _ref13.active,\n        pinching = _ref13.pinching;\n      if (\n      // Outside of Safari, the wheel event is fired together with the pinch event\n      pinching ||\n      // currently onWheelEnd emits one final wheel event which causes 2x scale\n      // updates for the last tick. ensuring that the gesture is active avoids this\n      !active) {\n        return;\n      }\n      handleWheel(event);\n    }\n  }, {\n    target: containerRef,\n    eventOptions: {\n      passive: false\n    },\n    drag: {\n      filterTaps: true\n    }\n  });\n  var zoom = {\n    initialTransformMatrix: initialTransformMatrix,\n    transformMatrix: transformMatrix,\n    isDragging: isDragging,\n    center: center,\n    clear: clear,\n    scale: scale,\n    translate: translate,\n    translateTo: translateTo,\n    setTranslate: setTranslate,\n    setTransformMatrix: setTransformMatrix,\n    reset: reset,\n    handleWheel: handleWheel,\n    handlePinch: handlePinch,\n    dragEnd: dragEnd,\n    dragMove: dragMove,\n    dragStart: dragStart,\n    toString: toString,\n    invert: invert,\n    toStringInvert: toStringInvert,\n    applyToPoint: applyToPoint,\n    applyInverseToPoint: applyInverseToPoint,\n    containerRef: containerRef\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children(zoom));\n}\nZoom.propTypes = {\n  width: _pt.number.isRequired,\n  height: _pt.number.isRequired,\n  wheelDelta: _pt.func,\n  scaleXMin: _pt.number,\n  scaleXMax: _pt.number,\n  scaleYMin: _pt.number,\n  scaleYMax: _pt.number,\n  constrain: _pt.func,\n  children: _pt.func.isRequired\n};\nexport default Zoom;","export function isElement(elem) {\n  return !!elem && elem instanceof Element;\n}\n\n// functional definition of isSVGElement. Note that SVGSVGElements are HTMLElements\nexport function isSVGElement(elem) {\n  return !!elem && (elem instanceof SVGElement || 'ownerSVGElement' in elem);\n}\n\n// functional definition of SVGGElement\nexport function isSVGSVGElement(elem) {\n  return !!elem && 'createSVGPoint' in elem;\n}\nexport function isSVGGraphicsElement(elem) {\n  return !!elem && 'getScreenCTM' in elem;\n}\n\n// functional definition of TouchEvent\nexport function isTouchEvent(event) {\n  return !!event && 'changedTouches' in event;\n}\n\n// functional definition of MouseEvent\nexport function isMouseEvent(event) {\n  return !!event && 'clientX' in event;\n}\n\n// functional definition of event\nexport function isEvent(event) {\n  return !!event && (event instanceof Event || 'nativeEvent' in event && event.nativeEvent instanceof Event);\n}","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { isMouseEvent, isTouchEvent } from './typeGuards';\nvar DEFAULT_POINT = {\n  x: 0,\n  y: 0\n};\nexport default function getXAndYFromEvent(event) {\n  if (!event) return _extends({}, DEFAULT_POINT);\n  if (isTouchEvent(event)) {\n    return event.changedTouches.length > 0 ? {\n      x: event.changedTouches[0].clientX,\n      y: event.changedTouches[0].clientY\n    } : _extends({}, DEFAULT_POINT);\n  }\n  if (isMouseEvent(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY\n    };\n  }\n\n  // for focus events try to extract the center position of the target element\n  var target = event == null ? void 0 : event.target;\n  var boundingClientRect = target && 'getBoundingClientRect' in target ? target.getBoundingClientRect() : null;\n  if (!boundingClientRect) return _extends({}, DEFAULT_POINT);\n  return {\n    x: boundingClientRect.x + boundingClientRect.width / 2,\n    y: boundingClientRect.y + boundingClientRect.height / 2\n  };\n}","import { Point } from '@visx/point';\nimport { isSVGElement, isSVGGraphicsElement, isSVGSVGElement } from './typeGuards';\nimport getXAndYFromEvent from './getXAndYFromEvent';\nexport default function localPoint(node, event) {\n  if (!node || !event) return null;\n  var coords = getXAndYFromEvent(event);\n\n  // find top-most SVG\n  var svg = isSVGElement(node) ? node.ownerSVGElement : node;\n  var screenCTM = isSVGGraphicsElement(svg) ? svg.getScreenCTM() : null;\n  if (isSVGSVGElement(svg) && screenCTM) {\n    var point = svg.createSVGPoint();\n    point.x = coords.x;\n    point.y = coords.y;\n    point = point.matrixTransform(screenCTM.inverse());\n    return new Point({\n      x: point.x,\n      y: point.y\n    });\n  }\n\n  // fall back to bounding box\n  var rect = node.getBoundingClientRect();\n  return new Point({\n    x: coords.x - rect.left - node.clientLeft,\n    y: coords.y - rect.top - node.clientTop\n  });\n}","import localPointGeneric from './localPointGeneric';\nimport { isElement, isEvent } from './typeGuards';\n\n/** Handles two signatures for backwards compatibility. */\nexport default function localPoint(nodeOrEvent, maybeEvent) {\n  // localPoint(node, event)\n  if (isElement(nodeOrEvent) && maybeEvent) {\n    return localPointGeneric(nodeOrEvent, maybeEvent);\n  }\n  // localPoint(event)\n  if (isEvent(nodeOrEvent)) {\n    var event = nodeOrEvent;\n    var node = event.target;\n    if (node) return localPointGeneric(node, event);\n  }\n  return null;\n}","import _pt from \"prop-types\";\nvar _excluded = [\"id\", \"children\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\n/** Handles rendering of <defs> and <clipPath> elements for you, with any children you want. */\nexport default function ClipPath(_ref) {\n  var id = _ref.id,\n    children = _ref.children,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", _extends({\n    id: id\n  }, restProps), children));\n}\nClipPath.propTypes = {\n  id: _pt.string.isRequired,\n  children: _pt.node\n};","import _pt from \"prop-types\";\nvar _excluded = [\"id\", \"x\", \"y\", \"width\", \"height\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\nimport ClipPath from './ClipPath';\nexport default function RectClipPath(_ref) {\n  var id = _ref.id,\n    _ref$x = _ref.x,\n    x = _ref$x === void 0 ? 0 : _ref$x,\n    _ref$y = _ref.y,\n    y = _ref$y === void 0 ? 0 : _ref$y,\n    _ref$width = _ref.width,\n    width = _ref$width === void 0 ? 1 : _ref$width,\n    _ref$height = _ref.height,\n    height = _ref$height === void 0 ? 1 : _ref$height,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(ClipPath, {\n    id: id\n  }, /*#__PURE__*/React.createElement(\"rect\", _extends({\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  }, restProps)));\n}\nRectClipPath.propTypes = {\n  id: _pt.string.isRequired,\n  x: _pt.oneOfType([_pt.string, _pt.number]),\n  y: _pt.oneOfType([_pt.string, _pt.number]),\n  width: _pt.oneOfType([_pt.string, _pt.number]),\n  height: _pt.oneOfType([_pt.string, _pt.number])\n};","import { animated, useTransition, UseTransitionProps } from '@react-spring/web';\nimport * as React from 'react';\n\nimport { extent } from 'd3-array';\n\nimport { AxisBottom, AxisLeft } from '@visx/axis';\nimport { RectClipPath } from '@visx/clip-path';\nimport { localPoint } from '@visx/event';\nimport { ParentSize } from '@visx/responsive';\nimport { scaleLinear, scaleUtc } from '@visx/scale';\nimport { Zoom } from '@visx/zoom';\n\n// import { TransformMatrix } from '@visx/zoom/lib/types';\nimport { useBlogPostContext } from '../../../components/BlogPostContext';\n\ntype Item = {\n  date: string;\n  close: number;\n  lower: number;\n  middle: number;\n  upper: number;\n};\n\ntype Props = {\n  width: number;\n  height: number;\n  data: Item[];\n};\n\nconst MARGIN = {\n  top: 20,\n  left: 40,\n  right: 20,\n  bottom: 40,\n};\n\n// const INITIAL_TRANSFORM: TransformMatrix = {\n//   scaleX: 1.27,\n//   scaleY: 1.27,\n//   translateX: -211.62,\n//   translateY: 162.59,\n//   skewX: 0,\n//   skewY: 0,\n// };\n\nconst Content = React.memo((props: Props) => {\n  const { width, height, data } = props;\n\n  const scaleX = React.useMemo(\n    () =>\n      scaleUtc({\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        domain: extent(data, (d) => new Date(d.date)) as any,\n        range: [MARGIN.left, width - MARGIN.right],\n      }),\n    [width, data]\n  );\n\n  const scaleY = React.useMemo(\n    () =>\n      scaleLinear({\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        domain: extent(data, (d) => d.close) as any,\n        range: [height - MARGIN.bottom, MARGIN.top],\n        nice: true,\n      }),\n    [height, data]\n  );\n\n  const transitionParams = React.useMemo<UseTransitionProps>(\n    () => ({\n      from: { opacity: 0 },\n      enter: { opacity: 1 },\n      // delay: 200,\n      trail: 1,\n    }),\n    [data]\n  );\n\n  const transition = useTransition(data, transitionParams);\n\n  // eslint-disable-next-line no-console\n  console.log('Content');\n  return (\n    <>\n      <Zoom<SVGSVGElement>\n        width={width}\n        height={height}\n        // scaleXMin={1 / 2}\n        // scaleXMax={4}\n        // scaleYMin={1 / 2}\n        // scaleYMax={4}\n        // initialTransformMatrix={INITIAL_TRANSFORM}\n      >\n        {(zoom) => (\n          <div style={{ position: 'relative' }}>\n            <svg\n              ref={zoom.containerRef}\n              width={width}\n              height={height}\n              style={{\n                cursor: zoom.isDragging ? 'grabbing' : 'grab',\n                touchAction: 'none',\n              }}\n              onDoubleClick={(evt) => {\n                const point = localPoint(evt) || { x: 0, y: 0 };\n                zoom.scale({ scaleX: 2, scaleY: 2, point });\n              }}\n            >\n              <RectClipPath id=\"zoom-clip\" width={width} height={height} />\n              <g transform={zoom.toString()}>\n                <g>\n                  {transition((style, { date, close }) => (\n                    <animated.circle\n                      key={date}\n                      style={style}\n                      cx={scaleX(new Date(date))}\n                      cy={scaleY(close)}\n                      r={1}\n                      fill=\"blue\"\n                    />\n                  ))}\n                </g>\n                <AxisLeft scale={scaleY} left={MARGIN.left} />\n                <AxisBottom scale={scaleX} top={height - MARGIN.bottom} />\n              </g>\n              {/* <rect\n              width={width}\n              height={height}\n              rx={14}\n              fill=\"transparent\"\n              onTouchStart={dragStart}\n              onTouchMove={dragMove}\n              onTouchEnd={dragEnd}\n              onMouseDown={dragStart}\n              onMouseMove={dragMove}\n              onMouseUp={dragEnd}\n              onMouseLeave={() => isDragging && dragEnd()}\n              onDoubleClick={(evt) => {\n                const point = localPoint(evt) || { x: 0, y: 0 };\n                scale({ scaleX: 2, scaleY: 2, point });\n              }}\n            /> */}\n              {/* <g\n              clipPath=\"url(#zoom-clip)\"\n              transform={`\n                    scale(0.25)\n                    translate(${width * 4 - width - 60}, ${\n                height * 4 - height - 60\n              })\n                  `}\n            >\n              <rect width={width} height={height} fill=\"#1a1a1a\" />\n              {data.map(({ date, close }) => (\n                <circle\n                  key={date}\n                  cx={scaleX(new Date(date))}\n                  cy={scaleY(close)}\n                  r={1}\n                  fill=\"white\"\n                />\n              ))}\n              <rect\n                width={width}\n                height={height}\n                fill=\"white\"\n                fillOpacity={0.2}\n                stroke=\"white\"\n                strokeWidth={4}\n                transform={toStringInvert()}\n              />\n            </g> */}\n            </svg>\n          </div>\n        )}\n      </Zoom>\n    </>\n  );\n});\n\nconst Chart = React.memo(() => {\n  const { data } = useBlogPostContext();\n  return (\n    <ParentSize debounceTime={300} enableDebounceLeadingCall={false}>\n      {({ width }) => <Content width={width} height={300} data={data} />}\n    </ParentSize>\n  );\n});\n\nexport default Chart;\n"],"names":["MARGIN","top","left","right","bottom","Content","React","width","height","data","props","scaleX","scaleUtc","domain","extent","Date","d","date","range","scaleY","scaleLinear","close","nice","transitionParams","from","opacity","enter","trail","transition","useTransition","console","log","Zoom","zoom","div","style","position","svg","ref","containerRef","cursor","isDragging","touchAction","onDoubleClick","evt","point","localPoint","x","y","scale","RectClipPath","id","g","transform","toString","animated","circle","cx","cy","r","fill","AxisLeft","AxisBottom","useBlogPostContext","Chart","ParentSize","debounceTime","enableDebounceLeadingCall"],"sourceRoot":"","ignoreList":[0,1,2,3,4,5,6,7]}