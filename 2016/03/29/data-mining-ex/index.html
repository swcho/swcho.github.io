
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>교육 정보 분석, 모아보기 | SwForge&#39;s Note</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="SwForge">
    

    
    <meta name="description" content="RStudio 영문 locale 설정에러가 한국어로 나오다 보니, 두번 검색해야 함… -,.-1$ sudo vi /etc/R/Renviron.site # LANGUAGE=en 추가
일단 데이터 가져오고
123temp = read.table(&quot;2015.edu.elementary.csv&quot;, sep=&apos;,&apos;, header = TRUE)edu.elementary &amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="교육 정보 분석, 모아보기">
<meta property="og:url" content="http://yoursite.com/2016/03/29/data-mining-ex/index.html">
<meta property="og:site_name" content="SwForge's Note">
<meta property="og:description" content="RStudio 영문 locale 설정에러가 한국어로 나오다 보니, 두번 검색해야 함… -,.-1$ sudo vi /etc/R/Renviron.site # LANGUAGE=en 추가
일단 데이터 가져오고
123temp = read.table(&quot;2015.edu.elementary.csv&quot;, sep=&apos;,&apos;, header = TRUE)edu.elementary &amp;">
<meta property="og:updated_time" content="2016-03-29T12:24:06.135Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="교육 정보 분석, 모아보기">
<meta name="twitter:description" content="RStudio 영문 locale 설정에러가 한국어로 나오다 보니, 두번 검색해야 함… -,.-1$ sudo vi /etc/R/Renviron.site # LANGUAGE=en 추가
일단 데이터 가져오고
123temp = read.table(&quot;2015.edu.elementary.csv&quot;, sep=&apos;,&apos;, header = TRUE)edu.elementary &amp;">

    
    <link rel="alternative" href="/atom.xml" title="SwForge&#39;s Note" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="SwForge&#39;s Note" title="SwForge&#39;s Note"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="SwForge&#39;s Note">SwForge&#39;s Note</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/29/data-mining-ex/" title="교육 정보 분석, 모아보기" itemprop="url">교육 정보 분석, 모아보기</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SwForge" target="_blank" itemprop="author">SwForge</a>
		
  <p class="article-time">
    <time datetime="2016-03-29T11:05:18.000Z" itemprop="datePublished"> Published 2016-03-29</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#RStudio__uC601_uBB38_locale__uC124_uC815"><span class="toc-number">1.</span> <span class="toc-text">RStudio 영문 locale 설정</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Aggregate__uC2DC_uB3C4"><span class="toc-number">2.</span> <span class="toc-text">Aggregate 시도</span></a></li></ol>
		
		</div>
		
		<h1 id="RStudio__uC601_uBB38_locale__uC124_uC815"><a href="#RStudio__uC601_uBB38_locale__uC124_uC815" class="headerlink" title="RStudio 영문 locale 설정"></a>RStudio 영문 locale 설정</h1><p>에러가 한국어로 나오다 보니, 두번 검색해야 함… -,.-<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/R/Renviron.site <span class="comment"># LANGUAGE=en 추가</span></span><br></pre></td></tr></table></figure></p>
<p>일단 데이터 가져오고</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">temp = read.table(<span class="string">"2015.edu.elementary.csv"</span>, sep=<span class="string">','</span>, header = <span class="literal">TRUE</span>)</span><br><span class="line">edu.elementary &lt;- unique(temp[complete.cases(temp),])</span><br><span class="line">edu.elementary$Students = as.numeric(edu.elementary$Students)</span><br></pre></td></tr></table></figure>
<h1 id="Aggregate__uC2DC_uB3C4"><a href="#Aggregate__uC2DC_uB3C4" class="headerlink" title="Aggregate 시도"></a>Aggregate 시도</h1><p>지역별로 묶어보자<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; byProvince = aggregate(cbind(Students,Teachers)~Province, data=edu.elementary, FUN=mean)</span><br><span class="line">&gt; head(byProvince)</span><br><span class="line">  Province Students Teachers</span><br><span class="line"><span class="number">1</span>   가평군 <span class="number">865.5625</span> <span class="number">14.50000</span></span><br><span class="line"><span class="number">2</span>   강남구 <span class="number">780.8485</span> <span class="number">47.15152</span></span><br><span class="line"><span class="number">3</span>   강동구 <span class="number">750.0385</span> <span class="number">54.76923</span></span><br><span class="line"><span class="number">4</span>   강릉시 <span class="number">769.8378</span> <span class="number">20.67568</span></span><br><span class="line"><span class="number">5</span>   강북구 <span class="number">896.2143</span> <span class="number">56.78571</span></span><br><span class="line"><span class="number">6</span>   강서구 <span class="number">720.7818</span> <span class="number">38.50909</span></span><br></pre></td></tr></table></figure></p>
<p>갑자기 선생님당 학생수가 궁금해 졌는데…<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; byProvince = aggregate(cbind(Students,Teachers,Students/Teachers)~Province, data=edu.elementary, FUN=mean)</span><br><span class="line">&gt; head(byProvince)</span><br><span class="line">  Province Students Teachers       V3</span><br><span class="line"><span class="number">1</span>   가평군 <span class="number">865.5625</span> <span class="number">14.50000</span> <span class="number">80.38243</span></span><br><span class="line"><span class="number">2</span>   강남구 <span class="number">780.8485</span> <span class="number">47.15152</span> <span class="number">17.81257</span></span><br><span class="line"><span class="number">3</span>   강동구 <span class="number">750.0385</span> <span class="number">54.76923</span> <span class="number">15.29937</span></span><br><span class="line"><span class="number">4</span>   강릉시 <span class="number">769.8378</span> <span class="number">20.67568</span> <span class="number">63.86895</span></span><br><span class="line"><span class="number">5</span>   강북구 <span class="number">896.2143</span> <span class="number">56.78571</span> <span class="number">17.25231</span></span><br><span class="line"><span class="number">6</span>   강서구 <span class="number">720.7818</span> <span class="number">38.50909</span>      <span class="literal">Inf</span></span><br></pre></td></tr></table></figure></p>
<p>헐퀴… 가평군은 모냐.. 선생님 중노동인 듯…<br>강남구를 제친 강동구는 또 모냐… 선생님도 금수저인가…<br>이 둘은 가나다 순이라 항상 비교 당하겠네..ㅋㅋ<br>Inf는 모냐.. 무한인가? 0으로 나누지도 않았는데…<br>cbind도 ~도 적응안되는데…<br><a href="http://rfriend.tistory.com/51" target="_blank" rel="external">http://rfriend.tistory.com/51</a><br>잘 설명되있다.. 후후 기본이 약하다…<br><a href="https://drive.google.com/file/d/0B_ss3O1d3bGxeXhuRXdjRWpiSzg/view" target="_blank" rel="external">https://drive.google.com/file/d/0B_ss3O1d3bGxeXhuRXdjRWpiSzg/view</a><br>아름다운 책을 공유해 주셨다…</p>
<p>물결 (tilde) 설명이다..<br><a href="http://stackoverflow.com/questions/14976331/use-of-tilde-in-r-programming-language" target="_blank" rel="external">http://stackoverflow.com/questions/14976331/use-of-tilde-in-r-programming-language</a><br><a href="http://stackoverflow.com/questions/8055508/the-tilde-operator-in-r" target="_blank" rel="external">http://stackoverflow.com/questions/8055508/the-tilde-operator-in-r</a><br><a href="https://www.google.co.kr/search?client=ubuntu&amp;channel=fs&amp;q=r+tilde&amp;ie=utf-8&amp;oe=utf-8&amp;gfe_rd=cr&amp;ei=Xmb6VoejHab98weizoHgCQ" target="_blank" rel="external">https://www.google.co.kr/search?client=ubuntu&amp;channel=fs&amp;q=r+tilde&amp;ie=utf-8&amp;oe=utf-8&amp;gfe_rd=cr&amp;ei=Xmb6VoejHab98weizoHgCQ</a><br>이해 못함…</p>
<p>Int는 벡터 연산 때문에 발생한 것 같다.<br>그럼 강서구에 선생님이 없는 학교가 있다는 걸까?<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; province_filtered &lt;- filter(edu.elementary, Province==<span class="string">'강서구'</span>, Teachers==<span class="number">0</span>)</span><br><span class="line">&gt; province_filtered</span><br><span class="line">  연도     학제 시도 교육지원청 Province                     학교명 본분교 학교상태 설립구분</span><br><span class="line"><span class="number">1</span> <span class="number">2015</span> 초등학교 부산       북부   강서구               세산초등학교   본교 폐(원)교     공립</span><br><span class="line"><span class="number">2</span> <span class="number">2015</span> 초등학교 서울       강서   강서구 서울공진초등학교공진분교장 분교장 폐(원)교     공립</span><br><span class="line">  우편번호                                                  주소                 홈페이지 Rooms</span><br><span class="line"><span class="number">1</span>  <span class="number">618</span>-<span class="number">220</span>     부산광역시 강서구 세산길 <span class="number">89</span> (미음동.세산초등학교)   http://www.sesan.es.kr     <span class="number">0</span></span><br><span class="line"><span class="number">2</span>  <span class="number">157</span>-<span class="number">807</span> 서울특별시 강서구 양천로<span class="number">55</span>길 <span class="number">22</span> (가양동.공진초등학교) http://www.kongjin.es.kr     <span class="number">0</span></span><br><span class="line">  Students Teachers</span><br><span class="line"><span class="number">1</span>       <span class="number">27</span>        <span class="number">0</span></span><br><span class="line"><span class="number">2</span>       <span class="number">27</span>        <span class="number">0</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
<p>헐 공진초, 세산초가 그러네…</p>
<blockquote>
<p>인접한 지역에 서울탑산초등학교가 개교하자 공진초등학교에는 임대아파트 학생들만 배정되게 되었다. 임대아파트는 저소득 주민들이 장기간 거주하는 특성으로 인해 단지째 고령화가 진행되면서 학생수가 급감하였고, 결국 마곡도시개발사업지구로 본교를 이전하게 되었다. 본래는 이전과 동시에 기존 학생들을 전학하려고 했으나, 주민들의 요청에 따라 2014학년도까지 구 교사를 분교장으로 유지하였다<br><a href="https://ko.wikipedia.org/wiki/%EC%84%9C%EC%9A%B8%EA%B3%B5%EC%A7%84%EC%B4%88%EB%93%B1%ED%95%99%EA%B5%90" target="_blank" rel="external">https://ko.wikipedia.org/wiki/%EC%84%9C%EC%9A%B8%EA%B3%B5%EC%A7%84%EC%B4%88%EB%93%B1%ED%95%99%EA%B5%90</a></p>
</blockquote>
<p>니미럴…<br><a href="https://www.youtube.com/watch?v=jJjZ75T5COI" target="_blank" rel="external">https://www.youtube.com/watch?v=jJjZ75T5COI</a></p>
<p>모든 것의 마지막은 먹먹함을 자아낸다…</p>
<p>결국 Inf를 없애기 위해서 다음과 같이 작성한다.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; byProvince = aggregate(cbind(Students,Teachers)~Province, data=edu.elementary, FUN=mean)</span><br><span class="line">&gt; SByT &lt;- byProvince$Students / byProvince$Teachers</span><br><span class="line">&gt; byProvince = cbind(byProvince, SByT)</span><br><span class="line">&gt; head(byProvince)</span><br><span class="line">  Province Students Teachers     SByT</span><br><span class="line"><span class="number">1</span>   가평군 <span class="number">865.5625</span> <span class="number">14.50000</span> <span class="number">59.69397</span></span><br><span class="line"><span class="number">2</span>   강남구 <span class="number">780.8485</span> <span class="number">47.15152</span> <span class="number">16.56041</span></span><br><span class="line"><span class="number">3</span>   강동구 <span class="number">750.0385</span> <span class="number">54.76923</span> <span class="number">13.69452</span></span><br><span class="line"><span class="number">4</span>   강릉시 <span class="number">769.8378</span> <span class="number">20.67568</span> <span class="number">37.23399</span></span><br><span class="line"><span class="number">5</span>   강북구 <span class="number">896.2143</span> <span class="number">56.78571</span> <span class="number">15.78239</span></span><br><span class="line"><span class="number">6</span>   강서구 <span class="number">720.7818</span> <span class="number">38.50909</span> <span class="number">18.71719</span></span><br></pre></td></tr></table></figure></p>
<p>좋은데는?<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; OrderBySByT = byProvince[order(byProvince$SByT),]</span><br><span class="line">&gt; head(OrderBySByT)</span><br><span class="line">    Province Students Teachers      SByT</span><br><span class="line"><span class="number">183</span>   충주시 <span class="number">193.9231</span> <span class="number">22.07692</span>  <span class="number">8.783972</span></span><br><span class="line"><span class="number">93</span>    서초구 <span class="number">695.9167</span> <span class="number">53.70833</span> <span class="number">12.957331</span></span><br><span class="line"><span class="number">59</span>    도봉구 <span class="number">631.3478</span> <span class="number">48.43478</span> <span class="number">13.035009</span></span><br><span class="line"><span class="number">64</span>    동작구 <span class="number">702.9524</span> <span class="number">53.09524</span> <span class="number">13.239462</span></span><br><span class="line"><span class="number">100</span>   송파구 <span class="number">741.6842</span> <span class="number">54.86842</span> <span class="number">13.517506</span></span><br><span class="line"><span class="number">23</span>    관악구 <span class="number">754.9091</span> <span class="number">55.77273</span> <span class="number">13.535452</span></span><br></pre></td></tr></table></figure></p>
<p>충주로 이사갈까?</p>
<p>옹진군 빡셀듯..<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; OrderBySByT = byProvince[order(-byProvince$SByT),]</span><br><span class="line">&gt; head(OrderBySByT)</span><br><span class="line">    Province Students  Teachers     SByT</span><br><span class="line"><span class="number">138</span>   옹진군 <span class="number">522.6154</span>  <span class="number">6.000000</span> <span class="number">87.10256</span></span><br><span class="line"><span class="number">162</span>   정선군 <span class="number">866.3158</span> <span class="number">11.105263</span> <span class="number">78.00948</span></span><br><span class="line"><span class="number">107</span>   신안군 <span class="number">497.3429</span>  <span class="number">6.457143</span> <span class="number">77.02212</span></span><br><span class="line"><span class="number">170</span>   진도군 <span class="number">766.8235</span> <span class="number">10.235294</span> <span class="number">74.91954</span></span><br><span class="line"><span class="number">75</span>    봉화군 <span class="number">629.2000</span>  <span class="number">8.600000</span> <span class="number">73.16279</span></span><br><span class="line"><span class="number">130</span>   영양군 <span class="number">741.1250</span> <span class="number">10.375000</span> <span class="number">71.43373</span></span><br></pre></td></tr></table></figure></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/R-data-mining/">R, data mining</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://yoursite.com/2016/03/29/data-mining-ex/" data-title="교육 정보 분석, 모아보기 | SwForge&#39;s Note" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/04/01/data-mining-ex-sampling/" title="샘플링">
  <strong>이전글：</strong><br/>
  <span>
  샘플링</span>
</a>
</div>


<div class="next">
<a href="/2016/03/28/data-mining-ex/"  title="교육 정보 분석, 데이터 확인">
 <strong>다음글：</strong><br/> 
 <span>교육 정보 분석, 데이터 확인
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#RStudio__uC601_uBB38_locale__uC124_uC815"><span class="toc-number">1.</span> <span class="toc-text">RStudio 영문 locale 설정</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Aggregate__uC2DC_uB3C4"><span class="toc-number">2.</span> <span class="toc-text">Aggregate 시도</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/R-data-mining/" title="R, data mining">R, data mining<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/rabbitmq/" title="rabbitmq">rabbitmq<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/angularjs/" title="angularjs">angularjs<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/rabiitmq/" title="rabiitmq">rabiitmq<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/monitoring/" title="monitoring">monitoring<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/lodash/" title="lodash">lodash<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/devops/" title="devops">devops<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/tech/" title="tech">tech<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="#" target="_blank" title="home">home</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> ^^; <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="SwForge">SwForge</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'sungwoosnotes';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
